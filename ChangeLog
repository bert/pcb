This ChangeLog is automatically generated from the git commit messages
during the snapshot process.  See README.snapshots and utils/git2cl.

2018-04-07   bert * bert dot timmerman AT xs4all dot nl *

	* NEWS: Updated the NEWS for pcb-4.1.1.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-04-07   bert * bert dot timmerman AT xs4all dot nl *

	* data/pcb.appdata.xml.in: Updated the appdata for pcb-4.1.1.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-04-05   bert * bert dot timmerman AT xs4all dot nl *

	* doc/pcb.texi: Updated the User Manual for pcb-4.1.1.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-04-05   bert * bert dot timmerman AT xs4all dot nl *

	* configure.ac, doc/doxygen/pcb.dox: Update for release pcb-4.1.1.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-04-07   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/batch/batch.c: Correction in function call in the batch
	HID.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-03-28   Dan McMahill * dan AT mcmahill dot net *

	* win32/build_pcb: win32:  build_win32 script improvements to use a
	more automatic DLL list  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-03-28   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.am: pcbtest.bat: use the absolute path to the .exe
	and pass cmd args down.  This is a built batch file used when building under cygwin to be
	able to run pcb for testing prior to install.  By adding the full
	path to the .exe and also passing down additional command line
	arguments, it can also be used for building the documentation.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-03-27   Dan McMahill * dan AT mcmahill dot net *

	* README.win32, win32/Makefile.am, win32/build_pcb,
	win32/mingw_required_pkgs: win32:  Use cygcheck to find DLL list for
	win32 install.  Instead of hard coding the list of DLLs needed for the win32
	package, use cygcheck and a list of mingw packages to generate the
	list.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-03-26   Dan McMahill * dan AT mcmahill dot net *

	* README.win32, win32/build_pcb: Update the win32 mingw cross
	package list to the latest I have installed.  This lets building a
	windows installer work again.  Leave some notes for future
	improvement.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-03-11   Charles Parker * parker dot charles AT gmail dot com *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-gl.c,
	src/hid/gtk/gtkhid-main.c, src/hid/lesstif/main.c, src/hid_draw.h: 
	Add draw_grid to the graphics structure.  Moving the draw_grid function allows it to be replaced by a plugin.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-02-16   Charles Parker * parker dot charles AT gmail dot com *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-gl.c,
	src/hid/gtk/gui.h, src/hid/lesstif/main.c: Make the prototypes of
	the grid drawing routines the same Still need to make gdk and less tif use the box that's passed to
	them  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-03-25   Charles Parker * parker dot charles AT gmail dot com *

	* src/hid.h, src/hid/batch/batch.c, src/hid/common/hidnogui.c,
	src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-gl.c,
	src/hid/gtk/gui.h, src/hid/lesstif/main.c: Make argument type of
	invalidate_lr consistent with BoxType arguments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-02-16   Charles Parker * parker dot charles AT gmail dot com *

	* tests/run_tests.sh: Change test success condition to none failed.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-02-25   Charles Parker * parker dot charles AT gmail dot com *

	* doc/pcb.texi, src/hid/gtk/gtkhid-main.c, src/parse_y.y: Misc
	documentation fixes  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-03-04   Charles Parker * parker dot charles AT gmail dot com *

	* src/rubberband.c: Check the rubberband list to make sure the
	object isn't already on it.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-03-09   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/common/hidnogui.c: Prevent crashes when printing with
	actionscript.   Reported-by: Kai-Martin Knaak * knaak AT iqo dot uni-hannover dot
	de *  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-02-23   bert * bert dot timmerman AT xs4all dot nl *

	* doc/pcb.texi: Added the start of a Toporouter chapter.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-02-22   bert * bert dot timmerman AT xs4all dot nl *

	* doc/pcb.texi: Removed an obsolete Table of Contents.  Duplicated at the end of the Manual.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-02-22   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/lesstif/main.c: Edited documentation for the lesstif
	action Command().   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-02-22   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gtk/gtkhid-main.c: Added documentation for the GTK action
	Command().   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-02-21   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gtk/gtkhid-main.c: Minor edit of the GTK About() action
	documentation.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-02-21   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gtk/gtkhid-main.c: Reformatting for improved readability.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-02-21   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gtk/gtkhid-main.c: Added documentation for the GTK action
	Load().   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-02-21   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gtk/gtkhid-main.c: Added documentation for the GTK action
	Export().   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-02-21   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gtk/gtkhid-main.c: Added documentation for the GTK action
	Busy().   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-02-20   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gtk/gtkhid-main.c: Added documentation for the GTK action
	Benchmark().   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-02-06   bert * bert dot timmerman AT xs4all dot nl *

	* src/parse_y.y: Distinction between current and legacy syntax.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-02-06   bert * bert dot timmerman AT xs4all dot nl *

	* src/parse_y.y: Added Attribute examples.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-02-05   bert * bert dot timmerman AT xs4all dot nl *

	* src/parse_y.y: Do not mix high-res and low-res syntax in the
	Polygon section.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-02-05   bert * bert dot timmerman AT xs4all dot nl *

	* src/parse_y.y: Added missing BuriedFrom and BuriedTo arguments in
	the via section.  Added an example.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-02-05   bert * bert dot timmerman AT xs4all dot nl *

	* doc/pcb.texi, src/parse_y.y: Added an elaboration for square
	brackets in the file format.   Reported-by: Josef Wolf * jw AT raven dot inka dot de *  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-01-27   Charles Parker * parker dot charles AT gmail dot com *

	* src/crosshair.c: Update the pastebuffer BB before computing
	crosshair limits.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-10-29   Charles Parker * parker dot charles AT gmail dot com *

	* src/main.c: Since non-guis may need it, always initialize the
	crosshair.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-11-09   Charles Parker * parker dot charles AT gmail dot com *

	* src/action.c, src/buffer.c, src/change.c, src/crosshair.c,
	src/crosshair.h, src/hid/batch/batch.c, src/hid/gtk/gtkhid-main.c,
	src/hid/lesstif/dialogs.c, src/hid/lesstif/main.c, src/misc.c,
	src/set.c, src/set.h: Allow the crosshair to compute its own limits.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-02-24   Charles Parker * parker dot charles AT gmail dot com *

	* src/crosshair.c: Drawing arcs shouldn't snap to pads on other
	layers  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-02-24   Charles Parker * parker dot charles AT gmail dot com *

	* src/crosshair.c: Add comments to FitCrosshairIntoGrid  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-02-10   Charles Parker * parker dot charles AT gmail dot com *

	* src/file.c: Update Settings.increments after loading files.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-01-28   bert * bert dot timmerman AT xs4all dot nl *

	* doc/doxygen/pcb-releases.html: Updated the pcb releases howto.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-01-28   bert * bert dot timmerman AT xs4all dot nl *

	* ChangeLog: Updated the ChangeLog for pcb-4.1.0.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-01-28   bert * bert dot timmerman AT xs4all dot nl *

	* NEWS: Updated the NEWS for pcb-4.1.0.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-01-28   bert * bert dot timmerman AT xs4all dot nl *

	* data/pcb.appdata.xml.in: Updated the appdata for pcb-4.1.0.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-01-28   bert * bert dot timmerman AT xs4all dot nl *

	* doc/pcb.texi: Updated the User Manual for pcb-4.1.0.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-01-27   bert * bert dot timmerman AT xs4all dot nl *

	* doc/doxygen/pcb-releases.html: Updated the pcb releases howto for
	developers.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-01-27   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/nelma/nelma.c: White space correction in the User Manual
	(nelma).   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-01-27   bert * bert dot timmerman AT xs4all dot nl *

	* tests/Makefile.am, tests/golden/hid_nelma4/nelma_board.em,
	tests/inputs/nelma_board.pcb, tests/run_tests.sh, tests/tests.list: 
	Added a set of regression tests for the nelma HID.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-01-27   bert * bert dot timmerman AT xs4all dot nl *

	* doc/pcb.texi: Updated the User Manual for nelma and gsvit
	exporters.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-01-25   bert * bert dot timmerman AT xs4all dot nl *

	* doc/pcb.texi: Updated pcb contributors.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-01-16   bert * bert dot timmerman AT xs4all dot nl *

	* tests/Makefile.am, tests/golden/hid_gsvit4/gsvit_board.xem,
	tests/inputs/gsvit_board.pcb, tests/run_tests.sh, tests/tests.list: 
	Added a set of regression tests for the gsvit HID.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-01-15   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gsvit/gsvit.c, src/hid/gsvit/xmlout.h: Fix indentation.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-12-31   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gsvit/gsvit.c: Avoid double free().   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-12-30   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gsvit/gsvit.c, src/hid/gsvit/xmlout.h: Applied patches by
	Mike Crowe.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-12-06   bert * bert dot timmerman AT xs4all dot nl *

	* configure.ac, src/Makefile.am, src/hid/common/draw_helpers.h,
	src/hid/gsvit/gsvit.c, src/hid/gsvit/hid.conf,
	src/hid/gsvit/xmlout.h: Added gsvit HID.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-01-21   bert * bert dot timmerman AT xs4all dot nl *

	* src/action.c, src/buffer.c, src/change.c, src/crosshair.c,
	src/crosshair.h, src/hid/batch/batch.c, src/hid/gtk/gtkhid-main.c,
	src/hid/lesstif/dialogs.c, src/hid/lesstif/main.c, src/misc.c,
	src/set.c, src/set.h: Revert "Allow the crosshair to compute its own
	limits." This reverts commit f79c6f8a3c53df61e1d139ba8b6e264fbbfa28c3.  See also bug report LP1744589
	(https://bugs.launchpad.net/pcb/+bug/1744589)  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2018-01-21   bert * bert dot timmerman AT xs4all dot nl *

	* src/main.c: Revert "Since non-guis may need it, always initialize
	the crosshair." This reverts commit 683b191cd7cecb388609fffbb519ab1484fbb005.  See also bug report LP1744589
	(https://bugs.launchpad.net/pcb/+bug/1744589)  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-11-25   bert * bert dot timmerman AT xs4all dot nl *

	* lib/geda.inc, lib/nichicon.inc: Added the UPT 12.5mm dia. x 40mm
	height footprint definitions.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-11-25   bert * bert dot timmerman AT xs4all dot nl *

	* lib/geda.inc, lib/nichicon.inc: Added the UPT 12.5mm dia. x 35.5mm
	height footprint definitions.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-11-25   bert * bert dot timmerman AT xs4all dot nl *

	* lib/geda.inc, lib/nichicon.inc: Added the UPT 12.5mm dia. x 31.5mm
	height footprint definitions.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-11-25   bert * bert dot timmerman AT xs4all dot nl *

	* lib/geda.inc, lib/nichicon.inc: Added the UPT 12.5mm dia. x 25mm
	height footprint definitions.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-11-25   bert * bert dot timmerman AT xs4all dot nl *

	* lib/geda.inc: geda.inc: minor correction in comment.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-11-25   bert * bert dot timmerman AT xs4all dot nl *

	* lib/geda.inc, lib/nichicon.inc: Added the UPT 10mm dia. x 31.5mm
	height footprint definitions.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-11-25   bert * bert dot timmerman AT xs4all dot nl *

	* lib/geda.inc, lib/nichicon.inc: Added the UPT 16mm dia. x 40mm
	height footprint definitions.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-11-25   bert * bert dot timmerman AT xs4all dot nl *

	* lib/geda.inc, lib/nichicon.inc: Added the UPT 16mm dia. x 35.5mm
	height footprint definitions.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-11-25   bert * bert dot timmerman AT xs4all dot nl *

	* lib/geda.inc, lib/nichicon.inc: Added the UPT 16mm dia. x 31.5mm
	height footprint definitions.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-11-25   bert * bert dot timmerman AT xs4all dot nl *

	* lib/geda.inc, lib/nichicon.inc: Added the UPT 18mm dia. x 35.5mm
	height footprint definitions.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-11-25   bert * bert dot timmerman AT xs4all dot nl *

	* lib/geda.inc, lib/nichicon.inc: Added the UPT 18mm dia. x 40mm
	height footprint definitions.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-11-25   bert * bert dot timmerman AT xs4all dot nl *

	* lib/geda.inc, lib/nichicon.inc: Added the LGX 35mm dia. x 58mm
	height footprint definitions.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-11-05   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/batch/batch.c: src/hid/batch/batch.c: Converted plain
	comments into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-11-05   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/bom/bom.c: src/bom/bom.c: Converted plain comments into
	doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-11-01   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/hidint.h: src/hid/hidint.h: Converted plain comments into
	doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-11-01   bert * bert dot timmerman AT xs4all dot nl *

	* src/vendor.h: src/vendor.h: Converted plain comments into doxygen
	comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-11-01   bert * bert dot timmerman AT xs4all dot nl *

	* src/vendor.c: src/vendor.c: Converted plain comments into doxygen
	comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-10-31   bert * bert dot timmerman AT xs4all dot nl *

	* src/pcb-printf.h: src/pcb-printf.h: Converted plain comments into
	doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-10-31   bert * bert dot timmerman AT xs4all dot nl *

	* src/pcb-printf.c: src/pcb-printf.c: Converted plain comments into
	doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-10-29   Charles Parker * parker dot charles AT gmail dot com *

	* src/main.c: Since non-guis may need it, always initialize the
	crosshair.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-11-09   Charles Parker * parker dot charles AT gmail dot com *

	* src/action.c, src/buffer.c, src/change.c, src/crosshair.c,
	src/crosshair.h, src/hid/batch/batch.c, src/hid/gtk/gtkhid-main.c,
	src/hid/lesstif/dialogs.c, src/hid/lesstif/main.c, src/misc.c,
	src/set.c, src/set.h: Allow the crosshair to compute its own limits.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-10-29   bert * bert dot timmerman AT xs4all dot nl *

	* src/pcb-printf.c: When writing file, write arc angles with decimal
	places.  pcb currently will read a file with non-integer angles, but rounds
	to the nearest integer when writing arcs with such angles. Precision
	greater than 1 degree is needed when creating complex shapes using
	arcs, e.g. board outlines to fit some enclosures.   Reported-by: Andrew Armenia * armena AT ultradian dot com *  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-12-25   Jan Damborsky * dambi AT tio dot cz *

	* src/gettext.h, src/main.c, src/print.c: Building from source fails
	on Solaris due to missing locale.h  Reviewed-by: bert * bert dot timmerman AT xs4all dot nl *

2017-10-01   bert * bert dot timmerman AT xs4all dot nl *

	* data/Makefile.am, data/x-excellon.desktop.in,
	data/x-gerber.desktop.in, data/x-pcb-footprint.desktop.in,
	data/x-pcb-layout.desktop.in, data/x-pcb-netlist.desktop.in,
	po/POTFILES.in: Remove deprecated mimelnk files.  Bug-Debian: http://bugs.debian.org/875526  Reported-by: أحمد المحمودي (Ahmed El-Mahmoudy) *
	aelmahmoudy AT users dot sourceforge dot net *  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-10-27   bert * bert dot timmerman AT xs4all dot nl *

	* data/pcb.desktop.in: Correction in desktop integration name and
	comment.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-10-03   bert * bert dot timmerman AT xs4all dot nl *

	* po/de.po, po/fr.po, po/nl.po, po/pt_BR.po, po/ru.po, src/const.h,
	src/hid/common/hidgl.c, src/hid/gcode/gcode.c,
	src/hid/gtk/ghid-main-menu.c, src/misc.c, tests/run_tests.sh,
	tests/tests.list: Fix typos.   Reported-by: أحمد المحمودي (Ahmed El-Mahmoudy) *
	aelmahmoudy AT users dot sourceforge dot net *  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-09-24   bert * bert dot timmerman AT xs4all dot nl *

	* doc/pcb.texi: Splitted the Installation and Troubleshooting
	appendix.  - removed obsolete e-mail addresses, links and cruft.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-09-24   bert * bert dot timmerman AT xs4all dot nl *

	* doc/pcb.texi: Various edits in the user manual.  - get rid of misaligned chapter numbers in comments, - attribution of co-editors, - minor edits.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-09-24   bert * bert dot timmerman AT xs4all dot nl *

	* doc/pcb.texi: Added a section describing Header objects to the
	Introduction chapter.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-09-24   bert * bert dot timmerman AT xs4all dot nl *

	* doc/pcb.texi, src/hid/bom/bom.c, src/hid/ipcd356/ipcd356.c,
	src/hid/nelma/nelma.c: Reordered exporter options in the user
	manual.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-09-30   bert * bert dot timmerman AT xs4all dot nl *

	* src/find.c: Access members with ".".   Reported-by: Mike Crowe * mpcrowe AT gmail dot com *  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-09-30   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/common/draw_helpers.c: Correction in function types.   Reported-by: Mike Crowe * mpcrowe AT gmail dot com *  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-03-06   DJ Delorie * dj AT delorie dot com *

	* src/rubberband.c: Checks all visible lines which belong to the
	same group as the passed arc.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-09-24   bert * bert dot timmerman AT xs4all dot nl *

	* doc/pcb.texi: Added recent contributors to the user manual.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-09-24   bert * bert dot timmerman AT xs4all dot nl *

	* doc/pcb.texi: pcb.texi: better front matter and copyrights.  By international treaty, the copyright notice for a book must be
	either on the title page or on the back of the title page. When the
	copyright notice is on the back of the title page, that page is
	customarily not numbered. Therefore, in Texinfo, the information on
	the copyright page should be  within @titlepage and @end titlepage
	commands.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-09-17   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gerber/gerber.c: gerber: update the docs for --name-style
	'oshpark'.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-09-08   bert * bert dot timmerman AT xs4all dot nl *

	* src/main.c: Correction in the User Manual/General options
	documentation.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-09-08   bert * bert dot timmerman AT xs4all dot nl *

	* src/main.c: Elaboration on --paste-adjust.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-09-07   Keith Packard * keithp AT keithp dot com *

	* src/draw.c, src/global.h, src/main.c: This parameter changes how
	pads in the paste layer are drawn, generally so that they can be
	made smaller to account for tool width when cutting a stencil.  The adjustment factor is in 1/100 of a mil; shrinking the pads is
	done with a negative amount.   Signed-off-by: Keith Packard * keithp AT keithp dot com *  Reviewed-by: bert * bert dot timmerman AT xs4all dot nl *

2017-09-07   bert * bert dot timmerman AT xs4all dot nl *

	* data/pcb.appdata.xml.in: appdata: added releases section.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-09-07   bert * bert dot timmerman AT xs4all dot nl *

	* tests/run_tests.sh: Test for fail in the test suite.   Reported-by: Bdale Garbee * bdale AT gag dot com *  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-09-07   bert * bert dot timmerman AT xs4all dot nl *

	* data/pcb.desktop.in: pcb.desktop: added Development category.   Reported-by: Bdale Garbee * bdale AT gag dot com *  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-09-07   bert * bert dot timmerman AT xs4all dot nl *

	* data/Makefile.am: appdata moved to metainfo directory.   Reported-by: Bdale Garbee * bdale AT gag dot com *  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-09-07   bert * bert dot timmerman AT xs4all dot nl *

	* data/pcb.appdata.xml.in: appdata format change: <application> tag
	is now <component>.   Reported-by: Bdale Garbee * bdale AT gag dot com *  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-08-31   bert * bert dot timmerman AT xs4all dot nl *

	* ChangeLog, NEWS, doc/pcb.texi: Release notes for pcb-4.0.2.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-08-28   Charles Parker * parker dot charles AT gmail dot com *

	* src/hid/lesstif/main.c: Added check to suppress runtime scrollbar
	warnings.   Reviewed-by: bert * bert dot timmerman AT xs4all dot nl *

2017-08-27   bert * bert dot timmerman AT xs4all dot nl *

	* doc/doxygen/README.ppa, doc/doxygen/pcb-launchpad-ppa.html,
	doc/doxygen/pcb-main.txt: Converted the README.ppa into a html file.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-08-27   bert * bert dot timmerman AT xs4all dot nl *

	* README.ppa, doc/doxygen/README.ppa: README.ppa: moved to
	doc/doxygen.  Added corrections and changes.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-07-30   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gerber/gerber.c: Added correct file suffixes for OSH Park
	pcb boards.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-07-30   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gcode/gcode.c: Corrections and additions in the G-code
	documentation.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-07-30   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/png/png.c: More corrections in the png documentation.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-07-30   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/ipcd356/ipcd356.c: Corrections and additions in the
	IPC-D-356 documentation.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-07-30   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/bom/bom.c: Corrections and additions in the bom
	documentation.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-07-30   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/png/png.c: Corrections and additions in the png
	documentation.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-07-30   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gerber/gerber.c: Corrections and additions in the gerber
	documentation.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-08-18   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gtk/gui-top-window.c: src/hid/gtk/gui-top-window.c:
	corrections and reformatting doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-08-17   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gtk/ghid-main-menu.c: src/hid/gtk/ghid-main-menu.c:
	corrections in doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-07-29   bert * bert dot timmerman AT xs4all dot nl *

	* src/flags.c, src/macro.h: Fix of incorrect flag struct comparison.  May have caused unpredictable undo bugs.   Reported-by: Igor2 * gedau AT igor2 dot repo dot hu *  Reviewed-by: bert * bert dot timmerman AT xs4all dot nl *

2017-08-27   bert * bert dot timmerman AT xs4all dot nl *

	* src/insert.c: Removed unused code when inserting points on rats.  Insert point in rat line has code that never runs.  See r5309 on
	pcb-rnd.   Reported-by: Igor2 * gedau AT igor2 dot repo dot hu *  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-07-17   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/lesstif/menu.c: lesstif/menu.c: doxygenation of
	acc_sort_rev().   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-07-16   bert * bert dot timmerman AT xs4all dot nl *

	* .gitignore: Exclude eps files in the doc directory.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-06-25   Newell Jensen * newell dot jensen AT canonical dot com *

	* src/hid/gtk/gui-command-window.c: Added escape callback to the
	command window.  This allows the command window to now be closed with the escape key.   Reviewed-by: bert * bert dot timmerman AT xs4all dot nl *

2017-06-25   Charles Parker * parker dot charles AT gmail dot com *

	* src/parse_y.y: Don't send ParseRouteString a null pointer if the
	file contains an empty style field.   Reviewed-by: bert * bert dot timmerman AT xs4all dot nl *

2017-06-07   Charles Parker * parker dot charles AT gmail dot com *

	* src/mirror.c: Moved declaration to beginning of block  Reviewed-by: bert * bert dot timmerman AT xs4all dot nl *

2017-05-06   Johann Klammer * klammerj AT a1 dot net *

	* src/hid/common/draw_helpers.c: Fix a drawing routine  Reviewed-by: bert * bert dot timmerman AT xs4all dot nl *

2017-05-04   Johann Klammer * klammerj AT a1 dot net *

	* src/mirror.c: fix the SMD pads resizing bug (is this needed for lines, too?)  Reviewed-by: bert * bert dot timmerman AT xs4all dot nl *

2017-01-22   Charles Parker * parker dot charles AT gmail dot com *

	* src/pcbtest.sh.in: Small enhancements to the pcbtest.sh script Allow the binary for gdb to be specified on the command line Make
	the definition of test paths more readable.   Reviewed-by: bert * bert dot timmerman AT xs4all dot nl *

2017-05-28   Charles Parker * parker dot charles AT gmail dot com *

	* src/parse_y.y: Correction to the FSF address in parse_y.y.

2017-05-20   bert * bert dot timmerman AT xs4all dot nl *

	* tools/gerbertotk.c: Corrections in the FSF address in some tools
	source files.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-05-20   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/common/hidgl.c, src/hid/common/hidgl.h,
	src/hid/common/hidinit.c, src/hid/gcode/gcode.c,
	src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gui-command-window.c,
	src/hid/gtk/gui-config.c, src/hid/gtk/gui-dialog-print.c,
	src/hid/gtk/gui-dialog.c, src/hid/gtk/gui-drc-window.c,
	src/hid/gtk/gui-drc-window.h, src/hid/gtk/gui-icons-misc.data,
	src/hid/gtk/gui-icons-mode-buttons.data,
	src/hid/gtk/gui-keyref-window.c, src/hid/gtk/gui-library-window.c,
	src/hid/gtk/gui-library-window.h, src/hid/gtk/gui-log-window.c,
	src/hid/gtk/gui-misc.c, src/hid/gtk/gui-netlist-window.c,
	src/hid/gtk/gui-output-events.c, src/hid/gtk/gui-pinout-preview.c,
	src/hid/gtk/gui-pinout-preview.h, src/hid/gtk/gui-pinout-window.c,
	src/hid/gtk/gui-top-window.c, src/hid/gtk/gui-trackball.c,
	src/hid/gtk/gui-trackball.h, src/hid/gtk/gui-utils.c,
	src/hid/gtk/gui.h, src/hid/ipcd356/ipcd356.c,
	src/hid/lesstif/main.c, src/hid/nelma/nelma.c, src/hid/png/png.c: 
	Corrections in the FSF address in some src/hid/* files.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-05-13   bert * bert dot timmerman AT xs4all dot nl *

	* src/action.c, src/action.h, src/autoplace.c, src/autoplace.h,
	src/autoroute.c, src/autoroute.h, src/box.h, src/buffer.c,
	src/buffer.h, src/change.c, src/change.h, src/clip.c, src/clip.h,
	src/compat.c, src/compat.h, src/const.h, src/copy.c, src/copy.h,
	src/create.c, src/create.h, src/crosshair.c, src/crosshair.h,
	src/data.c, src/data.h, src/dbus-pcbmain.c, src/dbus-pcbmain.h,
	src/dbus.c, src/dbus.h, src/djopt.c, src/djopt.h, src/draw.c,
	src/draw.h, src/drill.c, src/drill.h, src/edif_parse.h,
	src/error.c, src/error.h, src/file.c, src/file.h, src/find.h,
	src/flags.c, src/fontmode.c, src/free_atexit.c, src/gather-actions,
	src/heap.c, src/heap.h, src/hid.h, src/hid_draw.h, src/icon.data,
	src/insert.c, src/insert.h, src/intersect.c, src/intersect.h,
	src/layerflags.c, src/layerflags.h, src/line.c, src/line.h,
	src/lrealpath.c, src/macro.h, src/main-test.c, src/main.c,
	src/mirror.c, src/mirror.h, src/misc.c, src/misc.h,
	src/mode_icon.data, src/move.c, src/move.h, src/mtspace.c,
	src/mtspace.h, src/mymem.c, src/mymem.h, src/netlist.c,
	src/parse_l.h, src/parse_l.l, src/pcb-printf.c, src/pcb-printf.h,
	src/pcbtest.sh.in, src/polyarea.h, src/polygon.c, src/polygon.h,
	src/polygon1.c, src/print.c, src/print.h, src/puller.c, src/rats.c,
	src/rats.h, src/remove.c, src/remove.h, src/renumber.c,
	src/report.c, src/report.h, src/rotate.c, src/rotate.h,
	src/rtree.c, src/rtree.h, src/rubberband.c, src/rubberband.h,
	src/search.c, src/search.h, src/select.c, src/select.h, src/set.c,
	src/set.h, src/smartdisperse.c, src/strcasestr.c, src/strflags.c,
	src/strflags.h, src/teardrops.c, src/thermal.c, src/thermal.h,
	src/toporouter.c, src/toporouter.h, src/undo.c, src/undo.h,
	src/vector.c, src/vector.h, src/vendor.c, src/vendor.h: Corrections
	in the FSF address in some src files.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-05-13   bert * bert dot timmerman AT xs4all dot nl *

	* doc/Makefile.am, doc/eps2png, doc/pcb.1, doc/refcard.tex: 
	Corrections in the FSF address in some doc files.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-05-13   bert * bert dot timmerman AT xs4all dot nl *

	* tools/gnet-pcbfwd.scm: Corrections in the FSF address in gschem
	forward annotation scheme file.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-05-13   bert * bert dot timmerman AT xs4all dot nl *

	* COPYING: Corrections in the FSF address in the COPYING file.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-05-13   bert * bert dot timmerman AT xs4all dot nl *

	* lib/CreateLibrary.sh.in, lib/CreateLibraryContents.sh.in,
	lib/ListLibraryContents.sh.in, lib/QueryLibrary.sh.in,
	lib/TTL_74xx_DIL.list, lib/TTL_74xx_DIL.m4, lib/amp.inc,
	lib/amphenol.inc, lib/amphenol.list, lib/amphenol.m4,
	lib/aries.inc, lib/bourns.inc, lib/candk.inc, lib/common.m4,
	lib/connector.inc, lib/connector.list, lib/connector.m4,
	lib/crystal.list, lib/crystal.m4, lib/cts.inc, lib/dil.inc,
	lib/gen_list.awk, lib/gen_m4.awk, lib/generic.list, lib/generic.m4,
	lib/jerry.list, lib/jerry.m4, lib/johnstech.inc, lib/linear.list,
	lib/linear.m4, lib/logic.list, lib/logic.m4, lib/lsi.list,
	lib/lsi.m4, lib/memory.list, lib/memory.m4, lib/minicircuits.inc,
	lib/misc.inc, lib/nichicon.inc, lib/optek.inc, lib/optical.list,
	lib/optical.m4, lib/panasonic.inc, lib/plcc.inc, lib/qfn.inc,
	lib/qfp.inc, lib/qfp2.inc, lib/qfpdj.inc, lib/resistor_0.25W.list,
	lib/resistor_0.25W.m4, lib/resistor_adjust.inc,
	lib/resistor_adjust.list, lib/resistor_adjust.m4,
	lib/resistor_array.list, lib/resistor_array.m4, lib/tdk.inc,
	lib/texas_inst_amplifier.list, lib/texas_inst_amplifier.m4,
	lib/texas_inst_voltage_reg.list, lib/texas_inst_voltage_reg.m4,
	lib/to.inc, lib/toko.inc, lib/transistor.list, lib/transistor.m4,
	lib/united_chemicon.inc: Corrections in the FSF address in m4
	library files.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-05-20   bert * bert dot timmerman AT xs4all dot nl *

	* doc/doxygen/what-is-pcb.html: We do not need "body" tags for
	included html sections.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-05-20   bert * bert dot timmerman AT xs4all dot nl *

	* doc/doxygen/pcb-main.txt, doc/doxygen/pcb-releases.html: Added a
	pcb-releases howto to the doxygen developer docs.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-05-20   Charles Parker * parker dot charles AT gmail dot com *

	* src/hid/ps/ps.c: Include board outline on assembly drawings  Reviewed-by: bert * bert dot timmerman AT xs4all dot nl *

2017-05-07   bert * bert dot timmerman AT xs4all dot nl *

	* ChangeLog, NEWS, doc/pcb.texi: Release notes for pcb-4.0.1.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-01-08   bert * bert dot timmerman AT xs4all dot nl *

	* src/misc.c: misc.c: correction in AttributeRemoveFromList().  Closes-bug: https://bugs.launchpad.net/pcb/+bug/1654821  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-03-19   Charles Parker * parker dot charles AT gmail dot com *

	* src/hid/gtk/gui-command-window.c: Don't execute the previous
	action when cancelling command entry.   Reviewed-by: bert * bert dot timmerman AT xs4all dot nl *

2017-05-02   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gtk/ghid-cell-renderer-visibility.c,
	src/hid/gtk/ghid-cell-renderer-visibility.h: 
	src/hid/gtk/ghid-cell-renderer-visibility.[ch]: corrections in
	doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-05-02   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gtk/gui-command-window.c: 
	src/hid/gtk/gui-command-window.c: Converted plain comments into
	doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-02-19   Charles Parker * parker dot charles AT gmail dot com *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/lesstif/main.c: Fix two comments
	that were wrong  Reviewed-by: bert * bert dot timmerman AT xs4all dot nl *

2017-02-18   Charles Parker * parker dot charles AT gmail dot com *

	* src/hid/gtk/gtkhid-gdk.c: Added comments to the gdk redraw_region
	function  Reviewed-by: bert * bert dot timmerman AT xs4all dot nl *

2017-04-30   Dan McMahill * dan AT mcmahill dot net *

	* : commit a44198b8d9c13b0cf69f185ecace12bbc4aa7e27  Author: Dan
	McMahill * dan AT mcmahill dot net * Date:   Sun Apr 30 20:58:44
	2017 -0400

2017-04-20   Charles Parker * parker dot charles AT gmail dot com *

	* src/hid/gtk/gui-command-window.c: Reorchestrate the closing of the
	command window to not crash.   Reported-by: Igor2 * gedau AT igor2 dot repo dot hu *  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-04-13   Charles Parker * parker dot charles AT gmail dot com *

	* src/hid/gtk/gtkhid-gl.c: Only invalidate the screen after changes
	to the crosshair or mark are complete  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-04-03   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc, lib/nichicon.inc: Update pin diameters for Nichicon
	LGY and LGX series after getting some parts on hand to compare to
	the drawings.

2017-03-31   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc, lib/nichicon.inc: Add all of the Nichicon LGX and
	LGY series of aluminum electrolytics and one of the UPT series

2017-03-30   Dan McMahill * dan AT mcmahill dot net *

	* lib/toko.inc: add some comments about improvements to the toko
	inductors in a can.  No physical change

2017-03-21   Dan McMahill * dan AT mcmahill dot net *

	* win32/build_pcb, win32/pcb.nsi.in: Cleanup the win32 build script
	a good bit.  An important change is that instead of blindly
	installing all of the mingw cross system root files, only install a
	set of listed ones.  This not only reduces the size of the windows
	installer but makes sure we have a more repeatable build and know
	what we are actually bundling into the installer.

2017-03-21   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.am: When building under cygwin, create a pcbtest.bat
	batch file that allows testing the compiled pcb without installing.
	This is somewhat analogous to the pcbtest.sh script generated on
	linux and other unix-like systems.

2017-03-21   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: Disable one of the checks used to deal with older
	gdlib installs on some linux systems when building under cygwin as
	the test has problems.  Repairs building for mingw under cygwin.

2017-02-19   bert * bert dot timmerman AT xs4all dot nl *

	* doc/pcb.texi: Added more documentation for the IPC-D-356 netlist
	exporter.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-02-19   bert * bert dot timmerman AT xs4all dot nl *

	* src/draw.c: Correction in drawing end angle in "BuriedTo"
	indicator arc.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-02-27   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc: In the mounting hole macro, change the calculation
	of the pad size for the support vias to make them as large as
	possible without actually changing the copper (the support vias are
	covered by the main pad).  This does not affect the fabricated board
	but it does remove some false positive DRC complaints.

2017-02-27   Dan McMahill * dan AT mcmahill dot net *

	* lib/toko.inc: fix clearance on the Toko 7P footprint.

2017-02-25   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc: remove an extra empty attribute which is not needed
	and causes warnings in the mounting hole macro

2017-02-25   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc: fix problem in some possible invocations of the
	generic mounting hole macro.  All footprints pass syntax checks
	again.

2017-02-25   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.am: add two missing files to the list of what to
	clean

2017-02-25   Dan McMahill * dan AT mcmahill dot net *

	* : commit 4d3f77e7a4d189cfe986c8cff7065355a426ff4e  Author: Dan
	McMahill * dan AT mcmahill dot net * Date:   Sat Feb 25 12:35:58
	2017 -0500

2017-02-25   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc: Add PKG_MTHOLE_GENERIC macro for fairly generic
	mounting holes.  Use this to define IPC mounting holes for #4 and #6
	machine screws with pan heads or flat washers for both "tight"
	(board < 4") and "loose" (board > 4") fits.  Add TO-263 footprint.

2017-02-25   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc: add DO-41 diode package, horizontally mounted

2017-02-25   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.am, lib/common.m4, lib/geda.inc,
	lib/united_chemicon.inc: Add some IPC radial capacitor footprints
	and use those to create some united chemicon footprints.

2017-02-25   Dan McMahill * dan AT mcmahill dot net *

	* lib/misc.inc: add PKG_RADIAL_MM100 macro for doing more general
	metric 2 pin radial packages

2017-02-25   Dan McMahill * dan AT mcmahill dot net *

	* lib/CreateLibraryContents.sh.in: Allow _ in the TYPE lines.
	Verified with a complete pcblib-newlib build.  This lets a category
	like united_chemicon keep the _ instead of converting to a space.

2017-02-25   Dan McMahill * dan AT mcmahill dot net *

	* lib/misc.inc: for the horizontally mounted axial macro add the
	missing bits for marking polarity on parts like diodes

2017-02-25   Dan McMahill * dan AT mcmahill dot net *

	* lib/misc.inc: remove spurious . at the start of the file

2017-02-22   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.am, lib/geda.inc, lib/gen_geda_list.awk,
	lib/gen_geda_m4.awk: gen_geda_*.awk were nearly identical to
	gen_*.awk so add 2 lines to geda.inc so we can use the same script
	for everything.  Verified that pcblib-newlib builds with identical
	results before/after.

2017-02-22   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.am, lib/common.m4, lib/toko.inc: add toko category
	and the 7P variable inductors

2017-02-22   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.am, lib/common.m4, lib/geda.inc, lib/misc.inc,
	lib/tdk.inc: Add macro with more programmability for 2 pin axial
	components.  Use this to add a few IPC-7251 compliant footprints for
	axial inductors, horizontally mounted.  Use this in turn for the TDK
	B82145A RF chokes family.

2017-02-21   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: Some older gdlib-config's in the wild (Ubuntu
	precise for example) forget to add "-lgd" so check for this.

2017-02-20   bert * bert dot timmerman AT xs4all dot nl *

	* src/pcb-menu.res.in: Add blind/buried via feature commands to the
	Lesstif pull down menu.   Reviewed-by: DJ Delorie * dj AT delorie dot com *  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-02-11   Charles Parker * parker dot charles AT gmail dot com *

	* tests/Makefile.am: Added missing input file to EXTRA_DIST  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-02-03   bert * bert dot timmerman AT xs4all dot nl *

	* tests/Makefile.am, tests/golden/hid_ipcd3561/ipcd356_board.net,
	tests/inputs/ipcd356_board.pcb, tests/run_tests.sh,
	tests/tests.list: IPC-D-356: added a regression test.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-02-16   Charles Parker * parker dot charles AT gmail dot com *

	* configure.ac: Strip the number of commits from the version string
	and get rid of the dirty tag  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-02-18   bert * bert dot timmerman AT xs4all dot nl *

	* src/file.c, src/file.h: Bump the pcb file version to 20170218.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-02-16   bert * bert dot timmerman AT xs4all dot nl *

	* tests/Makefile.am: Added input and golden files to EXTRA_DIST.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-07-29   Milan Prochac * milan AT prochac dot sk *

	* doc/pcb.texi, src/action.c, src/buffer.c, src/change.c,
	src/change.h, src/const.h, src/copy.c, src/create.c, src/create.h,
	src/draw.c, src/draw.h, src/file.c, src/file.h, src/find.c,
	src/flags.c, src/global.h, src/gpcb-menu.res.in,
	src/hid/common/flags.c, src/hid/gerber/gerber.c, src/hid/hidint.h,
	src/hid/ps/ps.c, src/macro.h, src/main.c, src/misc.c, src/misc.h,
	src/move.c, src/parse_y.y, src/polygon.c, src/remove.c,
	src/remove.h, src/report.c, src/search.c, src/search.h,
	src/select.c, src/select.h, src/strflags.c, src/undo.c, src/undo.h,
	tests/golden/hid_gerber4/buried.bottom.gbr,
	tests/golden/hid_gerber4/buried.fab.gbr,
	tests/golden/hid_gerber4/buried.group2.gbr,
	tests/golden/hid_gerber4/buried.group4.gbr,
	tests/golden/hid_gerber4/buried.group7.gbr,
	tests/golden/hid_gerber4/buried.plated-drill.cnc,
	tests/golden/hid_gerber4/buried.plated-drill_03-08.cnc,
	tests/golden/hid_gerber4/buried.top.gbr,
	tests/golden/hid_ps2/buried.ps, tests/inputs/buried.pcb,
	tests/tests.list: Buried vias  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-02-16   Milan Prochac * milan AT prochac dot sk *

	* src/hid/gcode/gcode.c: Fix for gcode dimensions  Reviewed-by: Peter Clifton * Peter dot Clifton AT
	clifton-electronics dot co dot uk *  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-02-11   bert * bert dot timmerman AT xs4all dot nl *

	* src/renumber.c: Correction in renumber initialisation.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-02-13   bert * bert dot timmerman AT xs4all dot nl *

	* antifork/BenBergman, antifork/WileyECoyote, antifork/alyoshin,
	antifork/antifork.sh, antifork/bert, antifork/bgamari,
	antifork/clifton, antifork/dparnell, antifork/dti, antifork/fruoff,
	antifork/gde, antifork/jaredcasper, antifork/jpmatsci,
	antifork/kupson, antifork/leaky, antifork/mirage335,
	antifork/rlutz, antifork/rnd, antifork/russdill, antifork/see,
	antifork/thequux, antifork/whiteaudio: Remove the antifork
	abomination.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-02-09   Charles Parker * parker dot charles AT gmail dot com *

	* src/hid/common/hidinit.c: Added comments  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-02-10   Charles Parker * parker dot charles AT gmail dot com *

	* src/hid/lesstif/main.c: Whitespace changes for conciseness and
	readability  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-02-10   Charles Parker * parker dot charles AT gmail dot com *

	* src/hid/lesstif/main.c: Added comments to grid drawing routine for
	the lesstif canvas  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-02-10   Charles Parker * parker dot charles AT gmail dot com *

	* src/hid/gtk/gtkhid-gdk.c: Whitespace changes for conciseness and
	readability  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-02-10   Charles Parker * parker dot charles AT gmail dot com *

	* src/hid/gtk/gtkhid-gdk.c: Add comments to the grid drawing routine
	for the gdk canvas  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-02-10   Charles Parker * parker dot charles AT gmail dot com *

	* src/hid/common/hidgl.c: Add comments to grid drawing routine for
	GL canvas  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-01-24   Charles Parker * parker dot charles AT gmail dot com *

	* src/edif.y: If compile warnings in edif.y when DEBUG is defined.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-01-24   Charles Parker * parker dot charles AT gmail dot com *

	* src/copy.c: Fix compile warning in copy.c when DEBUG is defined.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-01-24   Charles Parker * parker dot charles AT gmail dot com *

	* src/action.c: Fix compile warnings in action.c when DEBUG is
	defined.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-02-12   Charles Parker * parker dot charles AT gmail dot com *

	* gts/boolean.c, gts/split.c: Removed unused functions and variables
	generating compile warnings  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-01-24   Charles Parker * parker dot charles AT gmail dot com *

	* gts/boolean.c, gts/split.c: Fix GTS compile error, and warnings
	due to missing include.  The compile error was the result of a function defined inside
	another function. The warnings were from the missing include.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-02-08   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: change from AC_FD_CC to AS_MESSAGE_LOG_FD, noted by
	Bert  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-02-07   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: mstctxt (message context) is not supported by all
	versions of msgfmt so check at configure time to make sure we have a
	tool that will work instead of waiting until well into the build for
	failure.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-02-08   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: Eugene Mikhantiev noted that Ubuntu precise does not
	include the gdlib.pc file and still relies on gdlib-config.  Put
	code in that tries gdlib-config if pkg-config can't find gdlib.

2017-02-07   Dan McMahill * dan AT mcmahill dot net *

	* lib/m4lib_to_newlib.sh: match() with 3 arguments is a gawk
	extension.  Rework the code to avoid using a 3 argument call to
	match() in one spot.  Lets the script run with gawk or NetBSD's awk
	(20121220).  Verified that the generated result is identical to the
	previous gawk result using both gawk and NetBSDs awk.

2017-02-07   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac, tests/Makefile.am, tests/run_tests.sh: In the test
	suite, check for a working X display using xhost before running
	action script tests because those will fail without a display.
	Addresses part of LP1661348.

2017-01-28   Sergey Alyoshin * alyoshin dot s AT gmail dot com *

	* src/hid/gtk/gtkhid-main.c: Add new line to messages  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-01-28   Sergey Alyoshin * alyoshin dot s AT gmail dot com *

	* src/global.h: Add AUSAGE(x) and AFAIL(x) to translation  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-01-28   Sergey Alyoshin * alyoshin dot s AT gmail dot com *

	* src/report.c: Internationalization Allow translators to change number of tabs in message.  Unification
	of other messages.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-01-28   Sergey Alyoshin * alyoshin dot s AT gmail dot com *

	* src/action.c: Fix message typo  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-01-20   Charles Parker * parker dot charles AT gmail dot com *

	* configure.ac: Add switches to "git describe" and use awk instead
	of tr  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-01-19   Charles Parker * parker dot charles AT gmail dot com *

	* configure.ac: Dynamically generate a version string from git
	commit Add macro m4_esyscmd to configure.ac to generate a version string
	from the output of git-describe.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-01-16   bert * bert dot timmerman AT xs4all dot nl *

	* ChangeLog, NEWS, doc/pcb.texi: Release notes for pcb-4.0.0  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-01-16   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* w32/pcb.nsi.in: Fixup the nsis installer script to trigger
	creation of the gdk-pixbuf loaders cache Required if we want working icons in PCB

2017-01-15   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* w32/recipes/pcb.recipe: Added --with-included-gettext when
	building pcb The w32 build still uses an old gettext (one which builds more
	readily), and if we don't apply this option, the intl/ directory in
	the pcb source gets replaced with a version which fails to compile.  This lets us use the older gettext tools build, but keep the
	included (more up to date) intl library shipped with the pcb
	tarball.

2017-01-15   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* w32/build-all.sh, w32/licenses/LICENSE-libffi,
	w32/patches/atk/01-reenable-deprecated-glib.patch,
	w32/patches/gtk+/01-mousewheel.patch, w32/recipes/atk.recipe,
	w32/recipes/gdk-pixbuf.recipe, w32/recipes/glib.recipe,
	w32/recipes/gtk+.recipe, w32/recipes/libffi.recipe: w32: Bump gtk
	version (and atk, glib + sundry dependencies) This is the latest GTK2 release, and should be the best supported on
	Win32. Added / bumped some dependencies as required to support this
	later version.

2017-01-15   bert * bert dot timmerman AT xs4all dot nl *

	* doc/pcb.texi: pcb.texi: nitpicking on contribution years according
	FSF.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-01-15   bert * bert dot timmerman AT xs4all dot nl *

	* doc/pcb.texi: pcb.texi: updated the copyright notices.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-01-15   bert * bert dot timmerman AT xs4all dot nl *

	* doc/pcb.texi: pcb.texi: updated features.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-01-15   bert * bert dot timmerman AT xs4all dot nl *

	* doc/pcb.texi: pcb.texi: updated authors and contributors.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-01-15   bert * bert dot timmerman AT xs4all dot nl *

	* configure.ac: Bump the autoconf version from 2.60 to 2.69.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-01-15   bert * bert dot timmerman AT xs4all dot nl *

	* README.snapshots: README.snapshots: added an alternative to
	counting commits.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-01-10   bert * bert dot timmerman AT xs4all dot nl *

	* data/pcb.appdata.xml.in: pcb.appdata.xml.in: updated.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-01-10   Charles Parker * parker dot charles AT gmail dot com *

	* configure.ac: Bump the minimum required version of gettext from
	0.14 to 0.19.3  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-01-10   Charles Parker * parker dot charles AT gmail dot com *

	* tests/run_tests.sh: Add a normalize_pcb function to run_tests.sh The normalize_pcb function strips comments and blank lines from the
	golden file and the test output file prior to comparison.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-01-10   bert * bert dot timmerman AT xs4all dot nl *

	* doc/doxygen/what-is-pcb.html: Updating the front page of the
	doxygen docs.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-01-10   bert * bert dot timmerman AT xs4all dot nl *

	* doc/Makefile.am: Include the doxygen infrastructure in the
	distribution tarball.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-01-15   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* w32/patches/zlib/02-cross-build.patch: Fix zlib patch for minipack This failed to apply on Linux without a level or prexfix

2017-01-14   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/compat.c, src/hid/common/hidinit.c, src/hid/gtk/gtkhid-main.c: 
	Add #define WIN32_LEAN_AND_MEAN where appropriate.  (This define can now be taken out of the CPP_FLAGS override)

2017-01-14   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* w32/tools/mpk-unpack: w32: Add support for .xz archives to
	minipack

2017-01-14   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.am, README.win32, configure.ac, win32/Makefile.am: Add a
	few missing files related to a cygwin build.  With this I'm able to
	build a windows installer from git sources or from a tarball under
	cygwin.  The installer then does not depend on cygwin at runtime.
	Added notes to the README.win32 pointing users who wish to build
	with minpack to README.w32

2017-01-14   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/common/hidgl.h, win32/build_pcb: provide a _GLUfuncptr
	definition under WIN32 and enable gl on the win32 build.

2017-01-14   Dan McMahill * dan AT mcmahill dot net *

	* win32/Makefile.am, win32/Readme.txt, win32/build_pcb: Get this
	working the rest of the way.  PCB builds to completion and produces
	a working installer.  The build is done under cygwin and the
	resulting installer does not require cygwin.  TODO:  remove the code
	       for downloading dependencies, it isn't needed since there are cygwin
	packages for everything we need TODO:  prune what we install from
	       the cygwin packages to not install more than what we need TODO:
	       make sure we find the license info for the cygwin packages that make
	it into the installer

2017-01-14   Dan McMahill * dan AT mcmahill dot net *

	* : commit 3157d37473a4db3249699acb098ea28cd8a2c74a  Author: Dan
	McMahill * dan AT mcmahill dot net * Date:   Sat Jan 14 13:40:29
	2017 -0500

2017-01-14   Dan McMahill * dan AT mcmahill dot net *

	* : commit ee863b2779d9b1035eac4e250c3580bde03694b3 Merge: 4560ac3
	f08393f  Author: Dan McMahill * dan AT mcmahill dot net * Date:
	Sat Jan 14 13:26:41 2017 -0500

2017-01-14   Dan McMahill * dan AT mcmahill dot net *

	* win32/.gitignore, win32/build_pcb, win32/config.mk,
	win32/pcb-win32-deps.mk, win32/pcb.nsi.in, win32/setup/libgd.mk: 
	Make lots of progress towards getting this to work again.  Turns out
	cygwin has packages for mingw targets and so it is possible to avoid
	most of the building of external libs.  This framework is working
	but has a few things to address before making it prime-time.

2017-01-14   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-top-window.c: replace
	g_win32_get_package_installation_directory() with
	g_win32_get_package_installation_directory_of_module() as the former
	has been deprecated since glib-2.18 which was 8 years ago.

2017-01-14   Dan McMahill * dan AT mcmahill dot net *

	* src/file.c: When searching for newlib libraries, we can't just
	check if the first character of the search path is '/' and expect it
	to work on win32 systems.  Add some expanded logic to try and handle
	this case.  Now we get libraries displayed again.

2017-01-14   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-library-window.c: Fix the display of library
	elements on win32 which was broken by d80224b3.  Replaces '/' with
	PCB_DIR_SEPARATOR_C.

2017-01-13   Dan McMahill * dan AT mcmahill dot net *

	* lib/.gitignore, lib/Makefile.am, lib/common.m4: Enable the Aries
	library.  This was somehow missed when aries.inc was added.  This
	has footprints for ZIF sockets from Aries.

2017-01-13   Dan McMahill * dan AT mcmahill dot net *

	* w32/.gitignore, w32/Makefile.am, w32/Readme.txt.in,
	w32/build-all.sh, w32/build-installer.sh,
	w32/licenses/LICENSE-expat, w32/licenses/LICENSE-fontconfig,
	w32/licenses/LICENSE-gpl2, w32/licenses/LICENSE-gpl3,
	w32/licenses/LICENSE-jpeg, w32/licenses/LICENSE-lgpl2,
	w32/licenses/LICENSE-lgpl2-1, w32/licenses/LICENSE-libgd,
	w32/licenses/LICENSE-libpng, w32/licenses/LICENSE-pixman,
	w32/licenses/LICENSE-tiff, w32/licenses/LICENSE-zlib,
	w32/minipack.conf, w32/pcb.nsi.in, w32/recipes/atk.recipe,
	w32/recipes/cairo.recipe, w32/recipes/freetype.recipe,
	w32/recipes/gd.recipe, w32/recipes/gettext.recipe,
	w32/recipes/glib.recipe, w32/recipes/gtk+.recipe,
	w32/recipes/jpeg.recipe, w32/recipes/libiconv.recipe,
	w32/recipes/libpng.recipe, w32/recipes/pango.recipe,
	w32/recipes/pcb.recipe, w32/recipes/pixman.recipe,
	w32/recipes/tiff.recipe, w32/recipes/zlib.recipe,
	w32/registerExtension.nsh, w32/tools/mpk-license: - add license files - add an entry in the recipe files to indicate which license - add mpk-license tool to report the license - use this info to feed into an installer build

2017-01-12   Dan McMahill * dan AT mcmahill dot net *

	* config.guess, config.sub: Update some infrastructure files that
	were > 10 years old.  config.guess was failing on a fresh (as of Jan
	2017) cygwin64 install.

2017-01-11   Dan McMahill * dan AT mcmahill dot net *

	* win32/pcb.nsi.in: installer template

2017-01-11   Dan McMahill * dan AT mcmahill dot net *

	* win32/.cvsignore, win32/.gitignore, win32/Makefile.am,
	win32/Readme.txt, win32/build_pcb, win32/config.mk,
	win32/licenses/LICENSE-expat, win32/licenses/LICENSE-fontconfig,
	win32/licenses/LICENSE-gpl2, win32/licenses/LICENSE-gpl3,
	win32/licenses/LICENSE-lgpl2, win32/licenses/LICENSE-lgpl2-1,
	win32/licenses/LICENSE-libgd, win32/licenses/LICENSE-libpng,
	win32/licenses/LICENSE-pixman, win32/licenses/LICENSE-zlib,
	win32/pcb-win32-deps.mk, win32/pcb.nsi.in,
	win32/registerExtension.nsh, win32/setup/atk.distinfo,
	win32/setup/atk.mk, win32/setup/cairo.distinfo,
	win32/setup/cairo.mk, win32/setup/expat.distinfo,
	win32/setup/expat.mk, win32/setup/fontconfig.distinfo,
	win32/setup/fontconfig.mk, win32/setup/freetype.distinfo,
	win32/setup/freetype.mk, win32/setup/gdk-pixbuf.distinfo,
	win32/setup/gdk-pixbuf.mk, win32/setup/gettext.distinfo,
	win32/setup/gettext.mk, win32/setup/glib.distinfo,
	win32/setup/glib.mk, win32/setup/gtk+.distinfo,
	win32/setup/gtk+.mk, win32/setup/intltool.distinfo,
	win32/setup/intltool.mk, win32/setup/libgd.distinfo,
	win32/setup/libgd.mk, win32/setup/libpng.distinfo,
	win32/setup/libpng.mk, win32/setup/pango.distinfo,
	win32/setup/pango.mk, win32/setup/pixman.distinfo,
	win32/setup/pixman.mk, win32/setup/pkg-config.distinfo,
	win32/setup/pkg-config.mk, win32/setup/zlib.distinfo,
	win32/setup/zlib.mk, win32/setup_deps, win32/tools/extract.sh: Bring
	back some of the old win32 infrastructure which uses pre-built
	dependencies.  WIP checkin before moving to a cygwin environment to
	continue. Code now fetches verifies checksums, and unpacks the
	dependency libs.

2016-12-30   Charles Parker * parker dot charles AT gmail dot com *

	* debian/README.Debian, debian/changelog, debian/compat,
	debian/control, debian/copyright, debian/pcb-common-dev.dirs,
	debian/pcb-common-dev.install, debian/pcb-common.dirs,
	debian/pcb-common.doc-base, debian/pcb-common.docs,
	debian/pcb-common.examples, debian/pcb-common.info,
	debian/pcb-common.install, debian/pcb-common.lintian-overrides,
	debian/pcb-gtk-dev.dirs, debian/pcb-gtk-dev.install,
	debian/pcb-gtk.dirs, debian/pcb-gtk.links,
	debian/pcb-gtk.lintian-overrides, debian/pcb-gtk.menu,
	debian/pcb-gtk.postinst, debian/pcb-gtk.prerm,
	debian/pcb-lesstif-dev.dirs, debian/pcb-lesstif-dev.install,
	debian/pcb-lesstif.dirs, debian/pcb-lesstif.links,
	debian/pcb-lesstif.lintian-overrides, debian/pcb-lesstif.menu,
	debian/pcb-lesstif.postinst, debian/pcb-lesstif.prerm,
	debian/pcb.xpm, debian/rules, debian/source.lintian-overrides,
	debian/watch: Remove debian directory to make life easier for the
	official packagers.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-12-24   Charles Parker * parker dot charles AT gmail dot com *

	* src/hid/lesstif/main.c, src/hid/lesstif/xincludes.h: Fix
	deprecation compile warnings.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-12-24   Charles Parker * parker dot charles AT gmail dot com *

	* doc/pcb.texi: Fix a compile warning when building documentation  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-12-24   Charles Parker * parker dot charles AT gmail dot com *

	* src/hid/common/hidgl.c: Fix type in format string  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-12-24   Charles Parker * parker dot charles AT gmail dot com *

	* src/toporouter.c: Replace 'finite' function with 'isfinite' to
	remove depreciation warnings on osx.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-12-24   Charles Parker * parker dot charles AT gmail dot com *

	* src/buffer.c: Fix warning about unused variable loadfootprint_help

2016-12-24   Charles Parker * parker dot charles AT gmail dot com *

	* src/action.c, src/search.c: Fix indentation that was causing
	compile warnings.

2017-01-06   Dan McMahill * dan AT mcmahill dot net *

	* doc/.gitignore: ignore directory created by running texi2pdf

2017-01-06   Dan McMahill * dan AT mcmahill dot net *

	* .gitignore: ignore distfile and log files which are often created
	here

2017-01-06   Dan McMahill * dan AT mcmahill dot net *

	* README.w32, w32/build-all.sh, w32/minipack.conf,
	w32/patches/gettext/01-AC_PROG_CXX.patch,
	w32/patches/gettext/01-decl-snwprintf.patch,
	w32/patches/gettext/02-AC_CHECK_TOOLS.patch,
	w32/patches/gettext/03-include_memchr.patch,
	w32/patches/jpeg/01-int32.patch,
	w32/patches/zlib/02-cross-build.patch, w32/recipes/cairo.recipe,
	w32/recipes/freetype.recipe, w32/recipes/gd.recipe,
	w32/recipes/gettext.recipe, w32/recipes/gtk+.recipe,
	w32/recipes/pcb.recipe, w32/recipes/tiff.recipe,
	w32/tools/mpk-build, w32/tools/mpk-source, w32/tools/mpk-unpack: 
	Several adjustments to get the win32 cross build working again.
	Bumped the rev of a few of the dependencies (gtk for example needed
	to be newer for pcb), updated some download urls, fixed compilation
	issues.

2017-01-06   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac, src/Makefile.am, src/getline.c, src/strcasestr.c: 
	strcasestr is non-standard so provide a configure check for it and a
	replacement if it is missing.  Also getline is not present on all
	systems either (solaris, mingw, etc) so do the same.

2017-01-06   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gtkhid-main.c: fix a syntax error in some win32 code

2017-01-04   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.am: add some comments about how the *-menu.res.h
	files are used

2017-01-04   Dan McMahill * dan AT mcmahill dot net *

	* po/POTFILES.skip: Add sub/src/{g,}pcb-menu.res.h because during
	'make distcheck' the build directory is under sub/ and these built
	files show up.  There is discussion about intltool being updated to
	account for the sub/ directory but until then, this fixes distcheck
	failures.

2017-01-04   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.am: Remove the use of INCLUDES (came back with bring
	gts sources back)

2017-01-03   Dan McMahill * dan AT mcmahill dot net *

	* autogen.sh: improve quoting in the resulting po/Makefile.in.in

2017-01-03   Dan McMahill * dan AT mcmahill dot net *

	* autogen.sh: do not call make directly but use $(MAKE) instead.
	Critical on systems where make is not gnu make.

2016-12-31   bert * bert dot timmerman AT xs4all dot nl *

	* src/toporouter.h: toporouter: removed duplicate definitions of
	_GtsConstraint and _GtsConstraintClass structs.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-12-31   bert * bert dot timmerman AT xs4all dot nl *

	* src/toporouter.c, src/toporouter.h: Revert "Toporouter: get rid of
	GtsConstraint* in favour of GtsEdge*." This reverts commit 8e79d4c0f707e25f91df7f73d3ea9792fa94734a.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-12-31   bert * bert dot timmerman AT xs4all dot nl *

	* Makefile.am, configure.ac, doc/doxygen/pcb.dox, gts/.gitignore,
	gts/Makefile.am, gts/NOTES, gts/bbtree.c, gts/boolean.c, gts/cdt.c,
	gts/container.c, gts/curvature.c, gts/edge.c, gts/eheap.c,
	gts/face.c, gts/fifo.c, gts/graph.c, gts/gts-private.h, gts/gts.h,
	gts/heap.c, gts/hsurface.c, gts/iso.c, gts/isotetra.c,
	gts/kdtree.c, gts/matrix.c, gts/misc.c, gts/named.c, gts/object.c,
	gts/oocs.c, gts/partition.c, gts/pgraph.c, gts/point.c,
	gts/predicates.c, gts/predicates.h, gts/psurface.c, gts/refine.c,
	gts/rounding.h, gts/segment.c, gts/split.c, gts/stripe.c,
	gts/surface.c, gts/triangle.c, gts/tribox3.c, gts/vertex.c,
	gts/vopt.c, src/Makefile.am, src/toporouter.c, src/toporouter.h: 
	Revert "Remove GTS sources in favour of the libgts package." This reverts commit 825caea4fe0dfe32b572017961a7f357fae97022.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2017-01-02   Dan McMahill * dan AT mcmahill dot net *

	* m4/ax_check_gl.m4: When the GL libraries are installed in the
	$x_libraries area, the configure check was failing to find libGL and
	libGLU.  This is because the code tried to add $x_libraries slightly
	too late.

2017-01-02   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: Fix a spelling error in one of the output messages.

2017-01-02   Dan McMahill * dan AT mcmahill dot net *

	* tests/run_tests.sh: The awk expression for normalize_gcode was not
	portable to nawk and was causing false failures in the testsuite.
	Replace [a-z]{2} constructs with [a-z][a-z] which is less compact
	but more portable.

2016-11-27   Charles Parker * parker dot charles AT gmail dot com *

	* src/rotate.c: add calls to clear/restore polygon when rotating
	arcs

2016-11-27   Charles Parker * parker dot charles AT gmail dot com *

	* src/buffer.c: add rtree delete/inserts when mirroring
	arcs/polygons in buffers

2016-11-29   bert * bert dot timmerman AT xs4all dot nl *

	* src/main.c: Revert "Free settings default layer names." and "Don't
	leak fontfile paths." This reverts commit 3049589c28ff2b04bdc7e3fb8ca2c6db3649eb91.  This
	reverts commit b3f58ab6e8533c3566a072888cd470ff34191c08.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-11-27   Charles Parker * parker dot charles AT gmail dot com *

	* src/edif.y: Fix some compile errors when the DEBUG symbol is
	defined Had to push some variable declarations forward, and prefix some
	tokens with EDIF_TOK_

2016-11-27   Charles Parker * parker dot charles AT gmail dot com *

	* src/hid/png/png.c, src/hid/ps/eps.c: Change "as-shown" to
	"screen-layer-order" in the png and eps hids.

2016-11-05   Charles Parker * parker dot charles AT gmail dot com *

	* src/change.c: Fix ChangeTextJoin adding to the undo list with the
	wrong type.

2016-11-26   bert * bert dot timmerman AT xs4all dot nl *

	* src/vector.c: src/vector.c: minor correction in doxygen comment.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-11-26   bert * bert dot timmerman AT xs4all dot nl *

	* src/vector.c, src/vector.h: src/vector.[ch]: Converted plain
	comments into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-11-26   bert * bert dot timmerman AT xs4all dot nl *

	* src/vector.c: src/vector.c: Converted plain comments into doxygen
	comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-11-22   bert * bert dot timmerman AT xs4all dot nl *

	* src/undo.h: src/undo.h: Converted plain comments into doxygen
	comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-11-15   bert * bert dot timmerman AT xs4all dot nl *

	* src/undo.c: src/undo.c: Converted plain comments into doxygen
	comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-11-12   bert * bert dot timmerman AT xs4all dot nl *

	* src/toporouter.h: src/toporouter.h: Converted plain comments into
	doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-11-11   bert * bert dot timmerman AT xs4all dot nl *

	* src/toporouter.c: src/toporouter.c: Converted plain comments into
	doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-11-06   bert * bert dot timmerman AT xs4all dot nl *

	* src/draw.c, src/remove.c: Cast to ElementType pointer.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-11-06   Milan Prochac * milan AT prochac dot sk *

	* src/draw.c, src/remove.c, src/undo.c: FIXED fix for crash during
	undo of refdes resize  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-11-05   Charles Parker * parker dot charles AT gmail dot com *

	* src/change.c: Added a call to r_delete_entry in ChangeTextName We missed this one previously.

2016-07-30   bert * bert dot timmerman AT xs4all dot nl *

	* src/action.c, src/crosshair.c: Fixed the "poly twin hole" bug.   Reported-by: Igor2 * gedau AT igor2 dot repo dot hu *  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-08-27   WileyECoyote * wileyhill AT gmail dot com *

	* src/hid/gtk/gui-library-window.c: Remove redundant setting of
	library_window->libtreeview

2016-10-23   Charles Parker * parker dot charles AT gmail dot com *

	* src/action.c: Fix deselect not incrementing undo serial number.

2016-10-23   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc: added SOD523.  Verified with real hardware

2016-10-23   Dan McMahill * dan AT mcmahill dot net *

	* lib/aries.inc: Move the mounting hole near the pin 1 end to match
	reality (based on the Aries mechanical drawings and also a physical
	specimen)

2016-08-29   bert * bert dot timmerman AT xs4all dot nl *

	* configure.ac, src/Makefile.am, src/find.c, src/find.h,
	src/hid/ipcd356/hid.conf, src/hid/ipcd356/ipcd356.c: IPC-D-356
	netlist exporter.   Reported-by: Jerome Marchand * Jerome dot Marchand AT gmail dot com
	*  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-10-16   Charles Parker * parker dot charles AT gmail dot com *

	* src/fontmode.c: Fix FontSave by casting CELL_SIZE and CELL_OFFSET
	to Coord.

2016-10-08   Charles Parker * parker dot charles AT gmail dot com *

	* src/draw.c, src/undo.c: Fix for bug LP1631059, patch by Milan
	Prochac.  Fixes segfaults when undoing selections and changes in the size of
	element names.

2016-10-08   Charles Parker * parker dot charles AT gmail dot com *

	* doc/Makefile.am: Fixed errors when building images for docs.  Added appropriate paths to the pcb invocation when building docs so
	that pcb can find the component libraries.

2016-10-03   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/lesstif/main.c: lesstif: print angle as 2 digit float.   Reported-by: Igor2 * gedau AT igo2 dot repo dot hu *  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-09-12   bert * bert dot timmerman AT xs4all dot nl *

	* data/pcb.appdata.xml.in: Updated the appdata file.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-09-06   bert * bert dot timmerman AT xs4all dot nl *

	* src/create.c: Correction of type for ID.   Reported-by: Igor2 * gedau AT igor2 dot repo dot hu *  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-09-02   Charles Parker * parker dot charles AT gmail dot com *

	* src/hid/gtk/gui-library-window.c: switch "basename" to
	"g_path_get_basename" g_path_get_basename is part of glib, and has a more consistent
	behavior than basename which has some platform dependent
	peculiarities.

2016-09-01   Charles Parker * parker dot charles AT gmail dot com *

	* src/hid/gtk/gui-library-window.c: Changed usage of strchrnul to
	strchr strchrnul is a GNU specific extension to the string library and is
	not included in the OSX C library. strchr can be substituted by
	checking for the null return value and manually setting the pointer
	to the end of the string.

2016-08-03   bert * bert dot timmerman AT xs4all dot nl *

	* src/change.c, src/draw.c: Fix bug with expanding text.  This fixes #1609542.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-03-06   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gtk/gui-misc.c, src/hid/gtk/gui-top-window.c: Allow the
	coordinate position_hbox to expand and fill.  By allowing to fill and expand, shrinking becomes possible.  Changed
	the width of the relative coordinate label.  By changing the single
	line label into a multi line label, width is traded for height.
	Removed padding pixels.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-07-28   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gcode/trace.h: gcode/trace.h: Converted plain comments
	into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-07-28   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gcode/trace.c: gcode/trace.c: Converted plain comments
	into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-07-26   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gcode/potracelib.h: gcode/potracelib.h: Converted plain
	comments into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-07-24   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gcode/lists.h: gcode/lists.h: Converted plain comments
	into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-07-18   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gcode/decompose.h: gcode/decompose.h: Converted plain
	comments into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-07-18   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gcode/decompose.c: gcode/decompose.c: Converted plain
	comments into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-07-17   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gcode/curve.h: gcode/curve.h: Converted plain comments
	into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-07-17   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gcode/curve.c: gcode/curve.c: Converted plain comments
	into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-07-16   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gcode/bitmap.h: gcode/bitmap.h: Converted plain comments
	into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-07-14   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gcode/auxiliary.h: gcode/auxiliary.h: Converted plain
	comments into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-07-13   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gcode/gcode.c: gcode: Converted plain comments into
	doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-05-16   bert * bert dot timmerman AT xs4all dot nl *

	* src/thermal.c, src/thermal.h: src/thermal.[ch]: Converted plain
	comments into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-05-16   bert * bert dot timmerman AT xs4all dot nl *

	* src/strflags.c, src/strflags.h: src/strflags.[ch]: Converted plain
	comments into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-05-16   bert * bert dot timmerman AT xs4all dot nl *

	* src/set.c, src/set.h: src/set.[ch]: Converted plain comments into
	doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-05-15   bert * bert dot timmerman AT xs4all dot nl *

	* src/select.c, src/select.h: src/select.[ch]: Converted plain
	comments into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-05-15   bert * bert dot timmerman AT xs4all dot nl *

	* src/search.c, src/search.h: src/search.[ch]: Converted plain
	comments into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-05-11   bert * bert dot timmerman AT xs4all dot nl *

	* src/rubberband.c, src/rubberband.h: src/rubberband.[ch]: Converted
	plain comments into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-05-08   bert * bert dot timmerman AT xs4all dot nl *

	* src/rtree.c, src/rtree.h: src/rtree.[ch]: Converted plain comments
	into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-06-22   DJ Delorie * dj AT delorie dot com *

	* src/autoroute.c: Fix autorouter typo [1] -> [i]

2016-05-29   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gcode/gcode.c: gcode: do not return silent on a file open
	error.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-05-29   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gcode/gcode.c: gcode: correction of typos in a comment.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-05-27   bert * bert dot timmerman AT xs4all dot nl *

	* po/pt_BR.po: po/pt_BR.po: correction of a typo.   Reported-by: Morvan * morvan000 AT gmail dot com *  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-05-26   bert * bert dot timmerman AT xs4all dot nl *

	* po/pt_BR.po: po/pt_BR.po: correction of grammar.   Reported-by: Morvan * morvan000 AT gmail dot com *  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-01-11   Milan Prochac * milan AT prochac dot sk *

	* src/renumber.c: Fix crashes of RenumberBlock and RenumberBufer on
	empty refdes

2016-05-12   Milan Prochac * milan AT prochac dot sk *

	* src/main.c: FIX crashdumps due freeing static memory  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-05-07   bert * bert dot timmerman AT xs4all dot nl *

	* src/rotate.c, src/rotate.h: src/rotate.[ch]: Converted plain
	comments into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-05-04   bert * bert dot timmerman AT xs4all dot nl *

	* src/report.c, src/report.h: src/report.[ch]: Converted plain
	comments into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-04-30   bert * bert dot timmerman AT xs4all dot nl *

	* src/remove.c, src/remove.h: src/remove.[ch]: Converted plain
	comments into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-04-30   bert * bert dot timmerman AT xs4all dot nl *

	* src/rats.c, src/rats.h: src/rats.[ch]: Converted plain comments
	into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-01-14   Britton Leo Kerin * britton dot kerin AT gmail dot com *

	* src/main.c: Die if arg file exists and LoadPCB fails Because it probably ins't a pcb file and we don't want to end up
	nuking it with a Save

2015-10-02   Britton Leo Kerin * britton dot kerin AT gmail dot com *

	* src/find.c: Always produce a DRC warn about undected stuff DRC will catch a near-short, but not a short.  It will catch a
	near-break in a trace, but not an actual break.  This is pretty
	confusing and potentially harmful to users not familiar with the
	behavior, so always produce a DRC entry warning user about the
	situation and what to do about it.

2016-03-03   Britton Leo Kerin * britton dot kerin AT gmail dot com *

	* src/hid/gtk/gui-misc.c: Make click prompt bold

2016-03-03   Britton Leo Kerin * britton dot kerin AT gmail dot com *

	* src/hid/gtk/gtkhid-main.c: GetXY() calls get_coords internaly so
	prompts work

2015-12-20   Britton Leo Kerin * britton dot kerin AT gmail dot com *

	* configure.ac: Check that compiler supports C99

2016-03-15   bert * bert dot timmerman AT xs4all dot nl *

	* src/main.c, src/strflags.c, src/strflags.h: Free layer list in
	strflags.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-03-15   bert * bert dot timmerman AT xs4all dot nl *

	* src/main.c: Set PCB to NULL after free()'ing it.  Avoid emergency save to save it after it's free()'d.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-03-15   bert * bert dot timmerman AT xs4all dot nl *

	* src/main.c: Free some global variables and settings.  Free paths allocated on startup.  Free program_directory at the end.
	Free gnetlist and make settings.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-03-15   bert * bert dot timmerman AT xs4all dot nl *

	* src/main.c, src/strflags.c, src/strflags.h: strflags should free
	buf() at the end.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-03-15   bert * bert dot timmerman AT xs4all dot nl *

	* src/main.c: Don't leak fontfile paths.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-03-13   bert * bert dot timmerman AT xs4all dot nl *

	* src/main.c: Free settings default layer names.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-03-13   bert * bert dot timmerman AT xs4all dot nl *

	* src/parse_y.y: Free parse strings.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-03-13   bert * bert dot timmerman AT xs4all dot nl *

	* src/main.c: Free PCB data.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-03-13   bert * bert dot timmerman AT xs4all dot nl *

	* src/free_atexit.c, src/free_atexit.h, src/res_lex.l: Resource
	strdups() are leaky.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-03-13   bert * bert dot timmerman AT xs4all dot nl *

	* src/buffer.c, src/buffer.h, src/main.c: Uninit paste buffers.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-03-13   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid.h, src/hid/common/hidinit.c, src/hid/lesstif/main.c,
	src/hid/lesstif/menu.c, src/main.c, src/misc.c: Added central
	infrastructure for un-init'ing GUI hids.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-04-24   bert * bert dot timmerman AT xs4all dot nl *

	* src/action.c: Use gui->get_coords to get the crosshair
	coordinates.   Reported-by: Igor2 * gedau AT igor2 dot repo dot hu *  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-03-07   Britton Leo Kerin * britton dot kerin AT gmail dot com *

	* src/global.h, src/hid/gtk/gui.h: Included missing locale.h header  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-03-04   chrysn * chrysn AT fsfe dot org *

	* src/djopt.c: djopt(splitlines): Affect lines and not pads This does commit f6fa32e22dadd5b8770b730e9dd056e5ef288591 right;
	that commit's intention was to skip pinsnapping when the only
	optimization to be run is splitlines.  Closes: https://bugs.launchpad.net/pcb/+bug/1553255  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-02-19   bert * bert dot timmerman AT xs4all dot nl *

	* src/polygon1.c: src/polygon1.c: Converted plain comments into
	doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-01-08   bert * bert dot timmerman AT xs4all dot nl *

	* po/POTFILES.in, src/Makefile.am, src/relocate.c: Added the
	relocate action by Jean Richard.   Reported-by: Jean Richard * jean AT geemoo dot ca *  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-01-03   bert * bert dot timmerman AT xs4all dot nl *

	* utils/keylist.sh: Fix utils/keylist.sh: resets locale to avoid
	broken table.  gawk tries to be too clever.   Reported-by: Igor2 * gedau AT igor2 dot repo dot hu *  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-11-14   bert * bert dot timmerman AT xs4all dot nl *

	* utils/keylist.sh: Added revised version from pcb-rnd.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-11-13   bert * bert dot timmerman AT xs4all dot nl *

	* utils/keylist.sh: Added the keylist script in the utils directory.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-04-03   bert * bert dot timmerman AT xs4all dot nl *

	* src/puller.c: Send puller messages to the log window.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-04-14   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/png/png.c: Allow for up to 10000 dpi on png exporter
	output.   Reported-by: Igor2 * gedau AT igor2 dot repo dot hu *  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-03-26   bert * bert dot timmerman AT xs4all dot nl *

	* src/action.h, src/hid/common/hid_resource.h, src/lrealpath.h,
	src/polygon.h, src/thermal.h, src/toporouter.h: More corrections in
	header guard define.   Reported-by: Igor2 * gedau AT igor2 dot repo dot hu *  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-03-26   bert * bert dot timmerman AT xs4all dot nl *

	* src/compat.h: src/compat.h: correction in header guard define.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-03-12   bert * bert dot timmerman AT xs4all dot nl *

	* src/misc.c: Cleanup r_string when leaving make_route_string().   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-09-28   Sergey Stepanov * no dot such dot process AT gmail dot com *

	* src/autoroute.c, src/crosshair.c, src/djopt.c,
	src/hid/common/draw_helpers.c, src/hid/common/hidgl.c,
	src/hid/common/trackball.c, src/hid/gcode/trace.c, src/misc.c,
	src/polygon.c, src/puller.c, src/report.c, src/search.c,
	src/toporouter.c, src/toporouter.h: change sqrt(x*x+y*y) ->
	hypot(x,y) this change has 3 benefits: * hypot() calculation is performed without undue overflow or
	underflow; * code behavoiur less compiler dependant, than pow(x, 2), which
	(probably) may fail if x is negative; * code is a bit simpler, and less error prone if x or y is a complex
	expression.

2016-03-06   DJ Delorie * dj AT delorie dot com *

	* src/puller.c: Fix LP 1550382 Replace pin->Thickness with PIN_SIZE(pin) Closes-bug: lp-1550382

2016-03-06   chrysn * chrysn AT fsfe dot org *

	* src/djopt.c: djopt: Exclude outline from line gathering The optimizations run in this module are targetted at copper layers,
	and only cause trouble on the outline layer.  Changed "== LT_OUTLINE" in the original patch to "!= LT_COPPER".  Closes: https://bugs.launchpad.net/pcb/+bug/1553281  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-03-01   Gareth Edwards * gareth AT edwardsfamily dot org dot uk *

	* doc/.gitignore: doc: add intermediate files to .gitignore  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-03-01   Gareth Edwards * gareth AT edwardsfamily dot org dot uk *

	* doc/Makefile.am: doc: fix installation failure.  In current pcb HEAD (6a6340a3) the doc/ subdirectory fails to
	install when the --enable-doc configuration option is set. Remove
	duplication in the file list between pcb_files and images
	definitions.  Resolves LP1551970.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-02-27   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/lesstif/menu.c: src/hid/lesstif/menu.c: Added doxygen
	comments for GetXY().   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-02-27   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gtk/gtkhid-main.c: src/hid/gtk/gtkhid-main.c: Added
	doxygen comments for GetXY().   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-02-21   bert * bert dot timmerman AT xs4all dot nl *

	* src/puller.c: src/puller.c: Converted plain comments into doxygen
	comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-02-20   bert * bert dot timmerman AT xs4all dot nl *

	* src/print.c, src/print.h: src/print.[ch]: Converted plain comments
	into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-02-21   bert * bert dot timmerman AT xs4all dot nl *

	* doc/Makefile.am, doc/viatrim.out.pcb, doc/viatrim.pcb,
	src/djopt.c: Added a description of djopt(viatrim) in the user docs.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-02-21   bert * bert dot timmerman AT xs4all dot nl *

	* doc/Makefile.am, doc/vianudge.out.pcb, doc/vianudge.pcb,
	src/djopt.c: Added a description of djopt(vianudge) in the user
	docs.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-02-21   bert * bert dot timmerman AT xs4all dot nl *

	* doc/Makefile.am, doc/unjaggy.out.pcb, doc/unjaggy.pcb,
	src/djopt.c: Added a description of djopt(unjaggy) in the user docs.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-02-21   bert * bert dot timmerman AT xs4all dot nl *

	* doc/Makefile.am, doc/orthopull.out.pcb, doc/orthopull.pcb,
	src/djopt.c: Added a description of djopt(orthopull) in the user
	docs.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-02-21   bert * bert dot timmerman AT xs4all dot nl *

	* doc/Makefile.am, doc/miter.out.pcb, doc/miter.pcb, src/djopt.c: 
	Added a description of djopt(miter) in the user docs.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-02-21   bert * bert dot timmerman AT xs4all dot nl *

	* doc/Makefile.am, doc/debumpify.out.pcb, doc/debumpify.pcb,
	src/djopt.c: Added a description of djopt(debumpify) in the user
	docs.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-02-21   DJ Delorie * dj AT delorie dot com *

	* src/action.c: Fix error message for ActionElementSetAttr Pointed out by Igor2

2016-02-19   bert * bert dot timmerman AT xs4all dot nl *

	* src/polygon.c, src/polygon.h: src/polygon.[ch]: Converted plain
	comments into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-02-19   bert * bert dot timmerman AT xs4all dot nl *

	* src/polyarea.h: src/polyarea.h: Converted plain comments into
	doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-02-17   bert * bert dot timmerman AT xs4all dot nl *

	* src/parse_l.h: src/parse_l.h: Converted plain comments into
	doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-02-16   bert * bert dot timmerman AT xs4all dot nl *

	* src/netlist.c: src/netlist.c: Converted plain comments into
	doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-02-14   bert * bert dot timmerman AT xs4all dot nl *

	* src/mymem.c, src/mymem.h: src/mymem.[ch]: Converted plain comments
	into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-02-13   bert * bert dot timmerman AT xs4all dot nl *

	* src/mtspace.c, src/mtspace.h: src/mtspace.[ch]: Converted plain
	comments into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-02-13   bert * bert dot timmerman AT xs4all dot nl *

	* src/move.c, src/move.h: src/move.[ch]: Converted plain comments
	into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-02-12   bert * bert dot timmerman AT xs4all dot nl *

	* src/misc.c, src/misc.h: src/misc.[ch]: Converted plain comments
	into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-02-11   bert * bert dot timmerman AT xs4all dot nl *

	* src/mirror.c, src/mirror.h: src/mirror.[ch]: Converted plain
	comments into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-02-10   bert * bert dot timmerman AT xs4all dot nl *

	* src/layerflags.c: src/layerflags.c: include layerflags.h  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-02-10   bert * bert dot timmerman AT xs4all dot nl *

	* src/main-test.c: src/main-test.c: Converted plain comments into
	doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-02-10   bert * bert dot timmerman AT xs4all dot nl *

	* src/main.c: src/main.c: Converted plain comments into doxygen
	comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-02-09   bert * bert dot timmerman AT xs4all dot nl *

	* src/macro.h: src/macro.h: Converted plain comments into doxygen
	comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-02-08   bert * bert dot timmerman AT xs4all dot nl *

	* src/lrealpath.c, src/lrealpath.h: src/lrealpath.[ch]: Converted
	plain comments into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-02-08   bert * bert dot timmerman AT xs4all dot nl *

	* src/line.c, src/line.h: line.[ch]: minor corrections in doygen
	comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-02-08   bert * bert dot timmerman AT xs4all dot nl *

	* src/layerflags.c, src/layerflags.h: layerflags.[ch]: corrections
	in doygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-02-09   DJ Delorie * dj AT delorie dot com *

	* src/strflags.c: Fix auto/onsolder flag for element names Element names use the shared bit as "onsolder" so add that to the
	list of types which use it.

2016-01-24   bert * bert dot timmerman AT xs4all dot nl *

	* src/line.c, src/line.h: src/line: Converted plain comments into
	doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-01-24   bert * bert dot timmerman AT xs4all dot nl *

	* src/intersect.c, src/intersect.h: src/intersect.[ch]: Converted
	plain comments into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-01-23   bert * bert dot timmerman AT xs4all dot nl *

	* src/insert.c, src/insert.h: src/insert.[ch]: Converted plain
	comments into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-01-23   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid_draw.h: src/hid_draw.h: Converted plain comments into
	doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-01-17   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/find.c: drc: Fix polygon-polygon clearance checks IsPolygonInPolygon was applying 2x bloat to the line it uses to test
	with against the second polygon, and IsLineInPolygon was applying a
	further bloat offset - making the clearance used incorrect.  This caused false DRC violation reports of polygons being too close
	to one-another, despite there being adequate clearance.  Note for future - a cleaner fix regarding "Bloat", and the DRC, is
	that we should probably pass it more explicitly as a parameter where
	it is to be used, in order to avoid surprises as to where it gets
	applied.

2016-01-12   bert * bert dot timmerman AT xs4all dot nl *

	* data/pcb.appdata.xml.in: Added keywords to the appdata file.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2016-01-04   Anton Dubniak * twister AT tfsoft dot org dot ua *

	* src/misc.c: Add measurement units to route-styles string in
	preferences file.  This avoids unit conversion to cmil on save of preferences, and
	avoids the rounding errors associated with that.

2015-12-30   Anton Dubniak * twister AT tfsoft dot org dot ua *

	* src/crosshair.c, src/line.c: Fix Auto-enforce-DRC check to allow
	the exact minimum spacing Removes an improper "+ 1" (COORD - e.g. nm) condition applied in the
	auto-drc code, and similar from the XOR rendering code.   Reviewed-by: Peter Clifton * Peter dot Clifton AT
	clifton-electronics dot co dot uk * Closes-bug: lp-1013358

2015-12-27   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid.h: src/hid.h: Converted plain comments into doxygen
	comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-12-27   bert * bert dot timmerman AT xs4all dot nl *

	* src/heap.c, src/heap.h: src/heap.[ch]: Converted plain comments
	into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-10-24   bert * bert dot timmerman AT xs4all dot nl *

	* src/global.h: src/global.h: correction of a typo in the Doxygen
	header.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-11-21   bert * bert dot timmerman AT xs4all dot nl *

	* lib/geda.inc: Added QFN24_5 and TQFN24_5.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-11-21   bert * bert dot timmerman AT xs4all dot nl *

	* lib/geda.inc: Added LQFP80-10.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-10-14   Milan Prochac * milan AT prochac dot sk *

	* src/file.c: Added escaping of Attribute value  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-12-27   bert * bert dot timmerman AT xs4all dot nl *

	* src/parse_y.y: Corrections in documentation.  Reported-by: dima  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-12-16   Dan McMahill * dan AT mcmahill dot net *

	* lib/aries.inc: Add some comments and improve default refdes silk
	screen

2015-12-16   Dan McMahill * dan AT mcmahill dot net *

	* lib/aries.inc: Add generator for Aries Electronics, Inc.
	footprints Added footprint generator and definitions for the High-Temp
	Universal ZIF DIP Burn-in and Test sockets from Aries Electronics.
	See for example www.arieselec.com for information on their ZIF
	sockets.

2015-12-01   Martin * martin AT mb5 dot cz *

	* src/polygon1.c: Fix invalid jump to next VNODE in Collect1()
	function When constructing polygon Collect1() function jumps to cur->next
	vertex when calling Gather() which results in inclusion of invalid
	vertex into resulting polygon.  Fixed by moving the test and the cur->next expression into
	parameters of first call to Collect1() only where it is valid (in
	contrast to second call after jump() test).   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-09-30   Markus Hitter * mah AT jump-ing dot de *

	* src/macro.h, src/pcb-printf.c: unit_to_coord(): explicitely cast
	the result.  Previously 32-bit machines would return 999999999 as the result of
	"1.0 m", making the unit test fail.  This introduces the DOUBLE_TO_COORD() macro which should be used
	everywhere where doubles are used for calculating coordinates.  Wisdom about rounding found at:   https://www.cs.tut.fi/~jkorpela/round.html

2015-10-29   bert * bert dot timmerman AT xs4all dot nl *

	* po/POTFILES.in, src/Makefile.am, src/renumber.c: Added
	RenumberBlock() and RenumberBuffer().  Converted from plug-in sources from DJ Delorie.  Source file adapted
	for nm resolution and added user documentation and a file header for
	Doxygen.  Added to the build system, so it gets always compiled in.  Found on http://www.delorie.com/pcb/renumberblock.c  Reported-by: DJ Delorie * dj AT delorie dot com *  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-10-24   Kai-Martin Knaak * kmk AT lilalaser dot de *

	* : commit b02b6e710930636a352d4a8cc5a9c30a0c5c3298  Author:
	Kai-Martin Knaak * kmk AT lilalaser dot de * Date:   Sat Oct 24
	22:08:31 2015 +0200

2015-10-24   Kai-Martin Knaak * kmk AT lilalaser dot de *

	* po/LINGUAS, po/de.po: + translation file de.po Add German to the list of translation goals

2015-10-24   Kai-Martin Knaak * kmk AT lilalaser dot de *

	* po/fr.po, po/nl.po, po/pt_BR.po, po/ru.po: Update of the
	translation files

2015-10-24   Kai-Martin Knaak * kmk AT lilalaser dot de *

	* po/POTFILES.in, src/hid/png/png.c: Add translation infrastructure
	to the empty layout error message

2015-10-24   Kai-Martin Knaak * kmk AT lilalaser dot de *

	* src/hid/png/png.c: png HID should exit with warning when layout
	contains no data Instead of segfault exit decently with an error message on stdout.  Original patch by Amit Dhingra fixes bug #1048256
	https://bugs.launchpad.net/geda-project/+bug/1048256

2015-10-24   Kai-Martin Knaak * kmk AT lilalaser dot de *

	* : sync my local master with upstream master

2015-10-19   Britton Leo Kerin * britton dot kerin AT gmail dot com *

	* src/teardrops.c: Use some computed vars to make them used

2015-10-19   Britton Leo Kerin * britton dot kerin AT gmail dot com *

	* src/rtree.c: Use wide types for comfortable Coord output

2015-10-19   Britton Leo Kerin * britton dot kerin AT gmail dot com *

	* src/polygon1.c: Added missing #include

2015-10-15   bert * bert dot timmerman AT xs4all dot nl *

	* doc/td_ex1.pcb, doc/td_ex1_.pcb: Changed name of teardrop example
	pcb file as to avoid make interference.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-10-12   bert * bert dot timmerman AT xs4all dot nl *

	* doc/Makefile.am, doc/td_ex1.eps, doc/td_ex1.pcb, src/teardrops.c: 
	Added an example figure and more edits to the user doumentation.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-10-11   bert * bert dot timmerman AT xs4all dot nl *

	* src/teardrops.c: Added user documentation for teardrops.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-10-11   bert * bert dot timmerman AT xs4all dot nl *

	* po/POTFILES.in, src/Makefile.am, src/teardrop.c, src/teardrops.c: 
	Renamed to teardrops.c.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-10-11   bert * bert dot timmerman AT xs4all dot nl *

	* po/POTFILES.in: Added teardrop.c to POTFILES.in.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-08-30   Markus Hitter * mah AT jump-ing dot de *

	* src/Makefile.am, src/teardrop.c: Add teardrops.c from DJ Delorie.  Source file unchanged, just prettyfied file header for Doxygen.
	Added to the build system, so it gets always compiled in.  Found on http://www.delorie.com/pcb/teardrops/

2015-10-12   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/common/hidgl.c: Make compiler warning go away.  hid/common/hidgl.c:455: warning: format ‘%lu’ expects type
	‘long unsigned int’, but argument 2 has type ‘unsigned int’  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-10-12   bert * bert dot timmerman AT xs4all dot nl *

	* doc/extract-docs: Remove the unwanted N_("..."); macro cruft from
	the user documentation.  This commit solves LP bug #1505262.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-10-12   bert * bert dot timmerman AT xs4all dot nl *

	* src/smartdisperse.c: Added user documentatation for SmartDisperse.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-10-10   bert * bert dot timmerman AT xs4all dot nl *

	* src/global.h: src/global.h: Converted plain comments into doxygen
	comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-09-24   bert * bert dot timmerman AT xs4all dot nl *

	* src/gettext.h: src/gettext.c: Converted plain comments into
	doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-09-23   bert * bert dot timmerman AT xs4all dot nl *

	* src/free_atexit.c, src/free_atexit.h: src/free_atexit.[ch]:
	Converted plain comments into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-10-03   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gtk/gtkhid-main.c: gtkhid-main.c: swap sprintf() for
	snprintf().  It's good practice to use the 'n' variant even if it's reasonably
	sure the string will never overflow.  This should satisfy bug 1069317.

2015-09-30   Kai-Martin Knaak * kmk AT lilalaser dot de *

	* src/hid/gtk/gui-config.c: Gtk: right-aligned static strings in
	layer groups dialogue.  The static strings are a little more easy to the eye when right
	aligned. A colon was added for extra legibility.

2015-09-30   Kai-Martin Knaak * kmk AT lilalaser dot de *

	* src/hid/gtk/gui-config.c: Gtk: use radio buttons in layer groups
	dialogue.

2015-09-30   Kai-Martin Knaak * kmk AT lilalaser dot de *

	* src/hid/gtk/gui-config.c: Gtk: more explicit comment in the layer
	group code.

2015-09-29   Kai-Martin Knaak * kmk AT lilalaser dot de *

	* src/hid/gtk/gui-config.c: Gtk: change the order of top and bottom
	in preference dialogue.

2015-09-28   Kai-Martin Knaak * kmk AT lilalaser dot de *

	* src/hid/gtk/gui-config.c: gtk/gui-config.c: swap the order of silk
	layer groups in GUI.  The silk layers double as layer groups for top and bottom copper.
	Current pcb/gtk GUI shows them bottom above top in File ->
	Preferences -> Layers -> Groups.  This is inconsistent with the
	general order of layers.  The patch swaps the order the silk layers are displayed in the
	Groups dialogue.

2015-09-29   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/png/png.c: hid/png/png.c: more checks wether a layer
	actually exists.  Especially when considering the move to layer types there is no
	guarantee a mask and/or silk layer actually exists.

2011-06-12   Adrian Pardini * adrian dot pardini AT solar dot org dot ar *

	* src/hid/png/png.c: hid/png/png.c: check wether a bottom layer
	actually exists.  This should fix LP796389: fixes segfault with --photo-mode                           --photo-flip if the layer "solder" is                           not in the "Solder side".

2015-10-01   Markus Hitter * mah AT jump-ing dot de *

	* src/global.h: global.h: eliminate GCC_VERSION macro.  It was used in this place, only, so no need to clutter the
	namespace.

2015-10-01   Markus Hitter * mah AT jump-ing dot de *

	* src/global.h: global.h: remove forgotten comment.  RCS IDs and the macro described by the comment were removed with
	commit 02a720280796e439015f in December 2011.

2015-09-26   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/ps/ps.c, tests/golden/hid_ps1/circles.ps: hid/ps/ps.c:
	deal with zero sized circles even better.  Instead of hardcoding a size, actually calculate the best fit.  This also makes the PostScript output of the circles test case
	matching what's shown on the screen.

2015-09-26   Markus Hitter * mah AT jump-ing dot de *

	* tests/golden/hid_ps1/circles.ps, tests/inputs/circles.pcb: 
	Tests:more challenging circles.pcb.  This time several circles of varying size, along with ruler lines
	for measuring them on non-screen output, e.g. a PostScript file.  Note that the zero sized circle with 50 mil line width is drawn
	differently in PostScript than on screen.

2015-09-26   Markus Hitter * mah AT jump-ing dot de *

	* tests/Makefile.am, tests/golden/hid_ps1/circles.ps,
	tests/inputs/circles.pcb, tests/run_tests.sh, tests/tests.list: 
	Introduce regression tests for PostScript exporter.  Not the most fancy testing, but at least it recognizes invalid
	PostScript. It triggers with the bug reported in LP1497963.

2015-09-25   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/ps/ps.c: hid/ps/ps.c: avoid division by zero.  Given a linewidth of zero, 'inf' was written as line width to the
	PostScript file, which made the file invalid. Now we at least get
	valid PostScript.  Not yet solved: why is there an attempt to draw a circle of zero
	size? This is related to bug LP1497963.

2015-09-30   Kai-Martin Knaak * kmk AT lilalaser dot de *

	* src/hid/gtk/gui-config.c: swap the order of silk layer groups in
	GUI The silk layers double as layer groups for top and bottom
	copper. Current pcb/gtk GUI shows them bottom above top in
	File->Preferences->Layers->Groups.  This is inconsistent with the
	general order of layers.  The patch swaps the order the silk layers
	are displayed in the groups dialog.

2015-09-30   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/common/hidgl.c: Follow autoconf's recommendation for
	including glu.h.

2015-09-30   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/common/hidgl.c, src/hid/gtk/gtkhid-gl.c: Follow autoconf's
	recommendation for including gl.h.

2015-09-25   Markus Hitter * mah AT jump-ing dot de *

	* debian/control: Debian: 'gerbv' isn't a package build dependency.  It's needed for running regression tests, only, and these tests
	aren't run when building packages.  Tested with pbuilder.

2015-09-25   Markus Hitter * mah AT jump-ing dot de *

	* README.ppa: README.ppa: also set the actual uploader in
	debian/control.  ... or at least provide instructions on how to do so.

2015-09-25   Markus Hitter * mah AT jump-ing dot de *

	* debian/control: debian/control: remove obsolete field
	DM-Upload-Allowed.  This also fixes the corresponding warning while building the
	package.

2015-09-24   Markus Hitter * mah AT jump-ing dot de *

	* debian/control: Debian: add dependencies for building straight
	from Git.  When building from the bare repository there are quite a few
	additional dependencies, almost all of them for documentation and
	tutorials.

2015-09-24   Markus Hitter * mah AT jump-ing dot de *

	* README.ppa: README.ppa: add instructions on how to build in a
	chroot.  After many failures with many different tools, 'pbuilder' was
	finally found to be the one to work as described.

2015-09-23   Markus Hitter * mah AT jump-ing dot de *

	* debian/README.source, debian/source/format: Debian: remove Quilt
	entirely.  All patches were removed earlier already, because there should never
	be a need for packaging patches when packaging straight from the Git
	repository. Accordingly there's no need to have a patch system at
	all.

2015-09-23   Markus Hitter * mah AT jump-ing dot de *

	* README.ppa: Debian: add instructions on how to build for the PPA.

2015-09-23   Markus Hitter * mah AT jump-ing dot de *

	* debian/patches/hid_get_extents, debian/patches/series: Debian:
	remove all patches.  When building straight from the Git repo there should never be a
	need for packaging patches.

2015-09-22   Markus Hitter * mah AT jump-ing dot de *

	* debian/pcb-common.docs, debian/rules: Debian: additional rules to
	build straight from Git.  Previous rules were set to build from a distribution tarball, so
	'configure' was expected to exist already.  These fixes are just enough to get the packages building, no or
	sanity checks happened.

2015-09-22   Markus Hitter * mah AT jump-ing dot de *

	* debian/control: Debian: adjust build dependencies to recent
	development.   - Relax dependency on 'tk8.5' to just 'tk'.   - Add 'libgts-dev' and 'texlive-binaries'.  So far only changes to get it building. All these dependencies
	likely need a review, like trying to build without them in a chroot,
	one by one, and keeping only the neccessary ones.

2015-09-21   Markus Hitter * mah AT jump-ing dot de *

	* debian/README.Debian, debian/README.source, debian/changelog,
	debian/compat, debian/control, debian/copyright,
	debian/patches/hid_get_extents, debian/patches/series,
	debian/pcb-common-dev.dirs, debian/pcb-common-dev.install,
	debian/pcb-common.dirs, debian/pcb-common.doc-base,
	debian/pcb-common.docs, debian/pcb-common.examples,
	debian/pcb-common.info, debian/pcb-common.install,
	debian/pcb-common.lintian-overrides, debian/pcb-gtk-dev.dirs,
	debian/pcb-gtk-dev.install, debian/pcb-gtk.dirs,
	debian/pcb-gtk.links, debian/pcb-gtk.lintian-overrides,
	debian/pcb-gtk.menu, debian/pcb-gtk.postinst, debian/pcb-gtk.prerm,
	debian/pcb-lesstif-dev.dirs, debian/pcb-lesstif-dev.install,
	debian/pcb-lesstif.dirs, debian/pcb-lesstif.links,
	debian/pcb-lesstif.lintian-overrides, debian/pcb-lesstif.menu,
	debian/pcb-lesstif.postinst, debian/pcb-lesstif.prerm,
	debian/pcb.xpm, debian/rules, debian/source.lintian-overrides,
	debian/source/format, debian/watch, src/hid/lesstif/main.c: Debian:
	import debian/ as-is from Eugene Mikhantievs PPA.  Fetched from
	https://launchpad.net/~mehanik/+archive/ubuntu/geda-unstable

2015-09-27   Britton Leo Kerin * britton dot kerin AT gmail dot com *

	* src/hid/gtk/gtkhid-main.c: Move gdk_window_process_all_updates to
	safest spot Because it might be a tiny bit inefficient for zoom where it was.
	This way nothing hits this except the case where we're about to do a
	pointer warp

2015-09-27   Britton Leo Kerin * britton dot kerin AT gmail dot com *

	* src/action.c, src/find.c, src/hid.h, src/hid/gtk/gtkhid-main.c,
	src/hid/gtk/gui-drc-window.c, src/misc.c, src/misc.h: Do not warp
	pointer too easily...  * Pointer warping bug people so now you have to double-click to get
	it * Tooltip for the drc window

2015-09-18   Britton Leo Kerin * britton dot kerin AT gmail dot com *

	* src/hid.h, src/hid/gtk/gtkhid-main.c,
	src/hid/gtk/gui-drc-window.c, src/hid/lesstif/main.c, src/misc.c: 
	Fix CenterWindow, DRC activation pointer warping.  CenterWindow didn't do what it's name said, it just warped the
	pointer.  Now it does both for the gtk hid, so DRC checking works
	consistently when the violation is off-screen or not.  It's still
	broken in lesstif HID but no worse than it was, and there's a
	warning about the pan-and-warp action not being implemented there.

2015-09-18   Britton Leo Kerin * britton dot kerin AT gmail dot com *

	* src/hid/gtk/gtkhid-main.c: gtkhid-main.c: remove seemingly useless
	double conversion.  They don't do anything.  The locals event_x/y are just copied out
	then straight back into gport->pcb_x/y, none of which are use at all
	in the interim.

2015-09-27   Kai-Martin Knaak * kmk AT lilalaser dot de *

	* src/hid/gtk/gui.h: hid/gtk/gui.h: fix definition of
	LAYER_BUTTON_SILK LAYER_BUTTON_SILK should give the number of the layer after all
	copper layers. Since the copper layers are enumerated starting with
	zero, this is equal to the number of copper layers MAX_LAYER.  The previous definition erreously added LAYER_BUTTON_SILK to this
	number.  This only worked, because src/const.h sets this constant to
	zero.

2015-09-27   Markus Hitter * mah AT jump-ing dot de *

	* po/POTFILES.in: Fix the recent addition of smartdisperse.c.  Before committing something, please run a 'make distcheck'. This is
	considered to be the most safe way we have to make sure there is no
	regression.  If this isn't possible, please build with and without NLS and run a
	'make check' each time. Like:   ./autogen.sh && ./configure --disable-nls --disable-doc && make   make check   ./autogen.sh && ./configure && make   make check This is a bit more manual work but gives similar confidence.  All these tests pass now again.

2014-07-08   Keith Packard * keithp AT keithp dot com *

	* src/hid/ps/ps.c: Ignore completely clipped polygons in PS export This avoids dereferencing a null pointer and crashing.   Signed-off-by: Keith Packard * keithp AT keithp dot com *
	 Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-09-27   bert * bert dot timmerman AT xs4all dot nl *

	* src/Makefile.am, src/smartdisperse.c: Added smartdisperse.c from
	Ben Jackson.  Removed bitrot, and prettyfied the file header for Doxygen.  Added
	to the build system, so it gets always compiled in.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-09-26   Markus Hitter * mah AT jump-ing dot de *

	* configure.ac: configure.ac: report tests enablement in the
	summary.  Also moved CPP_FLAGS & Co. upwards to have the more important part
	last.

2015-09-26   Markus Hitter * mah AT jump-ing dot de *

	* tests/Makefile.am: Consider build tests not run to be a failure.  Previously a missing test environment would go unnoticed, the
	distinction between a successful test run and a test not run at all
	was (almost) not noticeable.

2015-09-22   bert * bert dot timmerman AT xs4all dot nl *

	* src/fontmode.c: src/fontmode.c: Converted plain comments into
	doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-09-22   bert * bert dot timmerman AT xs4all dot nl *

	* src/flags.c: src/flags.c: Converted plain comments into doxygen
	comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-09-22   bert * bert dot timmerman AT xs4all dot nl *

	* src/find.c, src/find.h: src/find.[ch]: Converted plain comments
	into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-09-18   bert * bert dot timmerman AT xs4all dot nl *

	* src/file.c, src/file.h: src/file.[ch]: Converted plain comments
	into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-09-15   Markus Hitter * mah AT jump-ing dot de *

	* tests/run_tests.sh: run_tests.sh: make sure the test candidate is
	writable.  This makes a distinction when running 'make distcheck', because the
	file is written read-only to the distribution.

2015-09-14   Markus Hitter * mah AT jump-ing dot de *

	* configure.ac, tests/Makefile.am, tests/README.txt,
	tests/golden/Makefile.am, tests/golden/hid_bom1/Makefile.am,
	tests/golden/hid_bom2/Makefile.am,
	tests/golden/hid_bom3/Makefile.am,
	tests/golden/hid_bom4/Makefile.am,
	tests/golden/hid_gcode1/Makefile.am,
	tests/golden/hid_gcode10/Makefile.am,
	tests/golden/hid_gcode11/Makefile.am,
	tests/golden/hid_gcode2/Makefile.am,
	tests/golden/hid_gcode3/Makefile.am,
	tests/golden/hid_gcode4/Makefile.am,
	tests/golden/hid_gcode5/Makefile.am,
	tests/golden/hid_gcode6/Makefile.am,
	tests/golden/hid_gcode7/Makefile.am,
	tests/golden/hid_gcode8/Makefile.am,
	tests/golden/hid_gcode9/Makefile.am,
	tests/golden/hid_gerber1/Makefile.am,
	tests/golden/hid_gerber2/Makefile.am,
	tests/golden/hid_gerber3/Makefile.am,
	tests/golden/hid_png1/Makefile.am,
	tests/golden/hid_png2/Makefile.am,
	tests/golden/hid_png3/Makefile.am, tests/inputs/Makefile.am,
	tests/run_tests.sh: Remove these almost 25 Makefiles for just
	copying tests.  Before there was a Makefile/.am/.in in each test directory, just to
	define the EXTRA_DIST variable for this directory. A rather complex
	approach.  The new strategy is to list all these files in one place, in
	tests/Makefile.am. This almost doubles the speed of compilation
	after small changes and reduces clutter sent to the command line a
	lot, so a great improvement for developers.  Creation of new tests is also simplified, creating a Makefile.am and
	editing configure.ac is no longer neccessary.  Previous versions of this commit used wildcards to include new tests
	automatically. This strategy was discarded in favour of a
	hand-edited list, because some developers aren't exactly excited by
	using wildcards.  As we're on the topic, here are a few informative readings regarding
	recursive makes and regarding wildcards:   "Recursive Make Considered Harmful"   Peter Miller, 2008   http://aegis.sourceforge.net/auug97.pdf   GNU automake about recursion:
	http://www.gnu.org/software/automake/manual/html_node/Directories.html  GNU make about wildcards:
	http://www.gnu.org/software/make/manual/html_node/Wildcard-Function.html  GNU automake about wildcards:
	http://www.gnu.org/software/automake/manual/html_node/Wildcards.html

2015-09-16   Markus Hitter * mah AT jump-ing dot de *

	* w32/Makefile.am: w32/Makefile.am: refine the move to wildcards.  As per discussion in #geda IRC, liberal use of wildcards isn't
	exactly a good idea. Some even prefer to use no wildcards at all.
	Others want to make situations, where files are often added or
	removed, less forget-prone.  As a compromise, move towards more strict, unambiguous wildcards.

2015-09-15   Markus Hitter * mah AT jump-ing dot de *

	* src/Makefile.am: Makefile.am: refine the move from INCLUDES to
	AM_CPPFLAGS.  The key is apparently this sentence in the autoconf docs:  "AM_CPPFLAGS is ignored in preference to a per-executable   (or per-library) _CPPFLAGS variable if it is defined." Accordingly we have to add -I$(top_srcdir) to every target-specific
	*_CPPFLAGS.  This fixes a 'make distcheck' more, it builds now, but fails on the
	checks.

2015-09-15   Markus Hitter * mah AT jump-ing dot de *

	* w32/Makefile.am: w32/Makefile.am: use wildcards to include
	minipack stuff.  This should end the need for the often required commits to let the
	Makefile catch up with actual development.  This partially fixes 'make distcheck', it runs a lot further.

2015-09-14   bert * bert dot timmerman AT xs4all dot nl *

	* src/error.c, src/error.h: src/error.[ch]: Converted plain comments
	into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-09-14   bert * bert dot timmerman AT xs4all dot nl *

	* src/drill.c, src/drill.h: src/drill.[ch]: Converted plain comments
	into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-09-14   bert * bert dot timmerman AT xs4all dot nl *

	* src/draw.c, src/draw.h: src/draw.[ch]: Converted plain comments
	into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-09-13   Markus Hitter * mah AT jump-ing dot de *

	* configure.ac: configure.ac: remove test for maintainer mode.  The test is now pointless since usage of maintainer mode was
	removed.

2015-09-13   Markus Hitter * mah AT jump-ing dot de *

	* README.snapshots: A README shouldn't be run as shell script.  Not that the file had the executable bit set, but having a #!/bin/sh
	on top fools some syntax coloring editors.

2015-09-13   Markus Hitter * mah AT jump-ing dot de *

	* src/Makefile.am: Fix a configuration warning.  This was the warning message: src/Makefile.am:224: warning: 'INCLUDES' is the old name for   'AM_CPPFLAGS' (or '*_CPPFLAGS')

2015-09-04   Markus Hitter * mah AT jump-ing dot de *

	* src/toporouter.c, src/toporouter.h: Toporouter: get rid of
	GtsConstraint* in favour of GtsEdge*.  They were just single line structs, so unneccessary wrapping.  These
	two GtsConstraint* aren't present in the Debian libgts package, so
	their use is apparently deprecated.

2015-09-04   Markus Hitter * mah AT jump-ing dot de *

	* Makefile.am, configure.ac, doc/doxygen/pcb.dox, gts/.gitignore,
	gts/Makefile.am, gts/NOTES, gts/bbtree.c, gts/boolean.c, gts/cdt.c,
	gts/container.c, gts/curvature.c, gts/edge.c, gts/eheap.c,
	gts/face.c, gts/fifo.c, gts/graph.c, gts/gts-private.h, gts/gts.h,
	gts/heap.c, gts/hsurface.c, gts/iso.c, gts/isotetra.c,
	gts/kdtree.c, gts/matrix.c, gts/misc.c, gts/named.c, gts/object.c,
	gts/oocs.c, gts/partition.c, gts/pgraph.c, gts/point.c,
	gts/predicates.c, gts/predicates.h, gts/psurface.c, gts/refine.c,
	gts/rounding.h, gts/segment.c, gts/split.c, gts/stripe.c,
	gts/surface.c, gts/triangle.c, gts/tribox3.c, gts/vertex.c,
	gts/vopt.c, src/Makefile.am, src/toporouter.c, src/toporouter.h: 
	Remove GTS sources in favour of the libgts package.  Tests done: - 'make check' - Builds with --disable-toporouter with no libgts present.  - Errors at config stage with default options, but libgts not   present.  - Errors with libgts runtime package installed, but not the -dev   package.  - Builds fine with libgts present and toporouter enabled.  - Builds fine with --enable-toporouter-output, too.

2015-09-13   Markus Hitter * mah AT jump-ing dot de *

	* src/layerflags.c: Layer flags: document ListLayertypes() and
	SetLayertype().

2015-09-13   Markus Hitter * mah AT jump-ing dot de *

	* doc/pcb.texi: pcb.texi: remove the no longer existing vi-like
	commands.

2015-09-13   Markus Hitter * mah AT jump-ing dot de *

	* doc/pcb.texi: pcb.texi: rewrite Actions intro a bit more
	newbie-friendly.

2015-09-13   Markus Hitter * mah AT jump-ing dot de *

	* src/parse_y.y: Layer flags: update file format documentation.

2015-09-11   Markus Hitter * mah AT jump-ing dot de *

	* src/hid.h, src/layerflags.c: hid.h: de-deprecate most SL_* layer
	types.  They make sense, because not every "layer" drawn to the screen or
	written to a file has also a direct pysical representation.  An example would be SL_PDRILL and SL_UDRILL, which are not drawn by
	the user, but derived from pins and vias. Other layer types, like
	for example the mask layer, exist as both, derived and physical
	layer. The physical, user-drawn layer complements the derived one in
	such cases.

2015-09-13   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/menu.c: Add missing header layertypes.h Fixes build warning

2015-09-13   DJ Delorie * dj AT delorie dot com *

	* src/create.c: Define default silk layer types as LT_SILK

2015-09-13   bert * bert dot timmerman AT xs4all dot nl *

	* antifork/mirage335: Found another fork.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-09-08   bert * bert dot timmerman AT xs4all dot nl *

	* src/djopt.c, src/djopt.h: src/djopt.[ch]: Converted plain comments
	into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-09-12   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/menu.c: Fix lesstif HID wrt layer changes Fix a case of max_layer->max_copper_layer that got missed.

2015-09-11   Markus Hitter * mah AT jump-ing dot de *

	* po/POTFILES.in, src/layerflags.c: Implement Actions
	ListLayertypes() and SetLayertype().  With all this pcb magic as easy as a beginners exercise. -- if one
	knows how the magic works. :-)

2015-09-11   Markus Hitter * mah AT jump-ing dot de *

	* src/file.c, src/layerflags.c, src/layerflags.h: layerflags.c:
	simplify layertype_to_string().  Currently there can be only one value, so it's much easier to return
	just the static string, without quotes.

2015-09-11   Markus Hitter * mah AT jump-ing dot de *

	* src/Makefile.am, src/file.c, src/layerflags.c, src/layerflags.h,
	src/parse_y.y, src/strflags.c, src/strflags.h: Move layer flags
	stuff into a separate file.  This may make files more readable by sorting stuff in a more object
	oriented fashion.

2015-09-11   Markus Hitter * mah AT jump-ing dot de *

	* src/strflags.c: strflags.c: remove standalone debugging code.  Flags work fine, so if issues come up, it's likely much easier to
	write a few lines of code for investigating the issue at hand
	instead of finding out how this standalone testing works.

2015-09-07   Markus Hitter * mah AT jump-ing dot de *

	* globalconst.h, src/buffer.c, src/const.h, src/copy.c,
	src/crosshair.c, src/file.c, src/global.h,
	src/hid/common/extents.c, src/hid/common/flags.c,
	src/hid/gcode/gcode.c, src/hid/gerber/gerber.c,
	src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-gl.c,
	src/hid/gtk/gui-config.c, src/hid/gtk/gui-top-window.c,
	src/hid/gtk/gui.h, src/hid/hidint.h, src/hid/lesstif/dialogs.c,
	src/hid/lesstif/main.c, src/hid/lesstif/menu.c,
	src/hid/nelma/nelma.c, src/hid/png/png.c, src/hid/ps/eps.c,
	src/hid/ps/ps.c, src/macro.h, src/misc.c, src/move.c, src/move.h,
	src/mymem.c, src/parse_y.y, src/select.c: Clear the situation about
	MAX_LAYER.  This poked into my eye: 'MAX_LAYER + 2' or 'max_copper_layer + 2' was used in many places.
	This '2' usually means the number of all layers, including the silk
	ones. Using fixed values in such cases is less than ideal.  To relax the situation, SILK_LAYER was introduced to mark all these
	places by using 'SILK_LAYER' instead of using a plain 2.  Great
	efforts were done to find them, I hope it's complete.  Additionally, MAX_ALL_LAYER was introduced to replace 'MAX_LAYER +
	2'. This shall mark these places for grepping.  A pure refactoring, behaviour should be exactly identical.  Well, except that in 2 or 3 places I was pretty sure a choosen array
	size of MAX_LAYER was too small and should be MAX_ALL_LAYER.  These
	size increases were done. So, behaviour should be actually more
	reliable.

2015-09-09   Markus Hitter * mah AT jump-ing dot de *

	* src/parse_y.y, src/strflags.c, src/strflags.h: strflags.c,
	guess_layertype(): overhaul and document a bit.

2015-09-09   Markus Hitter * mah AT jump-ing dot de *

	* src/misc.c: misc.c: make sure a loaded layout has only one outline
	layer.  This is for compatibility with older files.

2015-09-09   Markus Hitter * mah AT jump-ing dot de *

	* src/macro.h: macro.h: add a loop for layers of a specific type.  Test code was this:   #include "strflags.h"   printf ("All layer:\n");   LAYER_LOOP (PCB->Data, max_copper_layer + 2)     printf ("Layer %d: %s\n", n, layertype_to_string(layer->Type));   END_LOOP;   printf ("Outline layer:\n");   LAYER_TYPE_LOOP (PCB->Data, max_copper_layer + 2, LT_OUTLINE)     printf ("Layer %d: %s\n", n, layertype_to_string(layer->Type));   END_LOOP;   printf ("Copper layer:\n");   LAYER_TYPE_LOOP (PCB->Data, max_copper_layer + 2, LT_COPPER)     printf ("Layer %d: %s\n", n, layertype_to_string(layer->Type));   END_LOOP;

2015-09-10   Markus Hitter * mah AT jump-ing dot de *

	* src/hid.h, src/strflags.c: Layer flags: add a layer type "route".  Such a type is often seen and _not_ to confuse with the outline
	layer.

2015-09-10   Markus Hitter * mah AT jump-ing dot de *

	* src/global.h, src/hid.h, src/strflags.c: Layer flags: make layer
	type an enum.  This brings the safety of typing and makes code even faster.

2015-09-09   Markus Hitter * mah AT jump-ing dot de *

	* src/hid.h, src/hid/common/extents.c, src/hid/gerber/gerber.c,
	src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-gl.c,
	src/hid/hidint.h, src/hid/lesstif/main.c, src/hid/nelma/nelma.c,
	src/hid/png/png.c, src/hid/ps/eps.c, src/hid/ps/ps.c, src/macro.h,
	src/misc.c, src/strflags.c, tests/golden/MinMaskGap/minmaskgap.pcb: 
	Layer flags: revert the concept of layers having a "side".  Removing features? This deserves an explanation: 1. The whole current concept of gEDA/pcb is that physical layers    map not to single virtual layers, but to layer groups.     Accordingly, and this is the strongest reason for this revert,    all layers in a group and the group its self hold the same    information and have to be kept in sync. The need to keep    a whole bunch of locations synchonized is a can of worms I    do not want to open.  2. The above isn't going to change, unless the concept of groups    is given up.  3. GUI and exporters code have currently a pretty complicated    system of finding layer types, so solving this first and    postponing reckoning the similarly complicated mechanism for    finding the side is a good idea.  4. Pulling out type finding code will also make a lot of the group    handling code obsolete.  5. The implementation found in the patch mixed properties 'side'    and 'type' into a single variable by using bitfields. Requiring    bit mask decoding is slower and, because it was done by manual    masks instead of C bitfields, error prone.  6. Additional layer properties, like 'side' or even 'color' can be    added later without much hassle, so if it turns out this commit    was a poor decision, catching up then is likely even easier    then pulling through both at once now.  7. "Do one thing at a time and do this right!" :-)

2015-09-09   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/hidint.h, src/strflags.c: Layer flags code may use its own
	macros.

2015-09-09   Markus Hitter * mah AT jump-ing dot de *

	* pcb-layertypes.patch: Layer flags: remove the original patch.

2015-09-09   Markus Hitter * mah AT jump-ing dot de *

	* pcb-layertypes.patch, src/file.c, src/global.h, src/hid.h,
	src/hid/common/extents.c, src/hid/gerber/gerber.c,
	src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-gl.c,
	src/hid/hidint.h, src/hid/lesstif/main.c, src/hid/lesstif/menu.c,
	src/hid/nelma/nelma.c, src/hid/png/png.c, src/hid/ps/eps.c,
	src/hid/ps/ps.c, src/macro.h, src/misc.c, src/misc.h,
	src/parse_y.y, src/strflags.c, src/strflags.h,
	tests/golden/MinMaskGap/minmaskgap.pcb: Layer flags: apply DJ's
	patch as is.  Origin: http://www.delorie.com/pcb/pcb-layertypes.patch Patch was applied manually, line by line. Some obvious cases were
	corrected. To get it compiling a few changes in misc.c were
	neccessary. Regression tests were updated to match the now saved
	layer flags.

2015-09-08   bert * bert dot timmerman AT xs4all dot nl *

	* src/dbus-pcbmain.c, src/dbus-pcbmain.h: src/dbus-pcbmain.[ch]:
	Converted plain comments into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-09-08   bert * bert dot timmerman AT xs4all dot nl *

	* src/dbus.c, src/dbus.h: src/dbus.[ch]: Converted plain comments
	into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-09-08   bert * bert dot timmerman AT xs4all dot nl *

	* src/data.c, src/data.h: src/data.[ch]: Converted plain comments
	into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-09-08   bert * bert dot timmerman AT xs4all dot nl *

	* src/crosshair.c, src/crosshair.h: src/crosshair.[ch]: Converted
	plain comments into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-09-08   Markus Hitter * mah AT jump-ing dot de *

	* src/file.c, src/parse_y.y: Two comment adjustments.

2015-09-07   Markus Hitter * mah AT jump-ing dot de *

	* src/find.c, src/misc.c: Get rid of now unused TOP_LAYER,
	BOTTOM_LAYER.  If used, these #defines were misplaced anyways, as this property is
	a board/application wide property.

2015-09-07   bert * bert dot timmerman AT xs4all dot nl *

	* src/create.c, src/create.h: src/create.[ch]: Converted plain
	comments into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-09-07   bert * bert dot timmerman AT xs4all dot nl *

	* src/copy.c, src/copy.h: src/copy.[ch]: Converted plain comments
	into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-09-07   bert * bert dot timmerman AT xs4all dot nl *

	* src/const.h: src/const.h: Converted plain comments into doxygen
	comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-09-07   bert * bert dot timmerman AT xs4all dot nl *

	* src/compat.c, src/compat.h: src/compat.[ch]: Converted plain
	comments into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-08-30   bert * bert dot timmerman AT xs4all dot nl *

	* src/clip.c, src/clip.h: src/clip.[ch]: Converted plain comments
	into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-08-30   bert * bert dot timmerman AT xs4all dot nl *

	* src/change.c, src/change.h: src/change.[ch]: Converted plain
	comments into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-08-30   bert * bert dot timmerman AT xs4all dot nl *

	* src/print.c: Write time in ASCII locale into exported files.  Yet again with bending the locale, but this time done properly.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2012-08-13   Patrick Bernaud * patrickb AT chez dot com *

	* antifork/bert, src/hid/png/png.c: PNG: avoid overflow when
	determining the size of constrained images.  This should close bug 1036195.  Antifork update ammended by Markus Hitter.

2015-09-06   Markus Hitter * mah AT jump-ing dot de *

	* src/action.c: ActionDisplay: show help on failure.

2015-09-06   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gtk/gui-top-window.c: gui-top-window.c: no need to check
	arguments if not used.

2015-09-05   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/common/draw_helpers.c: Non-OpenGL GUIs: fix drawing of
	rotated square pads.  Reported and patch supplied by Ineiev. Thank you very much, Ineiev! This should fix bug #699209. With non-OpenGL views, rotated square
	pads were always displayed unrotated unless one zoomed in very
	closely. No longer, rotated square pads appear now fine at any zoom
	level.  Some whitespace editing by me, Traumflug, after applying the patch.

2015-09-05   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gtk/gui-config.c, src/hid/gtk/gui-netlist-window.c,
	src/hid/gtk/gui.h: Gtk: store netlist window width in user
	preferences as well.  For some unknown reason, all windows stored height as well as width,
	but the netlist window only height. Now it's consistent.  This also solves a Gtk assertion failure, as setting a window width
	of -1 isn't allowed. Still missing is a default size.

2015-09-05   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gtk/gui-trackball.c: Gtk: replace deprecated
	GTK_WIDGET_STATE().  Gtk+ 2 Manual deprecates it and recommends to replace it with
	gtk_widget_get_state().  This follows commit d1c3fdb0b9bca15ee163acaa61c1fdeb2a67f8d9 of
	geda-gaf.

2015-09-05   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gtk/gui-drc-window.c, src/hid/gtk/gui-keyref-window.c,
	src/hid/gtk/gui-library-window.c, src/hid/gtk/gui-log-window.c,
	src/hid/gtk/gui-netlist-window.c, src/hid/gtk/gui-pinout-window.c,
	src/hid/gtk/gui-top-window.c: Gtk: replace deprecated
	gtk_window_set_default_size().  Following commit 6b3064863ea4fc57ab3773de50663eae131ff8a5 of
	geda-gaf, but replacing it with gtk_window_resize() instead of
	removing it entirely.  Trying without sizing resulted in a log window height of just one
	pixel for the message box. Also, pcb stores window sizes as user
	preferences, while gschem apparently always used fixed sizes.

2015-09-04   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gtk/gui-top-window.c: Gtk: remove deprecated
	gtk_set_locale().  Gtk+ 2 Manual deprecates it and recommends to use setlocale()
	directly. This, in turn, is done early in main() already.  Following commit 17066fd5739c1fdf3f9dba38c730409ac9e865eb of
	geda-gaf.

2015-09-04   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gui-output-events.c: Replace
	gdk_pixmap_unref() with g_object_unref().  According to GTK+ manual gdk_pixmap_unref is deprecated equivalent
	of g_object_unref().  Following commit a615040e76f0441f246163bcd8a8f191777d6109 of
	geda-gaf.

2015-09-02   Markus Hitter * mah AT jump-ing dot de *

	* src/action.c, src/hid/lesstif/main.c, src/hid/lesstif/menu.c: Fix
	a number of obvious invalid dereferences.  One of them led to a reliable segfault, so I searched all sources
	for invalid argv[] usage.

2015-09-02   Markus Hitter * mah AT jump-ing dot de *

	* tests/inputs/minmaskgap.script: Fix regression tests for the batch
	HID.

2015-09-02   Markus Hitter * mah AT jump-ing dot de *

	* src/Makefile.am, src/command.c: Remove command.c.  This mostly duplicated actions available elsewhere already, leading
	to triple redundancy of CLI commands: - Actions like SaveTo().  - The GUI menu accelerator ('s' or 'ctrl-s') - The now removed 's'.  Double redundancy is sufficient :-)

2015-09-01   Markus Hitter * mah AT jump-ing dot de *

	* src/pcbtest.sh.in: Fix pcbtest.sh another time.  The recent change to allow file paths with spaces broke running
	tests, because not all parameters not starting with a '-' are layout
	files. For example, there can be script files as well.  ==> Markus: do remember to run 'make check' before committing.

2015-08-30   Markus Hitter * mah AT jump-ing dot de *

	* antifork/bert, antifork/clifton: Antifork: more ignores for bert
	and clifton.

2015-09-01   Markus Hitter * mah AT jump-ing dot de *

	* antifork/antifork.sh: Antifork: use 'git branch -M' instead of
	'... --move --force'.  Moving with '--move --force' doesn't work when the target branch
	exists already, the '--force' flag has apparently a meaning
	different from intuition.

2015-08-31   Markus Hitter * mah AT jump-ing dot de *

	* src/Makefile.am, src/action.c, src/command.c, src/command.h,
	src/hid/gtk/gui-command-window.c, src/hid/gtk/gui-dialog.c,
	src/hid/gtk/gui-top-window.c, src/netlist.c: Remove src/command.h.  Just old cruft, nowhere used.

2015-08-31   Markus Hitter * mah AT jump-ing dot de *

	* src/pcbtest.sh.in: pcbtest.sh: allow spaces in file paths.

2015-08-31   Markus Hitter * mah AT jump-ing dot de *

	* src/pcbtest.sh.in: pcbtest.sh: simplify, fix running with gdb.

2015-08-31   Markus Hitter * mah AT jump-ing dot de *

	* src/action.c, src/djopt.c, src/hid/lesstif/dialogs.c,
	src/hid/lesstif/main.c, src/hid/lesstif/styles.c, src/report.c: 
	Refine the move from pcb_sprintf() to pcb_snprintf().  Using 'const' variables to define buffer sizes wasn't a good idea,
	such variables aren't really constant in C. It works for stack-
	allocated buffers, but not 'static' ones. Changed all of them to
	have one strategy for all cases.  Code builds now fine with --with-gui=gtk, --with-gui=lesstif and
	--with-gui=batch.

2015-08-30   Markus Hitter * mah AT jump-ing dot de *

	* src/action.c, src/hid/gtk/gui-command-window.c, src/misc.c,
	src/misc.h: Fix action SetThermal(), implement GetUnitlessValue().  The situation before was double-broken. In opposition to the
	documentation in the commandline window, SetThermal() required a
	second parameter.  The other broken thing was parsing that value, which is just an
	index into a list, but was interpreted like a coordinate given in
	centimil.  Both are fixed and on top of this, 'style' is now omittable.
	There's a default style in every layout, so no need to stress the
	user with finding the number of the wanted style.

2015-08-30   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gtk/gui-command-window.c: Gtk GUI: get help message for
	(un)loadvendor right.

2011-01-15   Bert Timmerman * bert dot timmerman AT xs4all dot nl *

	* lib/geda.inc: Renaming SOT325 footprint to SOT353, adding SC88A
	footprint.  The current SOT325 footprint (as included in pcb 20100929) gives a
	wrong footprint w.r.t. pin orientation: 1 |  | 5   |  | 4 2 |  | 3 this should have been: 1 |  | 5 2 |  | 3 |  | 4 Furthermore, googling for "SOT325" gives: 1) footprints in gedasymbols.org created by DJ.  2) according to www.nxp.com SOT-325-1 is a SDIP20 package (300 mil
	DIP).  IMO SOT325 should be renamed to SOT-353-1 --> SOT353, or SC-88A
	(JEITA standard) -->SC88A, or MO-203 (JEDEC standard).  The latter
	is not a regular name designation in pcb (yet).  All names to be
	converted without dashes, as not to frustrate M4.   Signed-off-by: Bert Timmerman * bert dot timmerman AT xs4all dot nl
	*

2015-08-30   Markus Hitter * mah AT jump-ing dot de *

	* src/gpcb-menu.res.in: Add "Report net length" to Menu -> Info in
	Gtk.  Such a useful feature and the Gtk GUI hided it :-/ Lesstif had it
	already.

2014-05-20   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid/gtk/gui-top-window.c: Added translatable tooltips for
	toolbar buttons.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2011-12-12   Bert Timmerman * bert dot timmerman AT xs4all dot nl *

	* lib/misc.inc: Use drillsize in ALF packages.  Drillsizes copied from radial can type.  Test for pitch sizes from
	ALF packages reused.

2012-09-14   Bert Timmerman * bert dot timmerman AT xs4all dot nl *

	* lib/common.m4, lib/misc.inc: Corrections on the infinite loop in
	the SIL m4 macro.   Signed-off-by: Bert Timmerman * bert dot timmerman AT xs4all dot nl
	*

2015-08-25   Markus Hitter * mah AT jump-ing dot de *

	* tests/golden/MinMaskGap/minmaskgap.pcb,
	tests/inputs/minmaskgap.script, tests/run_tests.sh,
	tests/tests.list: Implement regression tests for actions.  First test candidate is MinMaskGap().  Reference files of actions aren't automatically added to
	distribution files on --regen, because they're pretty identical to
	the original. If it was me, I'd remove all these test result
	references from the distribution. They're pointless, too trivial to
	learn from.

2015-08-24   Markus Hitter * mah AT jump-ing dot de *

	* tests/inputs/Makefile.am, tests/inputs/minmaskgap.pcb: Add a
	regression test file for action MinMaskGap().  Unfortunately the test suite doesn't support running actions, yet,
	so it's added for later usage.

2015-08-29   Markus Hitter * mah AT jump-ing dot de *

	* src/file.c: Write grid size with units.  Apparently this was forgotten earlier.  Reading/parsing code unchanged, so no compatibility issues expected.
	Also not considered to be a file format change, because values are
	ordered the same, are of the same number and versions reading this
	file format must be capable of reading units already.  This was found when hand-editing a testcase for LP1022076, the grid
	size was saved to "funny" numbers, breaking regression tests.

2015-08-24   Markus Hitter * mah AT jump-ing dot de *

	* src/action.c: src/action.c: make Rolands patch for MinMaskGap()
	complete.  Moved to a more general solution. Instead of looking at the Hole
	flag, the mask offset is now always related to the bigger of
	Thickness and DrillingHole.  Also applied the same for vias, which are the GUI way of defining
	holes.  Last, all this in only applied if a mask hole existed before at all.
	Typical non-mounting-hole vias are fully covered by solder resist.

2012-09-13   Robert Drehmel * robert AT zoot dot drehmel dot com *

	* src/action.c: MinMaskGap() should care about holes.  MinMaskGap() should care about holes as it does about pins, pads,
	and vias. Otherwise, fab houses might complain because the solder
	mask doesn't have enough distance to holes.  The problem in detail: ActionMinMaskGap() checks whether the hole's thickness plus the
	specified minimum mask gap is larger than the currently set mask
	value. If so, it sets the new mask to be the hole's thickness plus
	the specified minimum mask gap value. ActionMinMaskGap() should
	check a hole's drilling diameter and base the mask calculation upon
	that.  This patch fixes the issue.  ... only for pins declared as hole. --Traumflug

2015-08-27   Markus Hitter * mah AT jump-ing dot de *

	* antifork/bert: Antifork: more ignores for bert.

2015-08-29   Markus Hitter * mah AT jump-ing dot de *

	* antifork/antifork.sh: Antifork: another small speedup.  Also avoids a message "deleting branch" when the branch is actually
	only replaced.

2015-08-29   Markus Hitter * mah AT jump-ing dot de *

	* antifork/antifork.sh: Antifork: get away without checkouts.  This is not only faster and leaves less garbage behind, it also
	solves an important point: checking out an older branch means that
	the whole directory antifork/ vanishes, so the script's working
	directory gets lost. Git relies on having an existing working
	directory.

2015-08-29   Markus Hitter * mah AT jump-ing dot de *

	* src/main.c: Enforce LC_NUMERIC = "C" on the command line, too.  This was set in the GUI already, but this is too late for command
	line processing and not happening at all if there is not GUI.  Finally(!) all tests pass, 'make check' succeeds even with NLS
	enabled.

2015-08-29   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode.c: fix file name creation.  Here we want file mode names, too. '.' instead of ','.  Regression tests no almost pass, even with NLS enabled:   Passed 19, failed 2, skipped 0 out of 21 tests.

2015-08-29   Markus Hitter * mah AT jump-ing dot de *

	* src/Makefile.am, src/ascii-printf.c, src/ascii-printf.h: Remove
	ascii-printf.c/.h.  Fare well, ascii_printf() ! You were coded and documented very
	carefully. Doing so I learned enough to finally enhance pcb_printf()
	to write floats/doubles in file mode, too.

2015-08-29   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c, src/hid/gcode/trace.c, src/main-test.c: 
	Replace/remove of ascii_fprintf() in favour of pcb_fprintf().  Now that pcb_vprintf() respects file mode for generic floats, too,
	this works just as fine.

2015-08-29   Markus Hitter * mah AT jump-ing dot de *

	* src/action.c, src/djopt.c, src/hid/lesstif/dialogs.c,
	src/hid/lesstif/main.c, src/hid/lesstif/styles.c, src/pcb-printf.c,
	src/pcb-printf.h, src/report.c: pcb-printf: replace pcb_sprintf()
	with pcb_snprintf().  Using the types without 'n' is just asking for buffer overflows.

2015-08-29   Markus Hitter * mah AT jump-ing dot de *

	* src/pcb-printf.c: pcb-printf: teach float/double specifiers to
	respect `.  Not too complicated and works quite fine.

2015-08-29   Markus Hitter * mah AT jump-ing dot de *

	* src/pcb-printf.c: pcb-printf: remove impossible case.  '*' is handled directly, never added to the spec string.

2015-08-29   Markus Hitter * mah AT jump-ing dot de *

	* src/pcb-printf.c: pcb-printf: allow arbitrary order of
	sub-specifiers.  It was simply too confusing to sort all these modifier characters in
	the right order. It should make code more robust.  Yes, '#' is a duplicate, but it was one before, too.

2015-08-28   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/bom/bom.c, src/hid/gcode/gcode.c: gcode.c, bom.c: adjust
	more pcb_fprintf() usage for NLS.  We slowly get closer to tests passing:   Passed 12, failed 2, skipped 7 out of 21 tests.

2015-08-28   Markus Hitter * mah AT jump-ing dot de *

	* src/Makefile.am, src/ascii-printf.c, src/ascii-printf.h,
	src/hid/gcode/gcode.c, src/hid/gcode/trace.c, src/main-test.c: 
	Implement ascii-printf.c/.h.  Main purpose of this is formatting independent from a users locale,
	e.g. when writing G-code file contents.  This commit includes application to the G-code exporter. It doesn't
	make the tests pass with NLS enabled, but the diffs became much
	smaller. 'make check' passes as before with NLS disabled.

2015-08-27   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c, src/hid/gtk/gui-top-window.c,
	src/hid/gtk/gui-utils.c, src/main.c: Stop experimenting with LC_ALL,
	LC_NUMERIC & Co.  Adjusting printf(), fprintf() output via environment variables can't
	ever work, because there is only one such variable globally.  How
	should this work if the exporter and some GUI part wants to printf()
	something at the same time? Clash.  The standards comittees very apparently simply forgot or ignored
	that not all printf() output is meant to be human readable. Bummer.  I almost imported an older printf() implementation to have one
	ignoring the locale, but then I found g_ascii_formatd() on Glib.
	This line works independently from the locale:   char b[100];   fputs(g_ascii_formatd(b, 100, "%3.2f\n", 125.646), stdout); Fine. Now we know on how to go ahead.  Regarding regression tests: 'make check' passes now without NLS (it
	didn't before), but fails even uglier with NLS enabled.  Both on a
	system with de_DE locale.

2015-08-27   Markus Hitter * mah AT jump-ing dot de *

	* src/main.c: main.c: include gettext.h in favour of libintl.h.  gettext.h handles ENABLE_NLS already and likely does it better.

2015-08-24   Markus Hitter * mah AT jump-ing dot de *

	* antifork/antifork.sh: antifork/antifork.sh: extend the intro
	comment.  Add a copyright notice and explain more in detail what this tool is
	about. Also try to comment in a fashion parseable by Doxygen.

2015-08-23   Markus Hitter * mah AT jump-ing dot de *

	* antifork/bert: Antifork: ignore duplicates in bert.

2015-08-23   bert * bert dot timmerman AT xs4all dot nl *

	* antifork/antifork.sh: Changed a comment in the antifork script.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-08-23   bert * bert dot timmerman AT xs4all dot nl *

	* antifork/bgamari, antifork/dti, antifork/gde, antifork/kupson,
	antifork/leaky, antifork/see: Found even more forks.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-08-23   bert * bert dot timmerman AT xs4all dot nl *

	* antifork/BenBergman, antifork/WileyECoyote, antifork/alyoshin,
	antifork/dparnell, antifork/fruoff, antifork/jaredcasper,
	antifork/jpmatsci, antifork/rlutz, antifork/russdill,
	antifork/thequux, antifork/whiteaudio: More forks found  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-08-22   Markus Hitter * mah AT jump-ing dot de *

	* antifork/antifork.sh, antifork/bert, antifork/clifton,
	antifork/rnd: Introduce antifork.  This is a measure to deal with all these forks spread around the
	globe and not contributing back. We simply pull all of them and take
	measures to trash the obsolete stuff immediately.

2015-08-26   Markus Hitter * mah AT jump-ing dot de *

	* src/drill.c, src/print.c, src/report.c: Don't round and join drill
	sets for display.  This was confusing, because the number of required drills on display
	(drill report) and in the Gerber fab file could be different from
	the actual CNC files.  Note that pcb features applying a vendor drill map, so one can round
	all drills consistently to what a board house offers.

2015-08-26   Markus Hitter * mah AT jump-ing dot de *

	* src/drill.c, src/print.c: drill.c: fix RoundDrillInfo() for the
	case with just one size.  Previously one would get different drill sizes depending on wether
	there were other drills, too.  This makes the addition of 0.004 in print.c obsolete and should also
	fix bug #699318.

2015-08-24   bert * bert dot timmerman AT xs4all dot nl *

	* src/change.c: src/change.c: Converted plain comments into doxygen
	comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-08-23   bert * bert dot timmerman AT xs4all dot nl *

	* src/buffer.c, src/buffer.h: src/buffer.[ch]: Converted plain
	comments into doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2012-08-14   Kai-Martin Knaak * kmk AT lilalaser dot de *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-top-window.c,
	src/hid/gtk/gui.h: Show the actual name of silk layers in the GUI.  This patch makes the GTK GUI show the actual name of the silk layer,
	rather than a hard coded "silk". The layer name in silk gets updated
	if the view is swapped.   Signed-off-by: Bert Timmerman * bert dot timmerman AT xs4all dot nl
	*  Signed-off-by: Markus Hitter * mah AT jump-ing dot de *

2015-08-23   bert * bert dot timmerman AT xs4all dot nl *

	* src/buffer.c: src/buffer.c: Converted plain comments into doxygen
	comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-08-19   bert * bert dot timmerman AT xs4all dot nl *

	* src/box.h: src/box.h: Converted plain comments into doxygen
	comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-08-18   bert * bert dot timmerman AT xs4all dot nl *

	* src/autoroute.h: src/autoroute.h: Converted plain comments into
	doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-04-14   bert * bert dot timmerman AT xs4all dot nl *

	* src/parse_y.y: Corrected scale value for `umil` unit.   Reported-by: Peter S. May * me AT psmay dot com *  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-08-19   Markus Hitter * mah AT jump-ing dot de *

	* configure.ac: Don't configure with AM_MAINTAINER_MODE.  As the automake manual explains it's self, maintainer mode
	intentionally attempts to build old, possibly broken code:
	https://www.gnu.org/software/automake/manual/html_node/maintainer_002dmode.htmlThe manual also explains why this is a bad idea:  "If one user has to modify a Makefile.am, then either   Makefile.in should be updated [...] but the last thing you   want is that nothing happens and the user doesn’t notice it   (this is what happens when rebuild rules are disabled by   AM_MAINTAINER_MODE)." It also sees a reason why this pitfall is kept at all:  "it [still] helps them working on projects where all files are   kept under version control" However, gEDA/pcb does NOT keep these generated files under version
	control.  That said, maintainer mode can be enabled at any time by passing
	--enable-maintainer-mode to 'configure'.

2015-08-19   Markus Hitter * mah AT jump-ing dot de *

	* src/Makefile.am: src/Makefile.am: parse_y.h isn't a source file.
	https://www.gnu.org/software/automake/manual/html_node/Yacc-and-Lex.html: "You should never explicitly mention the intermediate (C or C++)   file in any SOURCES variable; only list the source file."

2015-08-18   bert * bert dot timmerman AT xs4all dot nl *

	* po/nl.po: Updated the Dutch translation file.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *  Suggested-by: Richard Rasker * rasker AT linetec dot nl *

2015-07-24   bert * bert dot timmerman AT xs4all dot nl *

	* src/autoroute.c: autoroute.c: Converted plain comments into
	doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-07-23   bert * bert dot timmerman AT xs4all dot nl *

	* src/action.h: action.h: minor changes in Doxygen header.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-07-23   bert * bert dot timmerman AT xs4all dot nl *

	* src/action.c: action.c: minor changes in Doxygen header.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-07-21   bert * bert dot timmerman AT xs4all dot nl *

	* src/autoplace.h: src/autoplace.h: Converted plain comments into
	doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-07-21   bert * bert dot timmerman AT xs4all dot nl *

	* src/autoplace.c: src/autoplace.c: Converted plain comments into
	doxygen comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-07-21   bert * bert dot timmerman AT xs4all dot nl *

	* src/action.c, src/action.h: action: edits in the Doxygen file
	headers.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-07-20   erich_heinzle * a1039181 AT gmail dot com *

	* doc/pcb.texi, src/fontmode.c: Added font information to pcb
	manual.   Reviewed-by: Vladimir Zhbanov * vzhbanov AT gmail dot com *

2015-07-15   bert * bert dot timmerman AT xs4all dot nl *

	* src/action.h: src/action.h: Converted plain comments into doxygen
	comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-07-15   bert * bert dot timmerman AT xs4all dot nl *

	* src/action.c: src/action.c: Converted plain comments into doxygen
	comments.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-01-19   bert * bert dot timmerman AT xs4all dot nl *

	* doc/doxygen/.gitignore, doc/doxygen/create_pcb_dox.sh,
	doc/doxygen/pcb-main.txt, doc/doxygen/pcb.dox,
	doc/doxygen/what-is-pcb.html: Added files for generation of
	developer documentation with Doxygen.  Ignore output files generated in html and latex directories.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-02-27   bert * bert dot timmerman AT xs4all dot nl *

	* src/action.c: action.c: clean up before return.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-02-27   bert * bert dot timmerman AT xs4all dot nl *

	* src/action.c: action.c: added cast to int.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-02-18   bert * bert dot timmerman AT xs4all dot nl *

	* src/hid.h: hid.h: removed duplicate forward declaration.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-06-26   bert * bert dot timmerman AT xs4all dot nl *

	* src/find.c: Correction of word-wrap in duplicate text.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-04-14   bert * bert dot timmerman AT xs4all dot nl *

	* src/report.c: Correction in "drill report" window (GTK GUI), a
	wrong total count was reported.  Reported-by: Felix K (kuhlix)  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-02-06   Andrew Poelstra * apoelstra AT wpsoftware dot net *

	* src/pcb-printf.c, src/pcb-printf.h: pcb-printf: add (incomplete)
	specifier unit test; allow # and $ to be in any order

2015-02-05   Andrew Poelstra * apoelstra AT wpsoftware dot net *

	* src/main-test.c: src/main-test.c: remove unused variables from
	main()

2015-02-05   Andrew Poelstra * apoelstra AT wpsoftware dot net *

	* src/.gitignore, src/Makefile.am, src/main-test.c,
	src/pcb-printf.c, src/pcb-printf.h: Add unit test framework and
	simple unit-conversion test This adds a single unit test using the GLib test framework. To run
	the unit tests, just run `make check` as usual. If there is a
	failure, output can be seen by directly running the produced
	`src/unittest` binary.  This also fixes the coord_to_unit function to provide correct
	output.  Before there were some rounding errors.

2015-01-08   Marco Ciampa * ciampix AT libero dot it *

	* po/.gitignore: Added pcb.pot to the gitignore file.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-01-11   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/action.c, src/buffer.c, src/create.c, src/create.h,
	src/file.c, src/main.c: Remove unused parameter SetDefaultNames from
	CreateNewPCB The SetDefaultNames parameter to CreateNewPCB was not used (despite
	various callers passing both true and false), so remove it.

2015-01-11   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/create.c: Rename default silk layers from "silk" to "top silk"
	and "bottom silk"

2015-01-11   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/create.c: Always set default layernames for silk layers This avoids incorrect layernames being left over from our layer
	stack should a board be loaded with missing layers

2015-01-11   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* w32/recipes/pango.recipe: w32: Update pango recipe to 1.28.3 (Probably not the latest available, but one I successfully used with
	gEDA and PCB before)

2015-01-11   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* w32/recipes/cairo.recipe: w32: Update cairo recipe to 1.10.2 (Probably not the latest available, but one I successfully used with
	gEDA and PCB before)

2015-01-11   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* w32/build-all.sh, w32/recipes/freetype.recipe: w32: Add recipe for
	freetype (Probably not the latest available, but one I successfully used with
	gEDA and PCB before)

2015-01-11   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* w32/recipes/pixman.recipe: w32: Update pixman recipe to 0.20.2 (Probably not the latest available, but one I've successfully use
	with gEDA and PCB before)

2015-01-11   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* w32/patches/gettext/01-AC_PROG_CXX.patch,
	w32/patches/gettext/02-AC_CHECK_TOOLS.patch,
	w32/patches/gettext/03-include_memchr.patch,
	w32/recipes/gettext.recipe: w32: Attempt to make gettext build
	successfully Patch the configure.ac files as necessary to avoid the need to
	override CXX at configure time.  Fixup gettext-tools/libgettextpo/Makefile.gnulib to include a
	replacement memchr function (which is assumed to be broken on the
	target system when cross-compiling).

2015-01-10   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* w32/patches/gettext/01-revert-sed-string.patch,
	w32/patches/gettext/02-Avoid-missing-open-argument-error.patch,
	w32/recipes/gettext.recipe: w32: Update gettext recipe to 0.18

2015-01-10   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* w32/recipes/zlib.recipe: w32: Update zlib recipie to drop
	?download.  It appears this is not required any more, and its presence breaks
	things

2015-01-10   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* w32/recipes/gd.recipe: w32: Update gd recipie to new version and
	download location for libgd

2015-01-08   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Improve accuracy of
	"Benchmark" action somewhat Divide by the actual time taken, not exactly 10. (To get _good_
	accuracy we'd also need to use timers more accurate than 1s!)

2015-01-07   Marco Ciampa * ciampix AT libero dot it *

	* src/action.c: Small fix in text source.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2015-01-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* missing: Update "missing" (automake) script to a later version Avoids some warnings at configure time noted with automake 1.14

2015-01-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/crosshair.c, src/crosshair.h, src/hid/gtk/gtkhid-gdk.c,
	src/hid/gtk/gtkhid-gl.c, src/hid/lesstif/main.c: Pass an explicit
	graphics context to DrawAttached and DrawMark

2015-01-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/lesstif/main.c: lesstif: Fix lesstif_use_mask and
	associated state to use the mask_mode enum

2015-01-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/hidint.h: hid/hidint.h: Remove header guard check, it
	appears not to be required

2015-01-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/hidint.h: Update header guard macro check in hidint.h to
	match rename The header guard in global.h was renamed in commit
	f6c2d4907583614a10918a121f45670620f1946e Fixes an implicitly defined function warning in lesstif/main.c

2015-01-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/lesstif/netlist.c: lesstif: Silence two set but unused
	variable warnings

2015-01-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/lesstif/main.c: lesstif: Silence set but unused variable
	warning

2015-01-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/lesstif/main.c: lesstif: Silence set but unused variable
	warning

2015-01-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/lesstif/main.c: lesstif: Silence set but unused variable
	warning

2015-01-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/gtk/gtkhid-gdk.c: Fix typo converting request_debug_draw
	to return a HID_DRAW structure Fixes GTK HID built without OpenGL

2015-01-02   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid.h: hid.h: Update comment to reflect change in API

2015-01-01   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/autoroute.c, src/hid.h, src/hid/common/hidnogui.c,
	src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-gl.c,
	src/hid/gtk/gui.h, src/hid/lesstif/main.c: Pass a HID_DRAW structure
	for debug drawing, not HID Avoids passing the caller access to more functionality than
	required.

2015-01-01   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/autoroute.c: autoroute.c: Add missing include required for
	debug drawing

2015-01-01   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/crosshair.c: Don't use abuse mask drawing of pin/via drawing
	routines to show DRC clearance during placement Explicitly call the graphical drawing routines as necessary.

2014-12-09   Roland Lutz * rlutz AT hedmen dot org *

	* src/.gitignore, src/Makefile.am, src/gpcb-menu.res.h,
	src/pcb-menu.res.h: Don't put generated i18n helper files under
	version control  Reported-by: Sergey Alyoshin * alyoshin dot s AT gmail dot com *

2014-12-08   Roland Lutz * rlutz AT hedmen dot org *

	* src/Makefile.am: Skip prompt on `make distcheck'

2014-12-08   Roland Lutz * rlutz AT hedmen dot org *

	* po/POTFILES.in, po/POTFILES.skip, src/.gitignore,
	src/Makefile.am, src/gpcb-menu.res.h, src/pcb-menu.res.h: Fix menus
	not being translated

2014-11-12   Eugene Mikhantiev * mikhantiev AT gmail dot com *

	* tests/golden/hid_png3/Makefile.am: PCB make distcheck

2014-11-12   Roland Lutz * rlutz AT hedmen dot org *

	* po/POTFILES.in, po/POTFILES.skip: List real source files, not
	generated C files, in po/POTFILES.in

2014-10-29   Roland Lutz * rlutz AT hedmen dot org *

	* : Add support for arbitrary-depth footprint libraries  Tested-by: Kai-Martin Knaak * knaak AT iqo dot uni-hannover dot de
	*

2014-09-10   Roland Lutz * rlutz AT hedmen dot org *

	* src/hid/gtk/gui-config.c: Remove 509-character limit on
	configuration values  Tested-by: Kai-Martin Knaak * knaak AT iqo dot uni-hannover dot de
	*

2014-09-11   Roland Lutz * rlutz AT hedmen dot org *

	* src/hid/gtk/gui-library-window.c: If there is only one library
	root node, keep it expanded

2014-09-11   Roland Lutz * rlutz AT hedmen dot org *

	* src/file.c: Load footprints recursively from subdirectories

2014-09-11   Roland Lutz * rlutz AT hedmen dot org *

	* src/hid/gtk/gui-library-window.c: Add support for recursive
	directories to GTK library dialog

2014-09-11   Roland Lutz * rlutz AT hedmen dot org *

	* src/file.c, src/hid/gtk/gui-library-window.c,
	src/hid/lesstif/library.c: Store full library path with menus

2014-09-10   Roland Lutz * rlutz AT hedmen dot org *

	* src/hid/gtk/gui-config.c: Remove 511-character limit on
	configuration file lines  Tested-by: Kai-Martin Knaak * knaak AT iqo dot uni-hannover dot de
	*

2014-09-10   Roland Lutz * rlutz AT hedmen dot org *

	* doc/.gitignore, doc/mdate-sh: Remove outdated copy of `mdate-sh'

2014-09-10   Roland Lutz * rlutz AT hedmen dot org *

	* .gitignore: Add `test-driver' to the list of ignored files

2014-07-10   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/change.c, src/print.c, src/thermal.c: Remove unused #include
	"setjmp.h" from a few files

2014-07-05   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/crosshair.c, src/search.c, src/search.h: Remove function
	SearchScreenGridSlop() and use SearchObjectByLocation() directly

2014-07-05   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/action.c: action.c: Fix handling of the case where a segment
	already exists when drawing lines We cancel creating any segment which would overlay an existing, but
	we previously failed to move the start-point and toggle the
	line-start direction so as to continue drawing from the desired
	point as if we HAD created the line.

2014-07-04   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/gtk/gui-output-events.c: hid/gtk: Remove debugging printf
	accidentally committed

2014-07-04   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* : commit 4ca484d4f6c4ae3159c19c723036f980e93d19ce  Author: Peter
	Clifton * peter AT clifton-electronics dot co dot uk * Date:   Fri
	Jul 4 01:45:02 2014 +0100

2014-07-04   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/change.c, src/change.h, src/global.h: Revert "Introduce
	dynamic board size." This reverts commit d91daad65c3ea7e2e1b6ce876b7d41550f6a784e.      The goal is to eventually define the board's extent by the
	    outline layer, only. That way, all the exporters can export
	    properly sized layouts.      Undoubtly, this can also influence the GUIs. For example, "zoom
	    to fit" becomes a slightly different meaning and drawing outside
	    the board's extent becomes possible. Autorouting and similars can be
	    limited to the actual board size. Resizing a board to the lower left
	    no longer requires the error-prone moving of all the stuff and keeps
	    file diffs small.  The code in question does NOT dynamically update the desired
	information when the outline layer changes, and it adds yet more
	 magic meaning to the "outline" layer which I'm trying slowly to
	remove from PCB. This is the wrong way to cope with unlimited board
	sizes.

2014-07-04   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/gcode/gcode.c: hid/gcode: Don't use
	PCB->Extent{Min,Max}{X,Y}.. they are about to be killed The extent updating code is broken, and adds yet more special-case
	code which handles the "outline" layer. Use PCB->MaxWidth and
	PCB->MaxHeight, these represent the size the of board, and are the
	values which the extents code defaulted to if it did not find any
	lines on the "outline" layer.

2014-07-04   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/gtk/gui-output-events.c, src/hid/gtk/gui-top-window.c,
	src/hid/gtk/gui.h: hid/gtk: Don't use a static local variable for
	the tooltip id, it is ugly.

2014-07-04   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/gerber/gerber.c: hid/gerber: Fix broken eagle-suffix
	filename assignemnt This was broken carelessly in commit
	c812fbae2dfe74cd3d39dd2dcc5cdbb08e07555a NB: Please pay attention to compiler warnings... they are there for
	a reason!

2014-07-04   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/gtk/gui-utils.c, src/hid/gtk/gui.h: constify name argument
	to ghid_notebook_page() Avoids a compiler warning when building the GTK hid.

2014-07-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/line.c, src/misc.c, src/misc.h: Remove function
	GetGroupOfLayer, use GetLayerGroupNumberByNumber() instead.  These functions are virtually identical, the only difference being
	special-case handling in the deleted function to force returning
	max_group if passed layer number "max_copper_layer".  This actually (as it happens), corresponds to the bottom silk layer,
	and this handling is suspect at best. GetLayerGroupNumberByNumber()
	will return the group corresponding to the bottom of the board
	(whichever that may be).

2014-07-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/misc.c: Avoid walking off the layer group string in
	ParseGroupString Oops - fix bug introduced in previous commit

2014-06-28   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* globalconst.h, src/action.c, src/create.c,
	src/hid/gtk/gui-config.c, src/main.c, src/misc.c, src/misc.h,
	src/parse_y.y: Determine layer count in ParseGroupString This may break support for reading a board without a valid Groups()
	construct, although that will only affect ancient PCB files.

2014-06-28   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/parse_y.y: parse_y.y: Don't bother setting LayerFlag[1,2] for
	elements - it isn't used

2014-06-28   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/file.c, src/file.h, src/parse_y.y: Move contents of
	PreLoadElementPCB and PostLoadElementPCB into parse_y.y These functions are only called from parse_y.y, and access yy
	prefixed variables which should be private to the parser/lexer.

2014-06-28   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* globalconst.h, src/autoroute.c, src/draw.c, src/global.h,
	src/hid.h, src/hid/batch/batch.c, src/hid/gcode/gcode.c,
	src/hid/gerber/gerber.c, src/hid/gtk/gui-config.c,
	src/hid/lesstif/dialogs.c, src/hid/nelma/nelma.c,
	src/hid/png/png.c, src/hid/ps/eps.c, src/hid/ps/ps.c, src/move.c: 
	Create a new constant MAX_GROUP to size arrays of layer groups.  This is clearer than using MAX_LAYER. (Although the numbers are
	identical).

2014-06-26   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/autoplace.c, src/autoroute.c, src/buffer.c, src/create.c,
	src/crosshair.c, src/data.h, src/djopt.c, src/flags.c,
	src/global.h, src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-config.c,
	src/hid/gtk/gui-misc.c, src/hid/lesstif/dialogs.c,
	src/hid/lesstif/main.c, src/hid/png/png.c, src/hid/ps/eps.c,
	src/macro.h, src/misc.c, src/polygon.c: Rename
	"{component,solder}_silk_layer" to "{top,bottom}_silk_layer" This will avoid confusion when we start adding "soldermask" layers.  The resulting variables solder_soldermask_layer and
	component_soldermask_layer are not ideal (repeated use of the word
	solder), so lets start using "top_" and "bottom_" to define the
	board sides. The corresponding new layer names are then
	"top_soldermask_layer" and "bottom_soldermask_layer", which is less
	confusing.  Patch includes various other renaming of component -> top and solder
	-> bottom.

2014-06-26   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/action.c, src/autoplace.c, src/autoroute.c, src/buffer.c,
	src/crosshair.c, src/draw.c, src/hid/batch/batch.c,
	src/hid/common/flags.c, src/hid/gcode/gcode.c,
	src/hid/gerber/gerber.c, src/hid/gtk/gtkhid-main.c,
	src/hid/lesstif/main.c, src/hid/png/png.c, src/hid/ps/eps.c,
	src/hid/ps/ps.c, src/misc.c, src/move.c, src/puller.c, src/rats.c,
	src/rubberband.c, src/toporouter.c: Use new function
	GetLayerGroupNumberBySide() to make code clearer Replaces code calling GetLayerGroupNumberByNumber() against one of
	the silk-screen layers in order to find the layer group containing
	the top or bottom side of the board.  Patch includes various renaming of component -> top, and solder ->
	bottom

2014-06-27   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/line.c: line.c: Cleanup group checking in drc_lines() Avoid using an out-of-bounds layer number which might be used in
	future.

2014-06-27   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/misc.c, src/misc.h: Create new function
	GetLayerGroupNumberBySide()

2014-06-26   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/const.h, src/data.h, src/draw.c, src/find.c, src/fontmode.c,
	src/macro.h, src/misc.c, src/parse_y.y: Replace
	{COMPONENT,SOLDER}_LAYER with {TOP,BOTTOM}_{SILK_LAYER,SIDE}
	depending on usage We used the {COMPONENT,SOLDER}_LAYER constants for two distinct
	meanings: 1. To identify board sides, ie. use as an integer constant
	representing top / bottom 2. As an offset at the end of the layer array to index the two
	silk-screen layers Split the usage of these constants as appropriate, so the difference
	in meaning is clear. {TOP,BOTTOM}_SIDE are used where we need an
	integer constant (1 and 0 respectively) refering to the side of the
	board. This is used, for example, as a side specifier in draw.c, and
	for indexing arrays of pads per board-side in find.c.  Usage as an offset into the layer for referencing the silk-screen
	layers is now {TOP,BOTTOM}_SILK_LAYER. The relevant offset of
	PCB->LayerN must still be added.

2014-06-26   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/move.c: move.c: Fix incorrect usage of max_group Numerically correct (at the moment), semantically wrong.

2014-06-13   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/polygon1.c: Fix some broken assumptions regarding 32-bit
	integer coordinates in polygon1.c

2014-06-12   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/polygon.c: polygon.c: Readability cleanup for frac_circle()

2014-06-08   Andrew Poelstra * apoelstra AT wpsoftware dot net *

	* src/hid/png/png.c, tests/golden/hid_png3/Makefile.am: png: add
	explicit round() calls to the scaling After this commit the tests pass on both 32- and 64-bit builds.
	Hopefully this time it's really dead; the previous "fix" af27c2d by
	myself merely increased the DPI of the output, but this one attempts
	to get deterministic rounding behaviour.  Tests from folks with actual 32-bit machines are welcome.  Closes-bug: lp-860037

2014-06-06   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/gtk/gui-dialog.c: hid/gtk: Focus file save dialog at exit
	to "Save", not "Close without saving".  Avoids inadvertently loosing work when closing the application.
	"Cancel" would also be a safe choice of default focus, but the
	choice of "Save" is copied from gedit to help give better platform
	consistency on Gnome systems.

2014-02-23   Jorge Barros de Abreu * ficmatin10 AT gmail dot com *

	* doc/gs/pt_BR/fb-blinker-pt_BR.texi,
	doc/gs/pt_BR/fb-led-pt_BR.texi, doc/gs/pt_BR/fb-smt-pt_BR.texi,
	doc/gs/pt_BR/firstboard-pt_BR.texi, doc/gs/pt_BR/gs-pt_BR.texi,
	doc/gs/pt_BR/installation-pt_BR.texi,
	doc/gs/pt_BR/introduction-pt_BR.texi,
	doc/gs/pt_BR/terminology-pt_BR.texi: Translation of Getting Started
	with PCB to pt_BR  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2014-04-17   bert * bert dot timmerman AT xs4all dot nl *

	* src/file.c: Changed the backup file suffix from dash to tilde.  Reported-by: rosvall  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2014-05-22   Richard Hughes * richard AT hughsie dot com *

	* data/pcb.appdata.xml.in: Fix the AppData and update to the latest
	spec version Also, include the full size screenshot as the old one was too small
	to be used.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2014-05-16   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/puller.c: puller.c: Fix some cases where we use int rather
	than Coord

2014-05-16   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/puller.c: puller.c: Fix trace printf in find_pair() to reflect
	actual arguments

2014-05-16   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/crosshair.c: crosshair.c: Clean up MoveCrosshairAbsolute() to
	make the logic more readable

2014-05-16   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/crosshair.c, src/crosshair.h, src/set.c: Remove
	MoveCrosshairRelative function and convert old usage to
	FitCrosshairIntoGrid() The two places this function was used passed (0, 0) as the position
	delta, and intend only to force a re-calculation of the grid-snap.  Make the intent more clear by calling FitCrosshairIntoGrid()
	directly.

2014-05-03   Jorge Barros de Abreu * ficmatin10 AT gmail dot com *

	* po/pt_BR.po: Update pt_BR.po  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2014-04-26   Ivan Stankovic * pokemon AT fly dot srk dot fer dot hr *

	* src/hid/gtk/gui-output-events.c: hid/gtk: reset
	tooltip_update_timeout_id properly check_object_tooltips may run before cancel_tooltip_update, causing
	its GSource to be removed, but leaving the old timeout id.  This
	results in warnings such as   (pcb:7135): GLib-CRITICAL **: Source ID 258 was not found when   attempting to remove it So we simply reset the id to zero before returning from
	check_object_tooltips.   Signed-off-by: Andrew Poelstra * apoelstra AT wpsoftware dot net *

2014-04-23   Andrew Poelstra * apoelstra AT wpsoftware dot net *

	* src/hid/gtk/gui-config.c: gtk: add option to Preferencs dialog to
	save in metric-only mode

2014-04-23   Andrew Poelstra * apoelstra AT wpsoftware dot net *

	* src/file.c, src/global.h, src/main.c: Add command-line option
	--save-metric-only When passed --save-metric-only, pcb will only use the 'mm' suffix
	when saving pcb files, rather than using both mm and mil.

2014-04-23   Andrew Poelstra * apoelstra AT wpsoftware dot net *

	* src/pcb-printf.c, src/pcb-printf.h: pcb-printf: make
	ALLOW_READABLE constant changeable at runtime The ALLOW_READABLE constant is a bitmask of units which old versions
	of pcb can read, which is currently hardcoded to ALLOW_MIL |
	ALLOW_MM.  This patch replaces the constant with a function call
	whose return value can be changed at runtime. (By default the
	function returns the old ALLOW_READABLE value, so this commit makes
	no user-visible changes.) In a later commit I will add a user-settable option to change the
	effective ALLOW_READABLE value, at least to allow reducing it to
	simply ALLOW_MM.

2014-03-16   DJ Delorie * dj AT delorie dot com *

	* ChangeLog, NEWS: Update for release

2014-03-16   DJ Delorie * dj AT delorie dot com *

	* tests/golden/hid_gcode4/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode4/gcode_oneline-top.gcode,
	tests/golden/hid_gcode6/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode6/gcode_oneline-top.gcode: update gcode golden
	files Checked with linuxcnc - the old goldens had zeros where the
	parameters should have been.

2014-02-23   Jorge Barros de Abreu * ficmatin10 AT gmail dot com *

	* po/pt_BR.po: pt_BR adjusts and make update-po  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2014-02-03   Jorge Barros de Abreu * ficmatin10 AT gmail dot com *

	* po/pt_BR.po: pt_BR.po update Closes-bug: lp-1275446

2014-02-03   Jorge Barros de Abreu * ficmatin10 AT gmail dot com *

	* po/pt_BR.po: Minor changes in po pt_BR.po file Closes-bug: lp-1274404

2014-02-03   Vladimir Zhbanov * vzhbanov AT gmail dot com *

	* src/hid/gtk/gui-config.c: Fix segfault caused by lack of commas in
	a format expression Closes-bug: lp-1275407

2014-02-01   Jorge Barros de Abreu * ficmatin10 AT gmail dot com *

	* po/pt_BR.po: Preferencias do PCB to Preferências...   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2014-02-01   Vladimir Zhbanov * vzhbanov AT gmail dot com *

	* doc/pcb.texi: Fix order of sections in the documentation Prevent warnings output by "make" when pcb.texi is processed.

2014-01-31   Vladimir Zhbanov * vzhbanov AT gmail dot com *

	* doc/pcb.texi: Fix several typos in the documentation

2014-01-31   أحمد المحمودي (Ahmed El-Mahmoudy) * aelmahmoudy AT sabily dot org *

	* src/pcbtest.sh.in: Fix 'make distcheck' Use proper target directory for pcblib-newlib.  Closes-bug: lp-855405  Commit-message-by: Vladimir Zhbanov * vzhbanov AT gmail dot com *

2014-01-31   Vladimir Zhbanov * vzhbanov AT gmail dot com *

	* po/POTFILES.in, po/POTFILES.skip: Add one more localized file to
	POTFILES.in Additionally, the file generated from it is moved to POTFILES.skip

2013-01-30   Sergey Alyoshin * alyoshin dot s AT gmail dot com *

	* src/action.c, src/buffer.c, src/hid/common/actions.c,
	src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-config.c,
	src/hid/gtk/gui-dialog.c, src/hid/gtk/gui-drc-window.c,
	src/hid/gtk/gui-output-events.c, src/hid/gtk/gui-top-window.c,
	src/hid/lpr/lpr.c, src/misc.c, src/parse_y.y, src/report.c,
	src/toporouter.c, src/vendor.c: Add strings to localization  Signed-off-by: Bert Timmerman * bert dot timmerman AT xs4all dot nl
	*  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2014-01-30   Vladimir Zhbanov * vzhbanov AT gmail dot com *

	* src/hid/bom/bom.c: Don't use localized unit names in comments of
	the X-Y files Fix a bug causing 'make distcheck' to fail for all bom_hid# tests in
	localized environments because of using of a localized unit name in
	a comment line of the output X-Y file.

2014-01-29   Vladimir Zhbanov * vzhbanov AT gmail dot com *

	* po/POTFILES.in: Add a missing file to POTFILES.in

2014-01-29   Vladimir Zhbanov * vzhbanov AT gmail dot com *

	* data/Makefile.am: Remove a duplicated line INTLTOOL_XML_RULE is used twice in Makefile.am, which results in
	having two same lines in generated Makefile.

2014-01-29   Vladimir Zhbanov * vzhbanov AT gmail dot com *

	* data/Makefile.am: Fix 'make distcheck' 'make distcheck' has been broken again in
	c74ba603517380bae59f1ff68a5f100c2fb1c960

2014-01-29   Vladimir Zhbanov * vzhbanov AT gmail dot com *

	* src/Makefile.am: Fix 'make distcheck' Fix a bug introduced in 6aa50cc4c93fec243cba9cd37c86090496af3feb

2012-12-04   Sergey Alyoshin * alyoshin dot s AT gmail dot com *

	* src/hid/gtk/gui-utils.c: Allow hotkeys in button labels Use _with_mnemonic functions to allow '_' hotkey.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2012-12-02   Sergey Alyoshin * alyoshin dot s AT gmail dot com *

	* src/hid/gtk/gui-output-events.c, src/macro.h: Add UNKNOWN_NAME
	macro UNKNOWN_NAME macro is the same as UNKNOWN, but allow to specify
	"unknown name", which can be useful for localization.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2014-01-26   Sergey Alyoshin * alyoshin dot s AT gmail dot com *

	* src/hid/gtk/gui-top-window.c: Add tooltips to mode menu buttons  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2014-01-18   Sergey Alyoshin * alyoshin dot s AT gmail dot com *

	* po/POTFILES.in, src/hid/lpr/lpr.c, src/hid/ps/ps.c: Add strings
	from LPR and PS HID's to translation  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2012-12-02   Sergey Alyoshin * alyoshin dot s AT gmail dot com *

	* src/hid/gtk/gui-dialog-print.c: Print dialog i18n  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2014-01-26   bert * bert dot timmerman AT xs4all dot nl *

	* data/.gitignore: Ignore data/pcb.appdata.xml.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2014-01-25   bert * bert dot timmerman AT xs4all dot nl *

	* data/Makefile.am, data/pcb.appdata.xml, data/pcb.appdata.xml.in,
	po/POTFILES.in: Let appdata have translatable strings.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2014-01-12   bert * bert dot timmerman AT xs4all dot nl *

	* data/Makefile.am: Added the appdata target to the Makefile.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2014-01-12   bert * bert dot timmerman AT xs4all dot nl *

	* data/pcb.appdata.xml: Added an appdata file.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2013-02-03   Bert Timmerman * bert dot timmerman AT xs4all dot nl *

	* src/hid/gtk/gui-netlist-window.c: Fixing a typo.   Signed-off-by: Bert Timmerman * bert dot timmerman AT xs4all dot nl
	*  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2013-02-03   Sergey Alyoshin * alyoshin dot s AT gmail dot com *

	* src/hid/gtk/gui-config.c, src/hid/gtk/gui-misc.c,
	src/hid/gtk/gui-netlist-window.c, src/report.c: Add strings to
	translation with context  Signed-off-by: Bert Timmerman * bert dot timmerman AT xs4all dot nl
	*  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2012-12-01   Sergey Alyoshin * alyoshin dot s AT gmail dot com *

	* src/gettext.h, src/global.h: Use gettext.h for pgettext()  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2014-01-26   Sergey Alyoshin * alyoshin dot s AT gmail dot com *

	* po/ru.po: Updated Russian translation  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2014-01-25   Jorge Barros de Abreu * ficmatin10 AT gmail dot com *

	* po/pt_BR.po: pt_BR language update  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2013-09-02   Sergey Alyoshin * alyoshin dot s AT gmail dot com *

	* src/find.c: Use ngettext for message with plural form  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2014-01-16   xmd * shinobi dot jack AT gmail dot com *

	* src/hid/gerber/gerber.c: gerber.c: added an option for Hackvana
	file name convention.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2012-12-01   Sergey Alyoshin * alyoshin dot s AT gmail dot com *

	* src/hid/gtk/ghid-main-menu.c: Menu items i18n This adds i18n for gtk menus Closes-bug: lp-1113758

2014-01-20   Vladimir Zhbanov * vzhbanov AT gmail dot com *

	* autogen.sh, src/.gitignore, src/Makefile.am: Fix menu
	gettextization Changes were made to eliminate errors output by 'make distcheck' or
	'make -C po update-po'.  Closes-bug: lp-913458

2012-12-01   Sergey Alyoshin * alyoshin dot s AT gmail dot com *

	* po/POTFILES.in: Fix .res.in to .res.h in POTFILES.in Affects-bug: lp-913458

2014-01-18   Jorge Barros de Abreu * ficmatin10 AT gmail dot com *

	* po/LINGUAS, po/pt_BR.po: Added pt_BR translation file.   Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2013-10-10   Kevin Redon * kevredon AT mail dot tsaitgaist dot info *

	* src/djopt.c: add missing option splitlines in djopt_syntax  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2013-10-10   Kevin Redon * kevredon AT mail dot tsaitgaist dot info *

	* src/action.c: fix missing ) typo in changeclearsize_syntax  Signed-off-by: bert * bert dot timmerman AT xs4all dot nl *

2013-10-27   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/gtk/gui-misc.c, src/hid/gtk/gui-top-window.c: Fix lockup
	when a scroll event is received outside the drawing area This can occur if the user is dragging a component in the drawing
	area (hence a pointer grab is in operation), and during this drag,
	the user moves the mouse outside the drawing area and touches the
	scroll wheel.  We then hit the scroll event handler, mouse action handler, action
	dispatcher etc.. and find we do not have a current location known.
	(The cursor is outside the drawing area).  We then prompt for a
	location, and using a recursive main- loop, wait for some kind (e.g.
	a mouse click) which gives one.  The problem appears to be caused by the fact it is likely we get a
	second scroll event with the first, and that we process this from
	within the recursive main-loop. We are still outside the drawing
	area, so prompt the user for a location, and enter another level of
	recursion. (In my tests, I was able to hit 6 or 7 levels deep of
	main-loop recursion).  Our code fails to exit its recursive main-loop if it rucurses, and
	in any case, we would not want to prompt the user "n" times in a
	row. The failure to exit from recursion is probably due to the event
	handlers attached by the first recursive main-loop being called
	prior to those attached later. (We attempt to quit the first
	recursive main-loop, but cannot, as there are others now running).  As a quick work-around to the immediate problem, prevent scroll
	events being received from within the recursive main-loop. This
	prevents the lockup, but ideally we should re-think how we handle
	these events to avoid requiring the user to click on a coordinate.  I have also added a GDK_THREADS_{LEAVE,ENTER} pair around running
	the main-loop, as this is what GTK's code does for gtk_dialog_run().

2013-08-03   Markus Hitter * mah AT jump-ing dot de *

	* tests/golden/hid_bom1/Makefile.am,
	tests/golden/hid_bom1/bom_general.bom,
	tests/golden/hid_bom1/bom_general.xy,
	tests/golden/hid_bom2/Makefile.am,
	tests/golden/hid_bom2/bom_general.xy,
	tests/golden/hid_bom2/test.bom,
	tests/golden/hid_bom3/bom_general.bom,
	tests/golden/hid_bom3/test.xy,
	tests/golden/hid_bom4/bom_general.bom,
	tests/golden/hid_bom4/bom_general.xy: Regenerate tests after "Make
	xy file output IPC 7531 compliant.".

2012-12-31   dark141 AT gmail dot com * dark141 AT gmail dot com *

	* src/hid/bom/bom.c: Make xy file output IPC 7531 compliant.   Improved code style by Bert Timmerman * bert dot timmerman AT
	xs4all dot nl * dot

2013-08-02   Eugene Mikhantiev * mikhantiev AT gmail dot com *

	* po/POTFILES.skip: Add intl/plural.c to POTFILES.skip

2012-11-08   Markus Hitter * mah AT jump-ing dot de *

	* src/action.c: src/action.c: add a number of comments.  ... in the hope they're right.

2013-07-31   Markus Hitter * mah AT jump-ing dot de *

	* src/res_parse.y: src/res_parse.y: handle resource globals
	gracefully.  Likely, res_file is used somewhere to check something. In case a
	resource file was loaded earlier, but the current parsing is from a
	string, res_file is still != NULL, so this check would mislead.  Solution: Clear res_file and res_filename as soon as the file           behind it gets closed.  Also replace a number of zeros with the more appropriate NULL.  Affects-bug: lp-1206882

2013-07-15   DJ Delorie * dj AT delorie dot com *

	* src/action.c: Additional checks for existing names In ActionElementList, add an additional check for
	DESCRIPTION_NAME(e) before comparing with an old footprint.

2013-06-22   Bert Timmerman * bert dot timmerman AT xs4all dot nl *

	* src/Makefile.am: src/Makefile.am: revert the AM_CPPFLAGS change as
	it breaks the building process.   Signed-off-by: Bert Timmerman * bert dot timmerman AT xs4all dot nl
	*

2013-06-18   Leo Bärring * leo dot barring AT gmail dot com *

	* configure.ac, doc/extract-docs, doc/pcb.texi, gts/Makefile.am,
	src/Makefile.am, src/hid/lesstif/main.c: Patch to resolve archlinux
	build warn/errors.   Signed-off-by: Bert Timmerman * bert dot timmerman AT xs4all dot nl
	*

2013-04-19   Gabriel Paubert * paubert AT iram dot es *

	* src/hid/gerber/gerber.c: Gerber: use 0.1mil resolution for
	imperial drill files.   Acked-by: Andrew Poelstra * apoelstra AT wpsoftware dot net *
	 Acked-by: Peter Stuge * peter AT stuge dot se *

2013-04-19   Gabriel Paubert * paubert AT iram dot es *

	* src/pcb-printf.c, src/pcb-printf.h: pcb-printf: Add 0.1mil
	resolution, improve documentation and a small cleanup.  0.1mil resolution is needed for improved imperial drill file
	generation.  Apart form this, the list of %m unit modifiers is now
	fully documented and a redundant test was removed.   Acked-by: Andrew Poelstra * apoelstra AT wpsoftware dot net *
	 Acked-by: Peter Stuge * peter AT stuge dot se *

2013-04-19   Gabriel Paubert * paubert AT iram dot es *

	* src/hid/gerber/gerber.c: Gerber: reset aperture numbers on
	initialization.  This prevents aperture numbers from growing to infinity if you
	export several times to Gerber in the same GUI session.   Acked-by: Andrew Poelstra * apoelstra AT wpsoftware dot net *
	 Acked-by: Peter Stuge * peter AT stuge dot se *

2013-04-13   Bert Timmerman * bert dot timmerman AT xs4all dot nl *

	* src/hid/ps/ps.c: ps.c: correction in printer calibration.   Reported-by: Stephen R. Besch * sbesch AT buffalo dot edu *  Signed-off-by: Bert Timmerman * bert dot timmerman AT xs4all dot nl
	*

2012-11-01   Bert Timmerman * bert dot timmerman AT xs4all dot nl *

	* doc/gs/installation.texi: doc/gs/installation.texi: better use
	"yum localinstall" to keep the updater synchronised.  Corrected some typos.   Signed-off-by: Bert Timmerman * bert dot timmerman AT xs4all dot nl
	*

2012-04-18   Bert Timmerman * bert dot timmerman AT xs4all dot nl *

	* doc/gs/installation.texi: doc/gs/installation.texi: Added a remark
	about administrator-privileges.   Signed-off-by: Bert Timmerman * bert dot timmerman AT xs4all dot nl
	*

2012-01-11   Bert Timmerman * bert dot timmerman AT xs4all dot nl *

	* doc/gs/installation.texi: doc/gs/installation.texi: Added
	information how to install pcb on Fedora.   Signed-off-by: Bert Timmerman * bert dot timmerman AT xs4all dot nl
	*

2012-08-13   Kai-Martin Knaak * kmk AT lilalaser dot de *

	* src/.gitignore: add parse_y.output to src/.gitignore  Signed-off-by: Bert Timmerman * bert dot timmerman AT xs4all dot nl
	*

2012-12-02   Sergey Alyoshin * alyoshin dot s AT gmail dot com *

	* src/hid/gtk/ghid-cell-renderer-visibility.c: Don't localize signal
	name  Signed-off-by: Bert Timmerman * bert dot timmerman AT xs4all dot nl
	*

2013-01-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/find.c: find.c: Remove some "flag" variable usage in DRCFind() Avoid confusion by passing *FLAG constants directly to some
	functions.  This removes several cases where we would set the
	variable, use it once, then change it for the next usage, making the
	code more succinct.  I was not able to remove the flag variable entirely, as the while
	loop calling DoIt() relies on it being changed inside the loop in
	order to terminate. It should be possible to re-write the loop exit
	condition if desired, but I'm not sure I completely understand the
	behaviour of the existing code yet.

2013-01-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/find.c: find.c: Remove "flag" variable in DRCAll(), and pass
	explicitly each time.  This avoids confusion by making the flag passed to each call
	clearer.  It removes several cases where we would set the variable,
	use it once, then change it for the next usage, making the code more
	succinct.

2013-01-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/find.c: find.c: Fix flag passed to ListStart() in DRCFind().  We should have set the flag before calling ListStart(), as it marks
	the first item with that flag.

2013-01-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/find.c: find.c: Fix possible un-assigned use of "flag" in
	DRCFind(), fix bloated test.  Caught by inspection.. no idea why the compiler didn't notice.  Before commit 4cbfadfb7a496e60c25f47c88bdb374b4d3777bb, our local
	"flag" variable was the file-global "TheFlag". If the "shrink" test
	was not run, the code called ClearFlagOnAllObjects() with the
	previously assigned "TheFlag". After the above commit, we would use
	"flag" unassigned.  If the shrink test is executed, the "FOUNDFLAG" is cleared from
	objects, leaving a SELECTEDFLAG image on the copper in question as a
	reference to compare against when considering the bloated geometry.
	(This is the wrong reference, as we should be comparing against the
	non-shrunk case).  If the shrink test was not run, we left no reference for the boated
	test.  We should clear FOUNDFLAG _and_ SELECTEDFLAG after the shrunk test,
	then construct a new reference to start with, using non-bloated
	geometry.  This partly fixes the behaviour of the bloated test, as it is now
	run against a non-bloated reference, not a shrunk reference. This
	fixes false reports of "Copper areas too close" for track objects
	encountered after a "Potential for broken trace" warning.  There are still other issues with the bloated DRC test. One
	important one is that it may run multiple times on the same geometry
	if a "Potential for broken trace" error is present, or if the
	"shrink" test is not run.  The repeated runs are because in the "Potential for broken trace"
	case, only part of the track (or none if we skip the shrink test)
	will get the DRCFLAG set. DRCFind then will be called repeatedly on
	all pins, pads and vias, despite having already touched the geometry
	with the bloated test.  To fix this, we need to separate the shrink
	and bloat tests into distinct passes, and set the DRCFLAG on objects
	during both tests. We can't simply set the DRCFLAG from the bloated
	test as it stands, as doing so would mask investigating "Potential
	for broken trace" cases after the first encountered.  An example of false "Copper areas too close" being fixed by this
	commit is the following test-case: FileVersion[20091103] PCB["" 65.000mm 15.0000mm] Grid[984.251969 0.0000 0.0000 1] PolyArea[3100.006200]
	Thermal[0.500000] DRC[0.5000mm 0.5000mm 0.5000mm 0.2500mm 0.4000mm
	0.5000mm] Flags("nameonpcb,uniquename,clearnew,snappin")
	Groups("1,c:2,s:3:4")

	Styles["Signal,0.5000mm,1.0000mm,0.5000mm,0.2500mm:Power,25.00mil,60.00mil,35.00mil,10.00mil:Fat,40.00mil,60.00mil,35.00mil,10.00mil:Skinny,6.00mil,24.02mil,11.81mil,6.00mil"]Attribute("PCB::grid::unit" "mm") Attribute("PCB::grid::size"
	"0.2500mm") Via[9.7500mm 7.2500mm 1.6000mm 0.5000mm 0.0000 0.5000mm "" ""]
	Via[53.5000mm 7.2500mm 1.6000mm 0.5000mm 0.0000 0.5000mm "" ""]
	Layer(1 "top") ( 	Line[9.7500mm 8.5000mm 28.0000mm 8.5000mm 0.5000mm 0.5000mm
		"clearline"] Line[9.7500mm 7.2500mm 9.7500mm 8.5000mm 0.5000mm
		0.5000mm "clearline"] Line[28.2500mm 8.5000mm 53.5000mm 8.5000mm
		0.5000mm 0.5000mm "clearline"] Line[53.5000mm 7.2500mm 53.5000mm
	8.5000mm 0.5000mm 0.5000mm "clearline"] ) Layer(2 "bottom") ( )
	Layer(3 "silk") ( ) Layer(4 "silk") ( )

2013-01-03   DJ Delorie * dj AT delorie dot com *

	* src/hid/png/png.c: png: --fill-holes Add an option to the PNG exporter to draw pin/via drill holes as
	filled instead of hollow, for use with CNC machines that don't need
	a "helper" hole in the copper.  Also fixed a doc typo.

2013-01-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/find.c: find.c: Use SetThing, rather than open-coding
	assignments to thing_* I'm trying to identify all uses of SetThing and similar consructs,
	so I can eventually kill them.

2013-01-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/find.c: find.c: Remove unnecessary PIN/VIA test from
	SetThing() This is not needed since commit
	d581a90edc7fb7c0b4c6351611cc4a6689d7620b which put similar code into
	ADD_PV_TO_LIST(), the only caller which could have previously
	resulted in a SetThing call with the wrong type.

2013-01-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* configure.ac: configure.ac: Test for libgd once, not per HID which
	uses it.  This avoids some repeated tests, so should help to speed up the
	configure process a little. This commit also enforces testing for
	the required PNG support in libgd if the gcode or nelma HIDs are
	selected.

2013-01-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* configure.ac: configure.ac: Remove CC_OR_CXX_FLAGS substitution
	from configure.ac

2013-01-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/Makefile.am: src/Makefile.am: We don't gain anything by
	setting AM_CFLAGS to C_OR_CXX_FLAGS We were duplicating command-line flags un-necessarily, and it does
	not stop the a build with the C++ compiler using CFLAGS, as was (in
	hindsight) the original intention before commit
	72cdf2ecef3361a00fbd0ee3e540f7383e62272c where I changed a complete
	CFLAGS override to a AM_CFLAGS addition.  As we should not override CFLAGS in a Makefile (it prevents the user
	from setting CFLAGS at "make" time), I'm removing this completely.

2013-01-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* configure.ac: configure.ac: Use CPPFLAGS, not CFLAGS for our
	include directives.  We were previously using CFLAGS for adding pre-processor includes,
	where these should really end up in the CPPFLAGS variable.
	Confusingly, their constituents tend to come from variables set by
	autoconf / pkgconfig expansions in the form of LIBNAME_CFLAGS.  Doing this allows the user to easily override CFLAGS at build time
	without needing to replicate the enture include path list.

2013-01-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* configure.ac: configure.ac: Save and restore CPPFLAGS either side
	of test for libgd Ensure we add GD_CFLAGS to the the main flag list later instead.

2013-01-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* configure.ac: configure.ac: Don't add GD_CFLAGS to CFLAGS, only
	CPPFLAGS GD_CFLAGS will almost certainly contain pre-processor flags, not
	strictly compiler flags, and we don't need to have a copy in CFLAGS
	as well.

2013-01-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* configure.ac: configure.ac: Save and restore CPPFLAGS either side
	of test for X11 stuff We add X_CFLAGS and X_LIBS to the main flag list later, so don't
	leave an extra copy lying around in the CPPFLAGS variable.

2013-01-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* configure.ac: configure.ac: Don't copy CFLAGS into CPPFLAGS for
	X11 tests CFLAGS should work in its own right, and CPPFLAGS does not need a
	copy.

2013-01-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* configure.ac: configure.ac: Don't add win32 build flags to
	CPPFLAGS as well as CFLAGS These are compiler flags only, not preprocessor flags.

2013-01-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* configure.ac: Remove CYGWIN_CFLAGS and CYGWIN_CPPFLAGS from
	configure.ac We no longer ship a build-script which requries these. Any specific
	CFLAGS for a given build should be overridden by specifying CFLAGS
	at configure or make time.

2013-01-01   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/gcode/gcode.c: hid/gcode: Add a more direct "#include
	<locale.h>" for setlocale() The lack of this include caused a failure to build on my machine
	when compiled without optimisation (-O0). With any optimisation
	turned on, the build would work without the include.  Having chased this strangeness down, it turns out that we were
	including libintl.h via global.h, and that libintl.h includes
	locale.h, IFF optimisation is turned on at the time it is
	pre-processed.

2013-01-01   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/find.c: find.c: Remove some unnecessary includes.

2013-01-01   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/find.c: find.c: Move file-global "NumberOfPads" into the
	function which uses it

2012-12-24   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/find.c: find.c: Pass flags to sub-functions without using
	static variable "TheFlag".

2012-12-30   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/find.c: find.c: Remove some un-needed forward declarations of
	static functions

2012-12-25   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/find.c, src/polygon.c, src/polygon.h: Refactor signature of
	PlowsPolygon callback to take userdata This allows callers to pass arbitrary data into their callbacks
	without resorting to nasty workarounds like global variables.

2012-12-30   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* : commit 6963cfda0ca661a7a1397ef5b54e418f76b89260  Author: Peter
	Clifton * peter AT clifton-electronics dot co dot uk * Date:   Mon
	Dec 24 00:13:41 2012 +0000

2012-12-30   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/main.c: Change FOUND objects colour from green to purple...  Aim to differentiate the region connected to the search origin from
	those which should be (but are not yet) connected to it.

2012-12-10   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/action.c: Tag physically/logically connected items differently
	in the "Find" action This commit restores the semantic meaning of the "found" flag to
	what it was before commit 764c3560a722c768a7048f5c70811ec363862882,
	and uses the "connected" flag to identify which of the "found"
	(logically connected) items are physically connected to the search
	origin.  The aim here is to differentiate between what an ohm-meter would
	show connected with the board as-currently designed, and what it
	would read if all rat-lines were implemented.

2012-12-24   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/find.c: find.c: Use pointers to objects, not shallow copies of
	their structures Since commit 4658e4074b4446337467f99fa2b8f9b7147e7e01, we don't
	modify the copied objects, so we can use pointers instead.

2012-12-23   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/action.c, src/gpcb-menu.res.in, src/pcb-menu.res.in: Add
	option to "Select" action, differentiating "FOUND" and "SELECTED"
	objects The exising "Select" action included the variant
	"Select(Connected)", which selected any object with the "FOUNDFLAG"
	set.  As we now make a distinction between logical and physical
	connectivity (FOUND and SELECTED) respectively, this commit
	introduces a split into "Select(Found)" and "Select(Connected)"
	variants.  There is a change here, in that "Select(Connected)" now acts on
	objects with the CONNECTED flag set, (not the FOUND flag as it did
	previously).

2012-12-23   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/draw.c, src/undo.h: draw.c: Support for coloring objects with
	CONNECTEDFLAG set We now color objects with the FOUNDFLAG set in the FoundColor, not
	the ConnectedColor as we did previously. Unsurprisingly, objects
	with the CONNECTEDFLAG set get rendered in the ConnectedColor.  CONNECTEDFLAG is tested before FOUNDFLAG, and takes precidence if an
	object has both flags set.

2012-12-23   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/create.c, src/global.h, src/main.c: Add FoundColor to resource
	settings, distinct from the Connected color For now, set ConnectedColour and FoundColor to the same green, so we
	can introduce this patch series without flip-flopping the renderered
	colours.

2012-12-22   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/const.h, src/strflags.c: Add a new flag, "connected" /
	CONNECTEDFLAG.  The intended use of this flag is to mark physical connections.

2012-12-22   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/find.c: find.c: Avoid adding any rat-lines at all when AndRats
	is false.  Previously we were adding some rat-lines when searching for physical
	connections. We should stop at the physical->rat boundary, not the
	opposite end of the ratline.

2012-12-23   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/find.c: find.c: Fix inverted logic in LookupConnection() When AndRats is true, we may consider starting with a ratline
	object, otherwise we do no. I got this backwards by mistake.

2012-12-25   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/find.c: find.c: Remove file-global "IsBad", use
	PlowsPolygons() return value.  This variable was used to communicate state from the drc_callback(),
	however PlowsPolygons() returns the sum of the values returned by
	its callback function. As our callback returns 0 on success, 1 on
	DRC failure, we know any non-zero return from PlowsPolygons()
	implies a DRC problem.

2012-12-24   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/find.c: find.c: Avoid modifying bounds of the objects we are
	passing down Bloat the bounding box into a local BoxType structure instead, to
	avoid passing inconsistent objects to lower level functions.

2012-12-27   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/find.c: find.c: Avoid repeated lookup of layer pointer by
	number Rename a few "layer" varaibles to "layer_no", and re-use "layer"
	where necessary as a LayerType *, rather than a Cardinal.

2012-12-24   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/find.c: find.c: Tidy up some macro definitions (Whitespace only changes)

2012-12-24   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/find.c: find.c: Remove unused function pv_touch_callback()

2012-12-24   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/action.c: action.c: Fix drawing lines on silkscreen with
	auto-enforce DRC enabled The auto-enforce DRC code was not incorrectly setting FOUNDFLAG on
	one of each pair of line-segments drawn with a mouse-click.  Completes the fix from commit
	aa7196dc29a761ecddda1a40d68fedf39ab78c31 Affects-bug: lp-699291

2012-12-23   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/action.c, src/find.c, src/find.h,
	src/hid/gtk/gui-drc-window.c, src/hid/gtk/gui-netlist-window.c,
	src/hid/lesstif/netlist.c, src/rats.c, src/report.c, src/select.c,
	src/set.c: Rename ResetFound{LinesAndPolygons,PinsViasAndPads} and
	ResetConnections These functions are not specific to the "found" flag, (or the soon
	to be introduced "connected" flag, so to avoid confusion, rename
	them:   ClearFlagOnLinesAndPolygons ()   ClearFlagOnPinsViasAndPads ()   ClearFlagOnAllObjects ()

2012-12-23   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/buffer.c, src/const.h, src/copy.c: Add #define list of flags
	to unset when copying into a buffer Previously, the removal of FOUNDFLAG was hard-coded in various
	places, lets consolidate the location to one header file, as when we
	split the FOUNDFLAG to differentiate logical and physical
	connectivity, we will only have one location to update.

2012-12-23   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/gtk/gui-drc-window.c: hid/gtk/gui-drc-window.c: Refactor
	unset_found_flags() to use ResetConnections() There is a lot of code in this function which matches
	ResetConnections(), we only need to take care of the undo buffer
	management at the end.

2012-12-23   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/const.h: const.h: Re-indent flags with spaces, rather than
	tabs Whitespace only change. Allows adding flags with longer hex-strings
	without having to shuffle the indenting too much.

2012-12-23   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/const.h: const.h: Fix flag documentation for the NOPASTE flag We were listing the wrong flag value for this flag.

2012-12-19   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/find.c: find.c: Refactor some duplicated code for adding
	objects to various lists

2012-12-22   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/gtk/gtkhid-gl.c: hid/gtk: (GL) Disable scissor test for
	pinout preview widget.  The partial drawing is interacting badly with our double-buffering,
	as we are not painting the entire buffer we are swapping onto the
	screen.  I have left a comment and some debug code, as this may need
	revisiting to address what is really going on here.

2012-12-22   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/gtk/gtkhid-gl.c: hid/gtk: Disable GL alpha-blending for
	the pinout preview We aren't using subcompositing for this, so don't alpha-blend.

2012-12-23   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/gtk/gtkhid-gl.c: hid/gtk: (GL) Start with the stencil test
	disabled in all rendering Keep the pinout preview and pixmap rendering paths as close as
	possible to the main drawing window one. There was probably no real
	issue here, but it doesn't hurt to be consistent.

2012-12-22   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/gtk/gtkhid-gl.c: hid/gtk: Use common GL setup and teardown
	code for different expose paths

2012-12-22   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/buffer.c, src/copy.c, src/create.c, src/create.h,
	src/parse_y.y: create.c: Remove Element parameter to
	CreateNewElement() Lets always make a new element, not re-use old memory. It seems
	saner to do this when we have an API with "New" in the name! No callers use the facility to fill in a pre-allocated (or already
	used) ElementType structure any more.

2012-12-22   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/parse_y.y: parse_y.y: Pass NULL explicitly to
	CreateNewElement(), rather than via yyElement This makes things clearer.

2012-12-22   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/buffer.c, src/copy.c, src/copy.h,
	src/hid/gtk/gui-pinout-preview.c: copy.c: Remove "Dest" variable to
	CopyElementLowLevel() function We no longer require this, as all callers pass NULL in order that
	CopyElementLowLevel() allocates memory for the new element.

2012-12-22   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/buffer.c: AddElementToBuffer(): Let CopyElementLowLevel()
	create the element to copy into.

2012-12-22   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-gl.c,
	src/hid/gtk/gui-pinout-preview.c, src/hid/gtk/gui-pinout-preview.h: 
	hid/gtk: Make the pinout preview element use dynamicly allocated
	memory.  By embedding the element structure in our data-structure, we were
	forcing various element initialisation and copy routines to be
	require operating on a pre-allocated ElementType - rather than just
	returning us a pointer to a newly allocated ElementType.

2012-12-22   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/mymem.c: mymem.c: Allow elements to exist independently of a
	buffer.  If the DataType pointer to GetElementMemory is NULL, we allocate
	memory but don't add to the buffer's element list or counters.  This is useful as it will allow rendering of pinout previews without
	needing separate (or static) memory allocation to hold the previewed
	Element.

2012-12-22   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/draw.c: draw.c: Always draw pin / hole names when in pinout
	preview This was removed a long time ago by mistake when refactoring some of
	this drawing code, and causes missing text in the Lesstif HID pinout
	preview.

2012-12-22   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/common/extents.c: hid/common: Fix extents computation in
	nm units We still had some fallout from the nm units conversion here, using
	MAXINT rather than COORD_MAX for some bounds checking.  This was completely breaking the lesstif HID pinout preview window.

2012-12-22   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/buffer.c, src/copy.c, src/copy.h,
	src/hid/gtk/gui-pinout-preview.c: copy.c: Add mask_flags parameter
	to CopyElementLowLevel() This avoids us needing to unset ExtraFlags separately in buffer.c

2012-12-22   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/action.c, src/hid/gtk/gui-netlist-window.c,
	src/hid/lesstif/netlist.c, src/select.c, src/select.h: select.c:
	Rename SelectConnection() to SelectByFlag() and add flag parameter

2012-12-22   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/select.c: select.c: Rename "Flag" to "select" for clarity.  This will help avoid confusion when adding a "flag" parameter to
	specify which flag to check in SelectConnection().

2012-12-19   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/find.c, src/find.h: find.c: Make some setup / teardown
	functions not used outside of find.c static.  This makes the following functions private to find.c:   InitComponentLookup   FreeComponentLookupMemory   InitLayoutLookup   FreeLayoutLookupMemory

2012-12-18   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/find.c, src/find.h: find.c: Remove unused APIs SaveFindFlag()
	and RestoreFindFlag() The find.c APIs which require flags setting up now take the flag as
	a function parameter.

2012-12-18   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/gtk/gui-netlist-window.c, src/hid/lesstif/netlist.c,
	src/rats.c, src/select.c: Remove calls to SaveFindFlag() These were needed before our APIs specified which flags they
	operated on, but are now redundant. All entrypoints in find.c which
	use flags now set the flag before commencing work.

2012-12-18   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/find.c, src/find.h, src/hid/gtk/gui-netlist-window.c,
	src/hid/lesstif/netlist.c, src/rats.c, src/select.c: find.c: Add
	flag parameter to RatFindHook() API.  This saves us having to expose an API to save and restore the find.c
	static "theFlag" variable.  The key difference (once the save/restore are removed), is that we
	then won't restore "TheFlag" variable after we are done. This will
	not matter as all entry-points in find.c now take a flag parameter
	and there should not be reentrancy in these calls.

2012-12-16   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/batch/batch.c: hid/batch: Add missing #include
	"hid_draw.h" I should have built-tested all HIDs when I refectored this.. oops.

2012-12-16   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/lesstif/main.c: hid/lesstif: Fix incorrect structure
	assignment due to bad refactoring.  I should have built-tested all HIDs when I refectored this.. oops.   Reported-by: Ralf Gerbig * rge AT quengel dot org *

2012-12-15   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/find.c, src/find.h: find.c: Make
	Is{Arc,Line,Pad,Polygon}InPolygon() functions static These are only used from within find.c, so make them static so the
	compiler is more free to optimise their usage.

2012-12-15   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/find.c: Remove unused functions {LO,PV}TouchesLine() and their
	callbacks Unused since we removed the unused function clearLine()

2012-12-15   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/find.c, src/find.h: find.c: Remove unused function lineClear()

2012-12-14   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/action.c, src/find.c, src/find.h,
	src/hid/gtk/gui-netlist-window.c, src/hid/lesstif/netlist.c,
	src/rats.c, src/report.c, src/select.c, src/set.c: Add flag
	parameters to ResetFound{LinesAndPolygons,PinsViasAndPads},
	ResetConnections This avoids relying on the state to be magically correct

2012-12-14   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/autoroute.c: autoroute.c: Remove setting the Find flag to
	DRCFLAG We don't use the find features directly, those we do already take
	care of setting the appropriate flag.

2012-12-14   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/find.c: find.c: Set TheFlag to FOUNDFLAG explicitly in
	LookupUnusedPins() We relied on it being set to an appropriate value, instead set it to
	FOUNDFLAG, similar to how LookupElementConnections() does.

2012-12-14   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/gtk/gui-netlist-window.c, src/hid/lesstif/netlist.c: (GTK, Lesstif): Netlist window - Set find flag to FOUNDFLAG
	explicitly Our "Select net" functionality depends on find.c's "TheFlag"
	variable being set to FOUNDFLAG. In some circumstances (e.g. after a
	DRC check), this may not be the case, and selecting nets from the
	netlist window breaks.

2012-12-14   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/select.c: select.c: Set an explicit flag to search using when
	selecting nets by name If find.c's "TheFlag" variable is not equal to FOUNDFLAG, our code
	for selecting nets by name did not work. This could happen, for
	example - after a DRC check, where "TheFlag" appears to be left
	equal to SELECTEDFLAG.

2012-12-14   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/toporouter.c: toporouter.c: Remove un-necessary call to
	ResetConnections() This is not required by the call to CollectSubnets() which follows
	it, and we don't have any other requirement to clear flags.  Futhermore, as toporouter.c does not setup which flag is being
	operated on, the effect of this call will depend on which flag has
	been left in "TheFlag" variable in find.c.

2012-12-14   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/autoroute.c: autoroute.c: Remove unnecessary call to
	ResetConnections() This is not required to call CollectSubnets, (as the rats.c internal
	function GatherSubnets() cleans the flag from objects before it uses
	it).  We also use DRCFLAG to mark nets in CreateRouteData(), however: 1. We should be able to assume the DRCFLAG is clear on all objects
	   at the point we un-necessary to reset it.  2. We call GatherSubnets() after we reset the DRCFLAG contents, and    that leaves the objects in a clean state without that flag set.

2012-12-13   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/ps/ps.c: hid/ps: Add support for rendering "fullpoly"
	polygons Affects-bug: lp-1089532

2012-12-13   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/common/draw_helpers.c: hid/common/draw_helpers.c: Fix
	thindraw for "fullpoly" polygons Affects-bug: lp-1089532

2012-12-13   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/common/hidgl.c: hid/common/hidgl.c: Add support for
	rendering "fullpoly" polygons This finally bit someone (and eneded up with them producing a bad
	batch of boards), so it is about time I fixed this.  Affects-bug: lp-1089532

2012-12-07   Kevin Redon * kevredon AT mail dot tsaitgaist dot info *

	* src/create.c: Don't merge lines with different clearances When multiple lines (with same direction, thickness, and clear
	flags) are moved, they are merged into one line. We should also
	check the line clearances match to ensure the lines are suitable for
	merging.  [Commit message re-worded by Peter Clifton]  Signed-off-by: Kevin Redon * kevredon AT mail dot tsaitgaist dot
	info *

2012-12-02   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/common/hidgl.c: hid/common/hidgl.c: Make (polygon->clipped
	== NULL) test silent This is the case for other implementations of this API, so we should
	aim to be consistent.

2012-12-02   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/draw.c, src/hid/common/draw_helpers.c: Move polygon->Clipped
	test into the HID implementations which require it.  This keeps draw.c more consistent between object types.

2012-12-02   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/gtk/gtkhid-gl.c: hid/gtk: Call ghid_fill_pcb_polygon via
	(HID_DRAW *)->fill_pcb_polygon() This indirection allows a more graceful fallback in the case where
	we run out of stencil bits and replace our (HID_DRAW
	*)->fill_pcb_polygon() vfunc pointer with the
	common_fill_pcb_polygon() implementation.

2012-12-02   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/draw.c, src/hid/common/draw_helpers.c,
	src/hid/common/draw_helpers.h, src/hid/common/hidnogui.c,
	src/hid/gtk/gtkhid-main.c, src/hid/lesstif/main.c, src/hid/ps/ps.c,
	src/hid_draw.h: Add (HID_DRAW *)->draw_pcb_polygon() API This pushes special case thindraw vs. fill handling out of the core,
	and into each individual HID implementation. We retain the old
	implementation as a helper function, common_gui_draw_pcb_polygon()
	in hid/common/draw_helpers.c.  This keeps the API more consistent between polygons and other object
	types by introducing the new (HID_DRAW *)->draw_pcb_polygon() API.  I've left the (HID_DRAW *)->{fill,thindraw}_pcb_polygon() APIs for
	now, as it means we can avoid a little code duplucation between the
	GUIs. We may consider removing (or hiding) these APIs at some point,
	as they are now _NOT_ intended to be called from outside of the
	GUI's (HID_DRAW *)->draw_pcb_polygon() implementation.

2012-12-02   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/common/draw_helpers.c, src/hid/common/draw_helpers.h: 
	hid/common: Fix including draw_helpers.h from draw_helpers.c The prototype for hid_common_fill_pcb_pv() was incorrect. To avoid
	this kind of mistake in the future, include the header file from the
	.c file.

2012-11-24   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/draw.c: draw.c: Collapse line and arc drawing wrapper
	functions into only callers

2012-11-24   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/draw.c, src/draw.h, src/hid/common/draw_helpers.c,
	src/hid_draw.h, src/print.c: Move DrawTextLowlevel() routine from
	draw.c into the HID_DRAW API The API is now called draw_pcb_text, and the default implementation
	resides in hid/common/draw_helpers.c

2012-11-24   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/draw.c, src/hid/common/draw_helpers.c, src/hid_draw.h: Move
	_draw_arc() routine from draw.c into HID_DRAW API The API is now called draw_pcb_arc, and the default implementation
	resides in hid/common/draw_helpers.c

2012-11-24   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/draw.c, src/hid/common/draw_helpers.c, src/hid_draw.h: Move
	_draw_line() routine from draw.c into HID_DRAW API The API is now called draw_pcb_line, and the default implementation
	resides in hid/common/draw_helpers.c

2012-11-24   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/common/hidgl.c: hidgl: Fixup signature gluTessCallback
	functions to work on Win32 On windows these callbacks are invoked using stdcall calling
	convention and we need to annotate then with the "CALLBACK" macro to
	achieve this.  If we ever end up using glew.h, we can probably drop the #ifndef
	CALLBACK check which #defines CALLBACK to an empty string on other
	platforms.

2012-11-23   Eugene Mikhantiev * mikhantiev AT gmail dot com *

	* src/Makefile.am: Add hid_draw.h to PCB_SRC in Makefile  Signed-off-by: Bert Timmerman * bert dot timmerman AT xs4all dot nl
	*

2012-11-23   Markus Hitter * mah AT jump-ing dot de *

	* tests/golden/hid_gcode1/Makefile.am,
	tests/golden/hid_gcode1/gcode_oneline-drillmill.gcode,
	tests/golden/hid_gcode10/gcode_oneline-drillmill.gcode,
	tests/golden/hid_gcode11/Makefile.am,
	tests/golden/hid_gcode11/gcode_oneline-drillmill.gcode,
	tests/golden/hid_gcode2/Makefile.am,
	tests/golden/hid_gcode2/out-drillmill.gcode,
	tests/golden/hid_gcode3/Makefile.am,
	tests/golden/hid_gcode3/gcode_oneline-drillmill.gcode,
	tests/golden/hid_gcode4/Makefile.am,
	tests/golden/hid_gcode4/gcode_oneline-drillmill.gcode,
	tests/golden/hid_gcode5/Makefile.am,
	tests/golden/hid_gcode5/gcode_oneline-drillmill.gcode,
	tests/golden/hid_gcode6/Makefile.am,
	tests/golden/hid_gcode6/gcode_oneline-drillmill.gcode,
	tests/golden/hid_gcode7/Makefile.am,
	tests/golden/hid_gcode7/gcode_oneline-drillmill.gcode,
	tests/golden/hid_gcode8/Makefile.am,
	tests/golden/hid_gcode8/gcode_oneline-drillmill.gcode,
	tests/golden/hid_gcode9/gcode_oneline-drillmill.gcode,
	tests/tests.list: gcode HID: regenerate the test files.  This covers the fixes introduced in the last three commits and also
	removes a number of golden output files.

2012-11-23   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode HID: distribute drillmill radius' to
	all drills.  Previously, it was distributed to only the first of it's size.

2012-11-22   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode HID: don't write "empty" drillmill
	files.  All changes except the first and the last line are whitespace
	changes.  Closes-bug: lp-1074196

2012-11-22   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode HID: choose the right set of
	drillmill drills.  The logic was inverted.

2012-11-22   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/draw.c: draw.c: Refactor color setting code to be more compact

2012-11-21   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/crosshair.c, src/draw.c, src/hid.h,
	src/hid/common/draw_helpers.c, src/hid/common/extents.c,
	src/hid/common/hidnogui.c, src/hid/gcode/gcode.c,
	src/hid/gerber/gerber.c, src/hid/gtk/gui.h, src/hid/lesstif/main.c,
	src/hid/nelma/nelma.c, src/hid/png/png.c, src/hid/ps/eps.c,
	src/hid/ps/ps.c, src/hid_draw.h, src/print.c: Move HID drawing API
	prototypes into a separate header file Due to the mess of places we define various things in and the order
	we pull in headers, we cannot easily create APIs in hid.h which rely
	on being passed PCB data-structures.

2012-11-21   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid.h, src/hid/batch/batch.c, src/hid/common/draw_helpers.c,
	src/hid/common/draw_helpers.h, src/hid/common/extents.c,
	src/hid/common/hidnogui.c, src/hid/gcode/gcode.c,
	src/hid/gerber/gerber.c, src/hid/gtk/gtkhid-gl.c,
	src/hid/gtk/gtkhid-main.c, src/hid/lesstif/main.c,
	src/hid/nelma/nelma.c, src/hid/png/png.c, src/hid/ps/eps.c,
	src/hid/ps/ps.c, src/hid/ps/ps.h: Rename HID_DRAW_API to just
	HID_DRAW Just because its neater

2012-08-01   Sergey Alyoshin * alyoshin dot s AT gmail dot com *

	* src/hid/gtk/gui-top-window.c: Add strings to translation  Signed-off-by: Bert Timmerman * bert dot timmerman AT xs4all dot nl
	*

2012-11-21   Eugene Mikhantiev * mikhantiev AT gmail dot com *

	* po/ru.po: Updated Russian translation  Signed-off-by: Bert Timmerman * bert dot timmerman AT xs4all dot nl
	*

2012-11-20   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/gtk/gtkhid-main.c, src/hid/lesstif/main.c: Revert moving
	common_draw_helpers_init() call in lesstif and GTK HIDs Not a functional change.. I'm just being anal and wishing to keep
	these matching the other HIDs.

2012-11-19   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/crosshair.c, src/draw.c, src/hid.h, src/hid/batch/batch.c,
	src/hid/common/draw_helpers.c, src/hid/common/draw_helpers.h,
	src/hid/common/extents.c, src/hid/common/hidnogui.c,
	src/hid/gcode/gcode.c, src/hid/gerber/gerber.c,
	src/hid/gtk/gtkhid-gl.c, src/hid/gtk/gtkhid-main.c,
	src/hid/lesstif/main.c, src/hid/nelma/nelma.c, src/hid/png/png.c,
	src/hid/ps/eps.c, src/hid/ps/ps.c: HID: Merge {fill/thindraw}_pcb_*
	APIs into HID_DRAW_API structure I wanted to keep these separate from the pure graphics APIs, but
	after poking at this more and more, it seems hard to justify why we
	should do that.

2012-11-20   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/autoroute.c: autoroute.c: Destroy debug graphics context when
	we're finished with it I caught this one by inspection, as we don't tend to build with
	autorouter debugging enabled. I tested quickly before comitting, and
	this change doesn't break anything. This said, I couldn't see any
	debug rendering output either (before or after this patch).. so that
	might be broken somewhere.

2012-11-19   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/lpr/lpr.c: hid/lpr: Don't initiialise the graphics API
	vtable Just being picky here..  I spent ages trying to work out why the old code didn't segfault,
	given it does not call common_draw_helpers_init() to setup the
	various pad, pin and polygon drawing routines.  It turns out that when we actually go to export, we call into the ps
	HID directly - and ignore the lpr.c HID vtables.  Lets avoid confusion by partly setting up the lpr vtables, and leave
	the graphics HID member as NULL.

2012-11-19   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/batch/batch.c: hid/batch: Fix build after splitting out
	graphics APIs I forgot this one, along with build-testing lesstif - oops.  Fixes breakage from commit 273b243d90cda84e09f52b7ff995fa82afdc3de0            and from commit 741f203565ba9f92b0ace80d858073f75ced2716

2012-11-19   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/draw.c, src/draw.h, src/print.c: draw.c: Add hidGC parameter
	to DrawTextLowLevel() function Avoid it assuming the correct gc to use is Output.fgGC

2012-11-19   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/draw.c: draw.c: Add gc parameter to _draw_line() function Avoid it assuming the correct GC is Output.fgGC

2012-11-18   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/lesstif/main.c: Make lesstif_hid struct static again Changed to non-static un-necessarily in commit
	a1d8ee04cc571cca4cbe7ef86b40bef612a0c387

2012-11-18   Eugene Mikhantiev * mikhantiev AT gmail dot com *

	* src/hid/lesstif/main.c: lesstif: corrections on recent HID API
	changes.   Reported by Eugene Mikhantiev * mikhantiev AT gmail dot com * PCB can not be built with `--with-gui=lesstif' due to the HID API
	changes in commit 73b243d90cda84e09f52b7ff995fa82afdc3de0  Signed-off-by: Bert Timmerman * bert dot timmerman AT xs4all dot nl
	*

2012-11-15   Bert Timmerman * bert dot timmerman AT xs4all dot nl *

	* configure.ac: configure.ac: fixed a typo.   Signed-off-by: Bert Timmerman * bert dot timmerman AT xs4all dot nl
	*

2012-11-15   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/find.c, src/find.h, src/netlist.c, src/report.c: 
	Stop "find connected" following rat-lines. Fixes confusing output.  Suppose we have two nets, A and B, and some components. If we
	connect a pin of a component which was supposed to be connected to
	net A, to net B, the "f" (find connected) action will falsely show
	the entirity of net A and net B connected to each other. In reality,
	the nets are not electrically connected, it is just the ratline
	between the mis-connected component pin (mis-connected to Net B),
	and net A, where the ratline for that pin should end up.  It MIGHT be better if we fix this bug by not adding rat-lines to
	shorted connections, as often those rat-lines would take some
	convoluted route through the copper of the net which is shorted to
	that connection end-point. These rat-line(s) would no longer be
	spatially associated with the mis-connected wiring, and encourage
	the user to further short net A and net B together to complete the
	ratline.  This bug was a contributing factor to a mistake in a production
	board I made recently, where as a last step in production, I added a
	star- ground short between two different ground planes (analogue and
	digital).  The "find connected" action, "f" showed them connected
	together (as I expected), but unfortunately, due to a thermal I left
	out, they were not actually connected - despite PCB's green
	rendering suggesting that they were.

2012-11-15   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/autoroute.c, src/crosshair.c, src/draw.c, src/hid.h,
	src/hid/common/draw_helpers.c, src/hid/common/extents.c,
	src/hid/common/hidnogui.c, src/hid/gcode/gcode.c,
	src/hid/gerber/gerber.c, src/hid/gtk/gtkhid-main.c,
	src/hid/lpr/lpr.c, src/hid/nelma/nelma.c, src/hid/png/png.c,
	src/hid/ps/eps.c, src/hid/ps/ps.c, src/hid/ps/ps.h, src/print.c: 
	HID: Move non-PCB specific drawing calls into a separate API

2012-11-14   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/Makefile.am, src/hid/gcode/gcode.c, src/hid/gcode/gcode.h: 
	hid/gcode: Make gcode_hid structure static

2012-11-14   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid.h, src/hid/common/extents.c, src/hid/common/hidnogui.c,
	src/hid/gcode/gcode.c, src/hid/gerber/gerber.c,
	src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-gl.c,
	src/hid/gtk/gui.h, src/hid/nelma/nelma.c, src/hid/png/png.c,
	src/hid/ps/eps.c, src/hid/ps/ps.c: Convert mask type to enum

2012-11-14   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/djopt.c, src/flags.c, src/hid.h, src/hid/gtk/gtkhid-main.c,
	src/hid/lesstif/main.c, src/vendor.c: Convert argument in HID_Flags
	to (void *) rather than (int) void * allows us to pass pointers on all platforms, 64bit or
	otherwise. We can still use casting macros to safely pass integer
	values via this pointer.  Avoids the ugliness of castnig a size_t sized offset_of value into
	an int. Due to the size of our structures, this did not cause any
	actual bugs, but was not good practice.

2012-11-13   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/djopt.c, src/draw.h: Remove unused references to
	SwitchDrawingWindow()

2012-11-14   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/action.c, src/set.h: Remove unused prototypes SetZoom and
	RedrawZoom, along with old #ifdef'd code SetZoom() was removed in commit
	94e927e03850bfc0e8a0f3b161ae99b6784747f0 There were a few references to SetZoom left under an #ifdef
	HAVE_LIBSTROKE, which will not work, so I have commented those as
	well.

2012-11-14   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/create.c, src/global.h, src/parse_y.y: Remove unused zoom
	settings from the PCB and settings data-structures

2012-11-13   Bert Timmerman * bert dot timmerman AT xs4all dot nl *

	* src/parse_y.y: parse_y.y: As of November 2012 the cursor position
	is not written to file anymore  Signed-off-by: Bert Timmerman * bert dot timmerman AT xs4all dot nl
	*

2012-11-13   Bert Timmerman * bert dot timmerman AT xs4all dot nl *

	* src/file.c: Removed the cursor position from being written to the
	pcb file.   Signed-off-by: Bert Timmerman * bert dot timmerman AT xs4all dot nl
	*

2012-11-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/common/hidgl.c, src/hid/common/hidgl.h,
	src/hid/gtk/gtkhid-gl.c: hid/common/hidgl: Add API to initialise a
	rendering pass Serves as a place to perform any necessary initialisation within
	hidgl.c, saving lots of separate calls being made by its callers.

2012-11-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/ps/ps.c: Fix outline drawing to only apply on copper
	layers This matches the old comments in the code, and fixes (removes)
	outline drawing on the solder mask prints.  This partially reverts commit
	294494e56695251e63c0da9f243d6f59447f1c9f "Fix PS rect/outline
	logic", which changed the logic, and commit
	d2458383a60b670ad1c42163ac24fcc63fcab457 where I changed the comment
	to match the code.

2012-11-10   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/gtk/ghid-layer-selector.c: hid/gtk: Fix stupid (missing
	semicolon) bug breaking compile I was _sure_ I'd buid tested this before pusing... obviously not!

2011-09-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/ghid-layer-selector.c: hid/gtk: Avoid using
	g_object_{set,set}_data() where we don't need to Personally I hate to see data stashed and recalled with these
	functions, especially where is just a case of passing appropriate
	data to callback functions.

2012-11-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gl.c, src/hid/gtk/gui-top-window.c,
	src/hid/gtk/gui.h: Use trackball to allow rotation of 3D view

2012-11-10   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/gtk/gui-trackball.c: hid/gtk: Make the trackball widget
	sexy * Use cairo to render a nice sphere with radial gradients.  * Use widget sensitivity of the track-ball drawing to better.    differentiate between 2D / 3D views.  * Allow double-clicking on the track-ball to reset the 3D view.

2012-11-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* po/POTFILES.in, src/Makefile.am, src/hid/common/trackball.c,
	src/hid/common/trackball.h, src/hid/gtk/gui-trackball.c,
	src/hid/gtk/gui-trackball.h: Add virtual trackball code

2012-11-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gl.c: hid/gtk: Add feature to force an
	immediate redraw if framerate is low If more than a certain time (currently hard-coded at 50ms) has
	elapsed since the last expose callback, invalidate_all() will wait
	and process updates before returning.  This is handy to allow animation of auto-router progress, where the
	gui mainloop is not hit until the auto-routing operation is fully
	complete.

2012-11-01   Markus Hitter * mah AT jump-ing dot de *

	* tests/golden/hid_gcode1/Makefile.am,
	tests/golden/hid_gcode1/gcode_oneline-0.0350.drill.gcode,
	tests/golden/hid_gcode1/gcode_oneline-0.8890.drill.gcode,
	tests/golden/hid_gcode1/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode1/gcode_oneline-drillmill.gcode,
	tests/golden/hid_gcode1/gcode_oneline-outline.gcode,
	tests/golden/hid_gcode1/gcode_oneline-top.gcode,
	tests/golden/hid_gcode10/Makefile.am,
	tests/golden/hid_gcode10/gcode_oneline-0.8890.drill.gcode,
	tests/golden/hid_gcode10/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode10/gcode_oneline-drillmill.gcode,
	tests/golden/hid_gcode10/gcode_oneline-outline.gcode,
	tests/golden/hid_gcode10/gcode_oneline-top.gcode,
	tests/golden/hid_gcode11/Makefile.am,
	tests/golden/hid_gcode11/gcode_oneline-0.0350.drill.gcode,
	tests/golden/hid_gcode11/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode11/gcode_oneline-drillmill.gcode,
	tests/golden/hid_gcode11/gcode_oneline-outline.gcode,
	tests/golden/hid_gcode11/gcode_oneline-top.gcode,
	tests/golden/hid_gcode2/Makefile.am,
	tests/golden/hid_gcode2/out-0.0350.drill.gcode,
	tests/golden/hid_gcode2/out-0.8890.drill.gcode,
	tests/golden/hid_gcode2/out-bottom.gcode,
	tests/golden/hid_gcode2/out-drillmill.gcode,
	tests/golden/hid_gcode2/out-outline.gcode,
	tests/golden/hid_gcode2/out-top.gcode,
	tests/golden/hid_gcode3/Makefile.am,
	tests/golden/hid_gcode3/gcode_oneline-0.0350.drill.gcode,
	tests/golden/hid_gcode3/gcode_oneline-0.8890.drill.gcode,
	tests/golden/hid_gcode3/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode3/gcode_oneline-drillmill.gcode,
	tests/golden/hid_gcode3/gcode_oneline-outline.gcode,
	tests/golden/hid_gcode3/gcode_oneline-top.gcode,
	tests/golden/hid_gcode4/Makefile.am,
	tests/golden/hid_gcode4/gcode_oneline-0.0350.drill.gcode,
	tests/golden/hid_gcode4/gcode_oneline-0.8890.drill.gcode,
	tests/golden/hid_gcode4/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode4/gcode_oneline-drillmill.gcode,
	tests/golden/hid_gcode4/gcode_oneline-outline.gcode,
	tests/golden/hid_gcode4/gcode_oneline-top.gcode,
	tests/golden/hid_gcode5/Makefile.am,
	tests/golden/hid_gcode5/gcode_oneline-0.0350.drill.gcode,
	tests/golden/hid_gcode5/gcode_oneline-0.8890.drill.gcode,
	tests/golden/hid_gcode5/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode5/gcode_oneline-drillmill.gcode,
	tests/golden/hid_gcode5/gcode_oneline-outline.gcode,
	tests/golden/hid_gcode5/gcode_oneline-top.gcode,
	tests/golden/hid_gcode6/Makefile.am,
	tests/golden/hid_gcode6/gcode_oneline-0.0350.drill.gcode,
	tests/golden/hid_gcode6/gcode_oneline-0.8890.drill.gcode,
	tests/golden/hid_gcode6/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode6/gcode_oneline-drillmill.gcode,
	tests/golden/hid_gcode6/gcode_oneline-outline.gcode,
	tests/golden/hid_gcode6/gcode_oneline-top.gcode,
	tests/golden/hid_gcode7/Makefile.am,
	tests/golden/hid_gcode7/gcode_oneline-0.0350.drill.gcode,
	tests/golden/hid_gcode7/gcode_oneline-0.8890.drill.gcode,
	tests/golden/hid_gcode7/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode7/gcode_oneline-drillmill.gcode,
	tests/golden/hid_gcode7/gcode_oneline-outline.gcode,
	tests/golden/hid_gcode7/gcode_oneline-top.gcode,
	tests/golden/hid_gcode8/Makefile.am,
	tests/golden/hid_gcode8/gcode_oneline-0.8890.drill.gcode,
	tests/golden/hid_gcode8/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode8/gcode_oneline-drillmill.gcode,
	tests/golden/hid_gcode8/gcode_oneline-outline.gcode,
	tests/golden/hid_gcode8/gcode_oneline-top.gcode,
	tests/golden/hid_gcode9/Makefile.am,
	tests/golden/hid_gcode9/gcode_oneline-0.0350.drill.gcode,
	tests/golden/hid_gcode9/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode9/gcode_oneline-drillmill.gcode,
	tests/golden/hid_gcode9/gcode_oneline-outline.gcode,
	tests/golden/hid_gcode9/gcode_oneline-top.gcode, tests/tests.list: 
	gocde HID: refresh all the G-code exporter tests.  There have been a lot of new features recently and a bunch of
	comments refinements. Also the default unit was changed from inch to
	mm, so don't be surprised too much there's nothing left as before.
	All new test results have been hand-verified in a G-code viewer.

2012-11-01   Markus Hitter * mah AT jump-ing dot de *

	* tests/run_tests.sh: testsuite: regenerate also Makefile.am.  Previously, running ./run_tests.sh --regen <some test> would have
	simply deleted Makefile.am, which is required by the automatic
	Makefile generation mechanism. Now this file is regenerated
	properly, too.

2012-11-01   Markus Hitter * mah AT jump-ing dot de *

	* tests/run_tests.sh: testsuite: limit regenerations to one test at
	a time.  Previously, an accidental "./run_tests.sh --regen" without arguments
	would regenerate all tests, causing a big mess.

2012-11-01   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode HID: don't predrill drillmill holes.  As mill bits - in opposite to drill bits - are expected to be stiff,
	predrilling drillmill holes is a waste of time.

2012-11-01   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode HID: remove an obsolete TODO comment.  Units come along in groups, units other than mm and inch should be
	handled properly already.

2012-11-01   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode HID: don't drill drillmill holes.  Actually, this just avoids writing out the drill G-code file for
	sizes >= drillmill diameters. While files written out can be
	ignored, not writing them should reduce confusion among all the
	written files.

2010-12-03   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode HID: implement drill-milling.  This is, if a hole is equal or bigger than the milling tool, use the
	milling tool instead of a drill tool to manufacture the hole. Big
	advantage is, milling tools can create holes of arbitrary sizes by
	moving a circle.  The feature is optional, on by default.  G02/G03 circle movements are avoided, as not all machine controllers
	understand them. Instead, a polygon is milled, with enough sides to
	stay for any hole size  within the user choosen accuracy.  If the hole is only slightly bigger than the mill tool, don't move
	the circle; a simple plunge is enough.

2012-10-28   Bert Timmerman * bert dot timmerman AT xs4all dot nl *

	* src/parse_y.y: Correction of two typos.  Closes-bug: lp-1072285  Signed-off-by: Bert Timmerman * bert dot timmerman AT xs4all dot nl
	*

2012-09-03   Larry Doolittle * ldoolitt AT recycle dot lbl dot gov *

	* tools/pcbdiff: pcbdiff: add PCBDIFF_DPI to allow user-defined
	resolution.  This should be the last part of fixing bug #1045907.

2012-09-03   Larry Doolittle * ldoolitt AT recycle dot lbl dot gov *

	* tools/pcbdiff: pcbdiff: take out --only-visible.  This option leads to PNGs of different sizes and making stereo
	images of PNGs of different sizes is (apparently) not possible.

2012-09-09   Markus Hitter * mah AT jump-ing dot de *

	* tools/pcbdiff: pcbdiff: allow spaces in file names / file paths.

2012-09-09   Markus Hitter * mah AT jump-ing dot de *

	* tools/pcbdiff: pcbdiff: add a level of abstraction for binaries.  This may help for future developments, where searching in places
	other than PATH may be advised. It helps right now for quick
	debugging hacks.

2012-08-30   Larry Doolittle * ldoolitt AT recycle dot lbl dot gov *

	* ChangeLog, README, utils/git2cl: Improve documentation of
	ChangeLog file Note in the file where it comes from.  Mention it and git commit
	messages in the README.

2012-08-30   Larry Doolittle * ldoolitt AT recycle dot lbl dot gov *

	* src/hid/ps/eps.c: fix a format string mismatch

2012-08-30   Larry Doolittle * ldoolitt AT recycle dot lbl dot gov *

	* ChangeLog, README, README.git, doc/pcb.texi, doc/refcard.tex,
	src/hid/batch/batch.c, src/main.c, src/misc.c: replace gpleda.org
	with geda-project.org

2010-11-30   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode HID: add user defined feedrates for
	outline milling.  This includes two new fields in the GUI, as plunging (moving into
	the material) has a different feedrate than the normal feedrate now.
	These different feedrates are needed by many tools, e.g. end mills.

2010-11-30   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode HID: add user defined feedrates for
	drilling.  This includes a new field in the GUI.

2010-11-30   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c, src/hid/gcode/trace.c,
	src/hid/gcode/trace.h: gcode HID: add user defined feedrates for
	isolation milling.  This includes two new fields in the GUI, as plunging (moving into
	the material) has a different feedrate from the normal feedrate now.
	These different feedrates are needed by many tools, e.g. end mills.

2012-08-27   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode HID: move all the code common on file
	open into a subroutine.

2012-08-27   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode HID: remove an unused struct.  The common HID code has now a better alternative, anyways, so it's
	unlikely this will ever be used again.

2012-08-27   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode HID: fix a potential memory leak.

2012-08-27   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode HID: correct a few comments.

2010-11-09   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode HID: create G-code for milling the
	outline of the board.  This is a rarther simple implementation, which mills a rectangle
	with the maximum extents of the board.

2010-11-02   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode HID: reorder user interface to a more
	logical sequence.  The new sequence is: general - isolation milling - drilling -
	milling - output options.  Also completed the term "mill" to "iso-mill", as outline milling is
	around the corner.  Default measurement unit changed to mm, as I'm not aware of a single
	machine accepting "mil" as G-code unit.

2012-08-22   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode HID: another few cleanups.

2012-08-22   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode HID: release the PNG a lot earlier.

2012-08-22   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode HID: rename gcode_f2 to gcode_f.  ... as there's no longer a gcode_f used.

2012-08-22   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode HID: make usage of gcode_f local.  There's no need to keep a file open all the time, all the processing
	is done in memory.

2012-08-22   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode HID: simplify the backside flipping
	algorithm.  As the PNG has to be copied to a bitmap anyways, this can also be
	used to flip the back layer.  The code flipping the PNG is still in place, but only needed for the
	PNG written do a file (for error checking).

2012-08-22   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode HID: remove an untrue comment.  Actually, gdImageCreate() creates an pallette-based image.

2012-08-22   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode HID: fix the bug producing an
	inverted image.  For copying an pallette-based image, the pallette has to be copied,
	too.

2012-08-20   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode HID: make G-code output aware of
	dynamic extents.  This also offsets the produced G-code so the rectangular edge
	closest to {0, 0} in pcb is {0, 0} in the G-code. Very useful when
	actually producing boards.  The most simple way to achieve this is to draw just the part inside
	the outline into the intermediate image. No change to the PNG tracer
	needed.  Unfortunately, this exposes a bug, making the traced PNG image
	inverted. This will be fixed with the next commit.

2012-08-13   Kai-Martin Knaak * kmk AT lilalaser dot de *

	* src/hid/ps/eps.c: make EPS boundingbox parameters integers
	Currently, the bounding box parameters given in the header of an EPS
	file are floats. The standard calls for integers, though. Some
	applications like epstool fail if the boundingbox is anything but
	integer. This patch uses llrint() to output the nearest integer as
	bounding box parameters. In addition, it adds a high resolution
	header for the benefit of applications that can use the extra
	precision.   Example of the bounding box lines produced by the patch:  %%BoundingBox: 0 0 370 426  %%HiResBoundingBox: 0.000000 0.000000 369.503937 426.196850  Closes-bug: lp-1035999

2012-08-20   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode HID: add header required for
	UpdateExtents().

2012-08-20   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode HID: write board size according to
	dynamic extent.  This isn't much, so far, more on dynamic extent to come.

2012-08-20   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode HID: make gcode_toolradius an int.  It's always used as such.

2012-08-19   Markus Hitter * mah AT jump-ing dot de *

	* src/change.c, src/change.h, src/global.h: Introduce dynamic board
	size.  The goal is to eventually define the board's extent by the outline
	layer, only. That way, all the exporters can export properly sized
	layouts.  Undoubtly, this can also influence the GUIs. For example, "zoom to
	fit" becomes a slightly different meaning and drawing outside the
	board's extent becomes possible. Autorouting and similars can be
	limited to the actual board size. Resizing a board to the lower left
	no longer requires the error-prone moving of all the stuff and keeps
	file diffs small.

2012-07-15   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode HID: write drill size into the file,
	too.  So far, drill size was given by the file name only, which can change
	accidently.

2012-07-15   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: gcode HID: implement predrilling Predrilling is using the milling tool to mark all drill spots. This
	eases and enhances accuracy of manual drilling.  This resolves patch #12 and obsoletes patch #11 and #13 of
	Traumflug's wishlist: https://bugs.launchpad.net/pcb/+bug/699497 The difference between patch #12 and this patch is, drills for
	predrilling are sorted regardless of size, so performance should be
	better.

2012-07-08   Eric Brombaugh * ebrombaugh1 AT cox dot net *

	* src/hid/gtk/gui-dialog.c: gtk: point file selector dialogs at the
	current directory Recent Gtk versions (at least 3 and onward) have broken the file
	selection dialog in the case that no default directory was
	specified: rather than using the current working directory, it uses
	a fake "Recently Chosen Items" directory, from which save/load
	doesn't work.  This patch fixes the behavior.  Commit by Andrew Poelstra

2012-07-07   Gabriel Paubert * paubert AT iram dot es *

	* src/hid/gerber/gerber.c: gerber: Implement option for metric
	output Compiles cleanly, all tests pass, default behaviour is completely
	unchanged. --Andrew

2012-07-06   Andrew Poelstra * apoelstra AT wpsoftware dot net *

	* tests/golden/hid_bom1/bom_general.xy,
	tests/golden/hid_bom2/bom_general.xy, tests/golden/hid_bom3/test.xy: 
	Fix comments in golden samples for hid_bom[123] tests With the nanometers switchover, a comment in the BOM output changes
	from "output in mils" to "output in mil", breaking tests.

2012-07-06   Andrew Poelstra * apoelstra AT wpsoftware dot net *

	* src/hid/bom/bom.c: Fix bom.c behavior regarding xy-in-mm option If the --xy-in-mm option is passed, that should override any other
	unit selection behavior (since this is a legacy option, so anyone
	using it is not expecting the new many-unit features).  Also, fix a test-breaking change in output precision.  This has apparently been broken since da403312 (audit bom.c for the
	nanometers switchover), but was only noticed recently when the HID
	tests were fixed.

2012-07-06   Andrew Poelstra * apoelstra AT wpsoftware dot net *

	* tests/golden/hid_bom1/bom_general.bom,
	tests/golden/hid_bom1/bom_general.xy,
	tests/golden/hid_bom2/bom_general.xy,
	tests/golden/hid_bom2/test.bom,
	tests/golden/hid_bom3/bom_general.bom,
	tests/golden/hid_bom3/test.xy,
	tests/golden/hid_bom4/bom_general.bom,
	tests/golden/hid_bom4/bom_general.xy: Fix bom HID tests after commit
	d30d3142 changed the line ordering Due to changes in macro.h, the ordering of the BOM output changed,
	causing test failures.

2012-06-14   Benjamin Bergman * ben AT benbergman dot ca *

	* src/hid/png/png.c: Add options to change photo-mode colors.  Original patchset by Benjamin Bergman. Minor changes from Andrew
	Poelstra.  Closes-bug: lp-1004796

2012-05-25   DJ Delorie * dj AT delorie dot com *

	* src/hid/ps/ps.c: Fix ps-bloat logic The ps-bloat option was using the int_value field instead of the
	coord-value field, resulting in a bloat of zero all the time.
	Fixed.

2012-03-29   Andrew Poelstra * apoelstra AT wpsoftware dot net *

	* src/rats.c: Remove manhattan check from rats.c Since commit 644f8d9, I cannot get the autorouter to segfault when
	it attempts to deal with ratlines connected to non-manhattan lines.
	So, I see no reason not to draw such lines in the first place.  However, when the autorouter is used, it will ignore any rats which
	lead to a non-manhattan line. (And therefore not connect two points,
	if the shortest connection would involve connecting diagonal
	traces.) This is unexpected behavior, though IMO no more unexpected than the
	old behavior, which was to ignore diagonal line segments and simply
	route amongst the manhattan ones.  Closes-bug: lp-699248

2012-03-29   Andrew Poelstra * apoelstra AT wpsoftware dot net *

	* src/autoroute.c: Fix segfault when routing to non-straight pads Since the autorouter does not handle non-manhattan lines, it will
	not route to non-straight pads. Therefore, when the autorouter
	searches for the pins/pads at the endpoints of a rat, it ignores any
	non-straght pads, returning NULL from the search.  The autorouter then tries to dereference this pointer and crashes.  The rest of the code, it seems, works to avoid ever giving such rats
	to the autorouter, but it can be done if the user explicitly selects
	such a rat and selects "Auto-route selected rats".  This patch catches the NULL pointer and simply ignores the rat.  It is possible that this is the cause of bug lp-699255, but this
	seems unlikely, since the backtrace on that report does not show the
	same NULL dereference, and the reporter was using "10-pin headers",
	which presumably have no pads that could be marked as non-straight.  Affects-bug: lp-699255

2012-03-29   Andrew Poelstra * apoelstra AT wpsoftware dot net *

	* src/hid/gcode/gcode.c: Wrap gcode_do_export in setlocale() calls During gcode export, we temporarily switch locales to C to ensure
	that output uses the proper decimal separator.  Closes-bug: lp-912077

2012-03-29   Andrew Poelstra (local) * apoelstra AT wpsoftware dot net *

	* src/find.c: Fix infinite loop on PCB::skip-drc attribute When doing a DRC check, pcb skips checking any layers who have the
	PCB::skip-drc attribute set. However, when determining whether the
	check is complete (via the ListsEmpty()) function, it doesn't skip
	these layers.  The result is an infinite loop, since if there is work to be done on
	a skip-drc layer, the checker will keep running until it is done --
	i.e., will keep running forever.  This patch skips skip-drc layers in ListsEmpty().  Closes-bug: lp-829123

2012-03-28   Andrew Poelstra (local) * apoelstra AT wpsoftware dot net *

	* src/hid/gtk/gui-top-window.c, src/hid/lesstif/menu.c: Make
	SelectLayer() respond to layer name as well as index Closes-bug: lp-699470

2012-03-28   Andrew Poelstra (local) * apoelstra AT wpsoftware dot net *

	* src/parse_l.l: Parse floating-point values without leading 0
	correctly Closes-bug: lp-916984

2012-03-28   Andrew Poelstra (local) * apoelstra AT wpsoftware dot net *

	* src/hid/lesstif/main.c: Add missing const in lesstif/main.c

2012-03-28   Andrew Poelstra (local) * apoelstra AT wpsoftware dot net *

	* src/hid/gtk/gui-config.c, src/main.c: Allow saving of user
	increment settings in Gtk.  It seems there is no clean way of implementing this without really
	tearing up the setting-saving code and fixing the
	SettingType/PCBType dichotomy, but at 26 lines, this was at least
	short.  Closes-bug: lp-699464

2012-03-28   Andrew Poelstra (local) * apoelstra AT wpsoftware dot net *

	* src/hid/gtk/gui-config.c: Save CONFIG_Coord settings in Gtk The "Safe board width as default" checkbox has not been working
	since commit fa2a0e35 back in August, when I added HID_Coord and
	CONFIG_Coord to a couple of enums and forgot to update a switch
	statement.  This patch fixes that. :-}

2012-03-28   Andrew Poelstra (local) * apoelstra AT wpsoftware dot net *

	* src/hid/gtk/gui-config.c, src/main.c, src/pcb-printf.c,
	src/pcb-printf.h: Add grid-increment-mm (and similar) settings Added the following settings:   grid-increment-mm       grid-increment-mil   size-increment-mm       size-increment-mil   line-increment-mm       line-increment-mil   clear-increment-mm     clear-increment-mil These behave differently than the old settings of the same names
	(from 20090929 and earlier). They take a measure, not a real number.
	The -mm versions affect the increment settings when the user is
	using a metric grid, and the -mil versions affect the settings for
	imperial grids.  Old ~/.pcb/preferences files likely have lines like   grid-increment-mil = 5 which have been hanging around for several pcb versions. These
	should be safely ignored, since, for example, "5" is now read as
	"5nm", which is well below the minimum allowed increment setting.  These settings can be read but (so far) not written out, either to
	the pcb or to the preferences file.

2012-03-28   Andrew Poelstra (local) * apoelstra AT wpsoftware dot net *

	* src/hid/gtk/gui-config.c: Add separate metric and imperial
	increment settings to Gtk gui.

2012-03-28   Andrew Poelstra (local) * apoelstra AT wpsoftware dot net *

	* src/hid/gtk/gtkhid-main.c, src/hid/lesstif/main.c, src/main.c,
	src/pcb-printf.c, src/pcb-printf.h: Collapse giant default increment
	table into only two We now store two sets of increments - one for imperial and one for
	metric. These will both be individually modifiable by the user.

2012-02-06   Kai-Martin Knaak * kmk AT lilalaser dot de *

	* ChangeLog, src/draw.c, src/main.c, src/parse_l.l, src/parse_y.y,
	src/pcb-printf.c: Add "px" to the units allowed for --rat-thickness Add "px" to the set of units allowed for option --rat-thickness. The
	purpose is to give thickness in terms of a fixed number of screen
	pixels. Internally, this special unit is treated like nm. The
	drawing routine decides to go for fixed width if rat thickness is
	below 100nm.  Commit by Andrew Poelstra.  Closes-bug: lp-927422

2012-03-27   Andrew Poelstra (local) * apoelstra AT wpsoftware dot net *

	* src/gpcb-menu.res.in, src/pcb-menu.res.in: Change menus to use
	user's settings for increments

2012-03-27   Andrew Poelstra (local) * apoelstra AT wpsoftware dot net *

	* src/action.c: Allow '+' and '-' (without magnitudes) for
	user-preference in menu This does not actually change any menu files, just adds the
	capability to use the user's settings in the Increments dialog for
	controlling pcb.

2012-03-26   Andrew Poelstra (local) * apoelstra AT wpsoftware dot net *

	* src/misc.c: Check sscanf() return value in GetValue().  In case the user passes something like "+" with no digits to
	GetValue, sscanf fails and the function returns an indeterminate
	result. This patch fixes that, returning 0 instead if sscanf fails.

2012-03-26   Andrew Poelstra (local) * apoelstra AT wpsoftware dot net *

	* src/change.c: Remove empty if statement from change.c git blame dates an empty-body if statement back to 2003, so (presumably) the correct behavior is that it be empty. Therefore, I
	removed the if to avoid confusing humans.  After this commit, pcb compiles completely and cleanly with:   clang version 2.9 (tags/RELEASE_29/final)   gcc version 4.6.2 20111027 (Red Hat 4.6.2-1)

2012-03-26   Andrew Poelstra (local) * apoelstra AT wpsoftware dot net *

	* src/res_parse.y: Add missing const in res_parse.y

2012-03-26   Andrew Poelstra (local) * apoelstra AT wpsoftware dot net *

	* src/djopt.c: Remove superfluous check that unsigned int is
	nonnegative.  It seems to me that we'll sooner fix layer management altogether,
	than change an index from an unsigned to signed variable. And in the
	meantime, this check is unnecessary and potentially confusing.

2012-03-26   Andrew Poelstra (local) * apoelstra AT wpsoftware dot net *

	* src/change.c: Change no-ops from self-assignments to (void) casts This makes both clang and gcc happy (with nothing, both complain
	about unused variables, and clang doesn't like the self-assignment).  splint still complains, but I think we'll have to live with that.

2012-03-26   Andrew Poelstra (local) * apoelstra AT wpsoftware dot net *

	* src/hid/gtk/gui-dialog.c: Add missing cast in hid/gtk/gui-dialog.c

2012-03-17   Sergey Alyoshin * alyoshin dot s AT gmail dot com *

	* src/parse_y.y: Fix segfault when reading Layer() with no name When reading pcb file with a line like   Layer (2 "") the lexer gives us a NULL in place of the empty string, which caused
	a NULL-dereference and segfault. This patch allocates a new ""
	string when reading nameless layers.  See

	http://www.delorie.com/archives/browse.cgi?p=geda-user/2012/03/17/10:13:37

2012-03-02   Felix Ruoff * Felix AT posaunenmission dot de *

	* doc/pcb.texi: Fit docu to latest menu-item changes Affects-bug: lp-907040

2012-03-06   Braddock Gaskill * braddock AT braddock dot com *

	* src/gpcb-menu.res.in: Standardize gtk-menu Changes some names of menu-items. Also reodered some of them. This
	will normalize the menu items to more closely follow modern menu
	conventions like the Gnome user interface guidelines.  Closes-bug: lp-907040

2012-03-02   Felix Ruoff * Felix AT posaunenmission dot de *

	* doc/pcb.texi: actualize outdated menu-docu actualized some documentation for the menue. Some items has changed
	their name and/or location in the past which was not changed in the
	documentaion.

2012-03-02   Felix Ruoff * Felix AT posaunenmission dot de *

	* doc/pcb.texi: Actualize docu for (g)pcb-menu.res.in Today, pcb checks for more than one keyword in the
	(g)pcb-menu.res.in: "Main Menu" and "Mouse".

2012-02-21   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/hid/gtk/gui-dialog.c: Add file-filter for schematics import

2012-02-17   Dan White * dan AT whiteaudio dot com *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-dialog.c,
	src/hid/gtk/gui.h: hid/gtk: ImportGUI() can select multiple files ..with one small modification to the original patch by Felix Ruoff Closes-bug: lp-934616

2011-12-18   Vladimir Zhbanov * vzhbanov AT gmail dot com *

	* src/main.c: Fixed command line batch output for some exporters This problem affects some exporters: gcode, eps, ps, nelma, probably
	gerber (although it should already have been fixed for it). When
	building pcb with non-C locale, pcb uses for output this locale's
	settings. With locales using comma as numeric separator it causes
	the wrong output for those formats. The problem does not affect an
	export from GUI.  Closes-bug: lp-905968

2012-01-20   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/line.c: Fiddle with the 45-degre line snapping code The results should be identical, but hopefully this is clearer code.  I believe there were some masked bugs lurking in the old
	calculations, which shouldn't be present in the new code.

2012-01-21   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/gtk/gtkhid-gl.c: hid/gtk: Remove XOR colour logic from the
	GL rederer.  This code was not being used, so remove it.

2012-01-22   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/common/draw_helpers.c: hid/common/draw_helpers.c: Fix
	prototype to draw_octagon_poly() The thin_draw parameter is a bool, not a Coord.

2011-12-27   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/move.c: move.c: Fix off-by one in memory copy loop.  Shorten the loop so we don't don't try to memmove a zero length
	chunk off the end of our array. Might have been harmless, but lets
	not take the chance.  Rename some variables to make things a bit clearer as well.  (Caught by Coverity).  Coverity-CID: 12

2012-01-12   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/action.c: Set changed flag on PCB when locking / unlocking
	objects

2012-01-03   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/buffer.c: Update the crosshair constraints after mirroring or
	rotating the buffer.  Avoids a bug where the paste location of the mirrored or rotated
	buffer contents are improperly constrained based upon their old
	bounding box.

2011-12-26   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/djopt.c: djopt.c: Fix incorrect allocation.  I missed this fix from the commit
	ff2492399fd4743c3fd89ffd4fe6650ad0d80a4a (Caught by coverity) Coverity-cid: 239

2011-12-25   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* gts/matrix.c, gts/refine.c, gts/split.c, gts/vopt.c: gts: Avoid
	performing computations with side-effects in g_assert statements g_assert (like assert), can be disabled at build time, so assertions
	should therefore not contain any expressions which have
	side-effects.  Coverity caught a number of these in the copy gts library we have
	embedded.  There were also a couple which coverity didn't complain
	about, which appear to be the same class of problem. Fix them by
	separating the computation and the assertion test, adding a
	temporary result variable as necessary.  Coverity-cid: 56 Coverity-cid: 57 Coverity-cid: 57 Coverity-cid: 58
	Coverity-cid: 59

2011-12-25   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/gtk/gui-netlist-window.c: hid/gtk: Avoid warnings when
	netlist window is not created.  1. When the NetlistChanged action is fired, we should only update if
	   the netlist window is visible. (It will be created up to date when
	   the user asks for it).  2. Always show the netlist window when requested, even if it has no    entries. This is good for consistent UI behaviour anyway, as the
	   user should be shown a blank netlist window if they request it..
	   even if the is no content to display.

2011-12-24   Peter Clifton * peter AT clifton-electronics dot co dot uk *

	* src/hid/gtk/ghid-cell-renderer-visibility.c: hid/gtk: Add subtle
	gradient effect to layer selector swatches Just because gradients are pretty ;)

2011-12-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-netlist-window.c: hid/gtk: Fix NetlistChanged
	action crash when exporting from the commandline.  I broke this in commit 7308f512307158944482227d58e66373fd023d62 when
	I added a missing notification to the GUI when free'ing the netlist.
	It turns out that a command-line invoked export (such as used to
	export images in the doc/ build) will hit this code-path, and
	provoke the GUI netlist window code to try and update before the GUI
	is actually loaded.  For now, lets fix this with a bandaid and just skip the netlist
	update if the GUI is not up.  A brief inspection of the code (and test for the doc/ build)
	suggests that the Lesstif HID is not affected by this problem. (It
	has similar code to avoid creating the netlist window if the main
	window is not already created).

2011-12-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui.h: hid/gtk: Move
	ghid_gui_is_up variable into the ghidgui structure.  This lets us access it outside of gtkhid-main.c

2011-12-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/global.h, src/mymem.h: Remove *TypePtr and *TypeHandle aliases
	now we no longer use them (May break build of plugins, hence keeping this as a separately
	revertable commit).

2011-12-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/autoplace.c, src/autoroute.c, src/buffer.c,
	src/buffer.h, src/change.c, src/change.h, src/copy.c, src/copy.h,
	src/create.c, src/create.h, src/crosshair.c, src/data.c,
	src/data.h, src/djopt.c, src/draw.c, src/draw.h, src/drill.c,
	src/drill.h, src/edif.y, src/file.c, src/find.c, src/find.h,
	src/fontmode.c, src/global.h, src/hid/gerber/gerber.c,
	src/hid/gtk/gtkhid-gl.c, src/hid/gtk/gtkhid-main.c,
	src/hid/gtk/gui-drc-window.c, src/hid/gtk/gui-netlist-window.c,
	src/hid/gtk/gui-output-events.c, src/hid/gtk/gui.h,
	src/hid/lesstif/netlist.c, src/hid/nelma/nelma.c, src/hid/ps/ps.c,
	src/insert.c, src/insert.h, src/intersect.c, src/intersect.h,
	src/line.c, src/line.h, src/macro.h, src/mirror.c, src/mirror.h,
	src/misc.c, src/misc.h, src/move.c, src/move.h, src/mtspace.c,
	src/mymem.c, src/mymem.h, src/netlist.c, src/parse_l.h,
	src/parse_l.l, src/parse_y.y, src/polygon.c, src/polygon.h,
	src/polygon1.c, src/print.c, src/puller.c, src/rats.c, src/rats.h,
	src/remove.c, src/remove.h, src/report.c, src/rotate.c,
	src/rotate.h, src/rubberband.c, src/search.c, src/search.h,
	src/select.c, src/select.h, src/thermal.c, src/thermal.h,
	src/toporouter.c, src/undo.c, src/undo.h, src/vendor.c,
	src/vendor.h: Remove usage of *TypePtr and *TypeHandle type aliases Coverity already caught several bugs where we mixed up the various
	FooType FooTypePtr and FooTypeHandle types when passing to sizeof().  Personally I find it much easier to follow FooType * and FooType **,
	so drop the aliases and hopefully keep things earier to follow.

2011-12-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/mymem.c: mymem.c: Fix incorrect types passed to sizeof() in a
	couple of places (Caught by coverity) Coverity-cid: 242 Coverity-cid: 243 Coverity-cid: 244 Coverity-cid:
	245

2011-12-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/djopt.c: djopt.c: Allocate correct size for structure pointer (Caught by coverity) Coverity-cid: 239

2011-12-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/undo.c: undo.c: Fix incorrect sizeof() when allocting memory
	for netlist undo (Caught by coverity) Coverity-cid: 241

2011-12-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c: action.c: Unconditionally notify NetlistChanged()
	when loading new netlist We need to call NetlistChanged() even if the loading failed,
	otherwise the GUI is not informed that we free'd the old netlist.

2011-12-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/mymem.c: Fix crash upon pressing "f" hotkey (find connected)
	after a board revert.  Reproduction of this crash (before fix!): 1. Load a PCB with a netlist.  2. Open the netlist window to initialise the netlist.  3. File->Revert the PCB 4. Hit "f" key whilst the croshair is over any pad Analysis: When you File->Revert the layout, the GTK GUI's netlist window is
	not cleared as the old layout is free'd (or as an equivalent cause..
	"NetlistChanged(0)" is not called the reverted layout is loaded).  Having had the netlist window open before the revert, the
	data-structures in the GUI are initialised, but point to the
	pre-revert layout. They are not explicitly updated with a
	"NetlistChanged" notification, so when the user next hits "f" for
	find, it will try to use the stale pointers it already had.  Fix: Call "NetlistChanged (0);" after free'ing the netlist memory. The
	"FreeNetlistMemory()" call only free's the individual nets, the
	parent netlist structure which points to that memory and identifies
	how many nets are present is zeroed by the FreeNetlistMemory() call,
	so we can safely call NetlistChanged() at this point, before we have
	reloaded a new netlist.

2011-12-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* doc/pcb.texi, src/hid/bom/bom.c,
	tests/golden/hid_bom1/bom_general.bom,
	tests/golden/hid_bom1/bom_general.xy,
	tests/golden/hid_bom2/bom_general.xy,
	tests/golden/hid_bom2/test.bom,
	tests/golden/hid_bom3/bom_general.bom,
	tests/golden/hid_bom3/test.xy,
	tests/golden/hid_bom4/bom_general.bom,
	tests/golden/hid_bom4/bom_general.xy: Remove $Id$ lines from bom
	exporter .xy and .bom output Modern version control systems don't use this kind of expansion, so
	these lines don't serve much purpose.

2011-12-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* Makefile.am, README.cvs_branches, README_FILES/Makefile.am,
	acinclude.m4, autogen.sh, doc/ascii2texi.awk, doc/eps2png,
	doc/extract-docs, doc/fractional_size.tab, doc/gs/gs.texi,
	doc/gs/print-eps.scm, doc/ideas/database.txt,
	doc/ideas/keepouts.txt, doc/letter_size.tab, doc/metric_size.tab,
	doc/pcb.texi, doc/refcard.tex, doc/wire_size.tab, doc/wishlist.txt,
	example/Makefile.am, example/libraries/Makefile.am,
	example/libraries/example.inc, example/libraries/example.m4,
	globalconst.h, lib/CreateLibrary.sh.in,
	lib/CreateLibraryContents.sh.in, lib/ListLibraryContents.sh.in,
	lib/QueryLibrary.sh.in, lib/TTL_74xx_DIL.list, lib/TTL_74xx_DIL.m4,
	lib/amp.inc, lib/amphenol.inc, lib/amphenol.list, lib/amphenol.m4,
	lib/bourns.inc, lib/candk.inc, lib/common.m4, lib/connector.inc,
	lib/connector.list, lib/connector.m4, lib/crystal.list,
	lib/crystal.m4, lib/cts.inc, lib/dil.inc, lib/geda.inc,
	lib/gen_geda_list.awk, lib/gen_geda_m4.awk, lib/gen_list.awk,
	lib/gen_m4.awk, lib/generic.list, lib/generic.m4, lib/jerry.list,
	lib/jerry.m4, lib/johnstech.inc, lib/linear.list, lib/linear.m4,
	lib/logic.list, lib/logic.m4, lib/lsi.list, lib/lsi.m4,
	lib/m4lib_to_newlib.sh, lib/memory.list, lib/memory.m4,
	lib/minicircuits.inc, lib/misc.inc, lib/nichicon.inc,
	lib/optek.inc, lib/optical.list, lib/optical.m4, lib/panasonic.inc,
	lib/pci.inc, lib/pci.list, lib/pci.m4, lib/plcc.inc,
	lib/png_diff.sh, lib/qfn.inc, lib/qfp-ui.in, lib/qfp.inc,
	lib/qfp2.inc, lib/qfpdj.inc, lib/resistor_0.25W.list,
	lib/resistor_0.25W.m4, lib/resistor_adjust.list,
	lib/resistor_adjust.m4, lib/resistor_array.list,
	lib/resistor_array.m4, lib/rules.inc, lib/smt.inc,
	lib/texas_inst_amplifier.list, lib/texas_inst_amplifier.m4,
	lib/texas_inst_voltage_reg.list, lib/texas_inst_voltage_reg.m4,
	lib/transistor.list, lib/transistor.m4,
	newlib/2_pin_thru-hole_packages/Makefile.am, newlib/Makefile.am,
	newlib/connectors/Makefile.am, newlib/crystal/Makefile.am,
	newlib/electro-optics/Makefile.am, newlib/headers/Makefile.am,
	newlib/keystone/Makefile.am, newlib/msp430/Makefile.am,
	newlib/not_vetted_ingo/Makefile.am, newlib/sockets/Makefile.am,
	newlib/tests/Makefile.am, src/Makefile.am, src/action.h,
	src/autoplace.c, src/autoplace.h, src/autoroute.c, src/autoroute.h,
	src/box.h, src/buffer.c, src/buffer.h, src/change.c, src/change.h,
	src/clip.c, src/clip.h, src/command.c, src/command.h, src/compat.c,
	src/compat.h, src/const.h, src/copy.c, src/copy.h, src/create.c,
	src/create.h, src/crosshair.c, src/crosshair.h, src/data.c,
	src/data.h, src/djopt.c, src/djopt.h, src/dolists.h, src/draw.c,
	src/draw.h, src/drill.c, src/drill.h, src/error.c, src/error.h,
	src/file.c, src/find.c, src/find.h, src/flags.c, src/fontmode.c,
	src/gather-actions, src/global.h, src/heap.c, src/heap.h,
	src/hid/batch/batch.c, src/hid/bom/bom.c, src/hid/common/actions.c,
	src/hid/common/extents.c, src/hid/common/flags.c,
	src/hid/common/hidinit.c, src/hid/common/hidnogui.c,
	src/hid/gcode/curve.c, src/hid/gcode/decompose.c,
	src/hid/gcode/decompose.h, src/hid/gcode/gcode.h,
	src/hid/gcode/lists.h, src/hid/gcode/trace.c,
	src/hid/gcode/trace.h, src/hid/gerber/gerber.c,
	src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-gl.c,
	src/hid/gtk/gtkhid-main.c, src/hid/gtk/gtkhid.h,
	src/hid/gtk/gui-command-window.c, src/hid/gtk/gui-config.c,
	src/hid/gtk/gui-dialog-print.c, src/hid/gtk/gui-dialog.c,
	src/hid/gtk/gui-drc-window.c, src/hid/gtk/gui-drc-window.h,
	src/hid/gtk/gui-icons-misc.data,
	src/hid/gtk/gui-icons-mode-buttons.data,
	src/hid/gtk/gui-keyref-window.c, src/hid/gtk/gui-library-window.c,
	src/hid/gtk/gui-log-window.c, src/hid/gtk/gui-misc.c,
	src/hid/gtk/gui-netlist-window.c, src/hid/gtk/gui-pinout-preview.c,
	src/hid/gtk/gui-pinout-preview.h, src/hid/gtk/gui-pinout-window.c,
	src/hid/gtk/gui-top-window.c, src/hid/gtk/gui-utils.c,
	src/hid/gtk/gui.h, src/hid/hidint.h, src/hid/lesstif/dialogs.c,
	src/hid/lesstif/lesstif.h, src/hid/lesstif/library.c,
	src/hid/lesstif/main.c, src/hid/lesstif/menu.c,
	src/hid/lesstif/netlist.c, src/hid/lesstif/styles.c,
	src/hid/lesstif/xincludes.h, src/hid/lpr/lpr.c,
	src/hid/nelma/nelma.c, src/hid/png/png.h, src/hid/ps/eps.c,
	src/hid/ps/ps.c, src/hid/ps/ps.h, src/icon.data,
	src/icons/Makefile.am, src/insert.c, src/insert.h, src/intersect.c,
	src/intersect.h, src/line.c, src/line.h, src/macro.h, src/main.c,
	src/mirror.c, src/mirror.h, src/misc.c, src/misc.h,
	src/mode_icon.data, src/move.c, src/move.h, src/mtspace.c,
	src/mtspace.h, src/mymem.c, src/mymem.h, src/netlist.c,
	src/parse_l.h, src/parse_l.l, src/parse_y.y, src/pcbtest.sh.in,
	src/polygon.h, src/print.c, src/print.h, src/puller.c, src/rats.c,
	src/rats.h, src/remove.c, src/remove.h, src/report.h,
	src/res_lex.l, src/res_parse.y, src/resource.h, src/rotate.c,
	src/rotate.h, src/rtree.c, src/rtree.h, src/rubberband.c,
	src/rubberband.h, src/search.c, src/search.h, src/select.c,
	src/select.h, src/set.c, src/set.h, src/strflags.c, src/strflags.h,
	src/thermal.c, src/thermal.h, src/undo.c, src/undo.h, src/vector.c,
	src/vector.h, src/vendor.c, src/vendor.h, tests/run_tests.sh,
	tools/Makefile.am, tools/MergePCBPS, tools/Merge_dimPCBPS,
	tutorial/Makefile.am: Remove remaining RCS $Id$ identifiers left
	over from our CVS days (Including a couple of $Id magic strings from files we got from
	potrace, which are used by the gcode exporter).

2011-12-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* doc/eps2png: doc/eps2png: Remove version information from this
	utility This is obsolete since we switched from CVS, and refers to something
	called "Sciurix" (perhaps where we got this code from). Remove it
	for clarity.  Also remove the -ident command line option, which we don't use, and
	refers to the above removed version information.

2011-12-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/crosshair.c, src/global.h,
	src/hid/lesstif/main.c: Remove change log like comments from file
	headers We use git to track changes, not individual file headers.

2011-12-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/common/hidgl.c: hid/common/hidgl.c: Simplify angle
	calculation for drawing line caps Make use of atan2 to avoid special casing horizontal lines, and move
	make the input variables doubles to be consistent with that
	function.  Our use of "tanl" was inappropriate for the float input,
	dobule output variables we were using before (spotted by Dan
	McMahill).  I have modified the semantic meaning of angle, to keep the more
	conventional angle = atan2 (dy, dx); geometry. This means the angle
	now refers to the angle of the line, not the angle of the line-cap
	start. (The angle is adjusted before passing into the cap drawing
	routines).

2011-12-22   Dan McMahill * dan AT mcmahill dot net *

	* : commit c2a56b84d76e2c23eafce8cd0a562cb39b381c66  Author: Dan
	McMahill * dan AT mcmahill dot net * Date:   Thu Dec 22 19:01:51
	2011 -0500

2011-12-22   DJ Delorie * dj AT delorie dot com *

	* gts/Makefile.am: Don't install gts files Closes-bug: lp-854396

2011-12-22   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/set.c: Properly cancel rubberband move when user changes mode Closes-bug: lp-853609

2011-12-21   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/move.c: Update line RUBBERENDFLAG after move, even for trivial
	moves If you move a line segment, then drop it in its original place, the
	rubberband preview will be incorrect every other time you do this.
	This patch fixes that.  Note that there is still incorrect behavior if the user starts a
	rubberband move, then hits Esc, then tries again.  Affects-bug: lp-853609

2011-12-21   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/buffer.c, src/create.c, src/global.h, src/polygon.c: Revert
	previous commit, only update clipping for visible buffers This also fixes the undo bug, but without the performance hit.  (It
	may not fix other synchronization bugs, but given that we haven't
	seen any, this should be okay.) Affects-bug: lp-699272

2011-12-21   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/buffer.c: Clip polygons after moving between buffers When moving a polygon between buffers (i.e., from the undo buffer to
	the PCB->Data buffer or vice-versa), line- and via-clipping is not
	recalculated. This means that any elements drawn on a buffer before
	the polygon is moved there, will not clip the polygon.  One way (the only way, AFAIK) to make this happen is by bug
	lp-699272, which can reproduced as follows. I have inclided my
	explanation of what is happening at each step.    1. Draw a polygon with a line intersecting it, with clearpoly      set and visible clearance between the two.a   2. Delete the polygon. [This moves the polygon verbatim, including      its clipped form, from PCB->Data to RemoveList, the undo
	     buffer.]   3. Delete the line. [This moves it from PCB->Data to RemoveList,      calling RestoreToPolygon() to unclip any polygons on the screen      (but there aren't any!), then ClearFromPolygon() to clip the      polygon in the undo buffer (but this is already clipped!). In      other words, the line is deleted and the polygon unchanged.]   4. Hit undo. [This moves the line from the undo buffer back to      PCB->Data, calling RestoreToPolygon() to unclip the polygon in      the undo buffer, then ClearFromPolygon() to clip any polygons
	     on the screen (but there aren't any!). So the polygon is no
	     longer clipped.]   5. Hit undo. [This brings the polygon back, copying it verbatim
	     from the undo buffer to PCB->Data. As it is not clipped here, it
	     isn't clipped on the screen, giving rise to the "no clipping" bug.] This patch adds a call to InitClip() to MovePolygonToBuffer(), which
	forces a recalculation of a polygon's clipping when it is moved
	between buffers. This is perhaps not the most efficient fix, but
	will prevent any such synchronization bugs.  Closes-bug: lp-699272

2011-12-20   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/ghid-route-style-selector.c: gtk: allow route style
	selector to have nothing selected The affects the the function ghid_route_style_selector_sync()
	function, which is called from the RouteStylesChanged action to keep
	the GUI in sync with pcb's state. It selects the route style that
	matches pcb's state, or if none exists, does nothing.  This patch replaces "does nothing" with "deselects all styles", so
	that the GUI will not be misleading.  Closes-bug: lp-699299

2011-12-20   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/ghid-route-style-selector.c: gtk: fix memory leak in
	route style selector When the route style selector is emptied (e.g., when new styles are
	loaded from a .pcb file), any route style data not owned by pcb core
	is freed. However, this did not apply to all temporary route style
	data, even though the pcb core is completely unaware of those.  This commit frees all temporary route style data.

2011-12-20   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/ghid-main-menu.c: gtk: Add "plus" and "minus" to
	allowable keyboard shortcuts Closes-bug: sf-3081102

2011-12-20   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/ghid-main-menu.c: gtk: check accelerator uniqueness in
	a case-insensitive way Closes-bug: lp-699496

2011-12-20   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/ghid-route-style-selector.c,
	src/hid/gtk/gui-top-window.c: gtk: fix route style selector
	accelerators When the route-style list is changed, the menu items are not updated
	properly. (In fact, they come out of sync and point to invalid
	memory and lose their accelerators.) This commit fixes all that.

2011-12-20   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gui-library-window.c: gtk: library window: ignore
	element if LoadElementToBuffer fails In gtk/gui-library-window.c, the library window's selection-change
	callback calls LoadElementToBuffer() to read the selected element,
	so it can show a preview and select the element if necessary.  The return value of this determines whether to set pcb's mode to
	PASTEBUFFER_MODE. However, the library window preview is attempted
	regardless. If LoadElementToBuffer failed, this causes a NULL
	reference and segfault.  This patch skips the preview in the case that LoadElementToBuffer.  Closes-bug: lp-853628 Closes-bug: lp-852600

2011-12-19   Dan McMahill * dan AT mcmahill dot net *

	* : commit 93d1b34f9a0f3dae4f90f7fb4638626169d152d0  Author: Dan
	McMahill * dan AT mcmahill dot net * Date:   Mon Dec 19 11:47:54
	2011 -0500

2011-12-19   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gerber/gerber.c: hid/gerber: Fixup trailing zeros from
	commit b90fb6ae22ae83fdc0c802268dcbe74005bc705e (The trailing zero needs to be outside the format specifier)

2011-12-19   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c: action.c: Fix leak of schname in ActionImport()

2011-12-19   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/heap.c: heap.c: Don't set the v variable twice to the same
	value in __upheap.  (Caught with clang)

2011-12-19   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/find.c: find.c: Tidy up some ugly code in
	LookupLOConnectionsToLOList() Cleaned up whilst chasing some clang warnings. It appears there is
	no real problem here, as max_copper_layers is going to be >0 for any
	PCB. If not, there are potential uses of uninitialised data.

2011-12-19   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c: src/action.c: Abort the Import(setnewport,mask)
	action if the mask isn't set This avoids using an uninitialised variable.  (Caught by clang)

2011-12-19   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/png/png.c: hid/png/png.c: Remove buggy code for swapping
	x1/x2 and y1/y2 Since the png hid works, and this code is ineffective due to a typo,
	we probably ought to remove it.  (Caught by clang)

2011-12-19   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gerber/gerber.c: gerber.c: Tidy up use_gc() routine to
	avoid a static anlysis warning Don't unconditionally access the aptr variable right after we just
	NULL tested it.  (Caught by clang)

2011-12-19   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gerber/gerber.c: hid/gerber: Fix a couple of typos in
	drill_sort routine Should fix sorting of drill holes by coordinate.  (Caught by clang)

2011-12-19   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gerber/gerber.c: hid/gerber: Remove dead colour selection
	code

2011-12-19   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gcode/gcode.c, src/hid/nelma/nelma.c: Remove dead colour
	selection code from nelma and gcode hids (Silences some unused code warnings from clang)

2011-12-19   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c: action.c: Fixup some syntax so it appears as legal C
	before macro expansion "if TEST_FLAG (...) {" does not look like legal C until the
	TEST_FLAG macro is expanded. This works because the macro is wrapped
	with a () like all good function-like pre-processor macros.  This bad style was upsetting cppcheck, which flagged up a syntax
	error for this line. (Obviously it was not expanding macros before
	checking).

2011-12-19   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-netlist-window.c: hid/gtk: Remove some assigned,
	but unused variables in the netlist window (Caught with clang)

2011-12-19   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-netlist-window.c: hid/gtk: Fix broken pad-center
	finding code in the netlist window Looks like I made a copy+paste error in the code which shows the
	user the location of a particular netlist connection.  (Caught with clang)

2011-12-18   Andrew Poelstra * asp11 AT sfu dot ca *

	* tests/tests.list: Increase DPI of test hid_png3 Since the nanometers conversion, hid_png3 has failed due to rounding
	changes. I have changed the test's output DPI from 300 to 600, to
	decrease the chances of this happening in the future.  Fixes-bug: lp-860037

2011-12-18   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/ghid-layer-selector.c: hid/gtk/ghid_layer_selector.c:
	Use g_malloc for the new_layer structure This eventually gets free'd with g_free(). We need match these
	allocations and de-allocations carefully, otherwise various
	corruption and crashes could occur.  (Caught with cppcheck)

2011-12-18   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/common/hidnogui.c: hid/common/hidnogui.c: Plug leak in
	nogui_prompt_for and nogui_fileselect We forgot to free() the memory returned from read_stdin_line().
	There is actually no need to strdup the answer anyway, so pass the
	returned value directly and let the caller free it.  (Caught with cppcheck)

2011-12-18   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/common/hidinit.c: hid/common: Don't leak the dir resource
	in hid_load_dir() Add missing closedir() call.  (Caught with cppcheck)

2011-12-18   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/file.c: file.c: Cleanup mixed pclose() / fclose() in
	ReadNetlist() In the "Empty netlist file!" error path, we called pclose()
	unconditionally where we should have tested "used_popen" first.  (Caught with cppcheck)

2011-12-18   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/file.c: file.c: Plug leak of libpaths variable in
	ParseLibraryTree() function (Caught with cppcheck)

2011-12-18   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Free share_dir variable after
	use (Caught with cppcheck)

2011-12-18   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gcode/gcode.c: hid/gcode: Fix memory leak in error path (Caught with cppcheck)

2011-12-18   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gcode/gcode.c: hid/gcode: Fix mismatched g_strdup_printf()
	and free() Allocations from the g_*() functions shuold be free'd with g_free().  (Caught with cppcheck)

2011-12-18   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/lpr/lpr.c: hid/lpr: Don't mis-match popen and fclose
	(should be pclose) (Caught with cppcheck)

2011-12-16   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/search.c: search.c: Return the pad who's center is closest to
	the queried coordinate When snapping to pads we often find the case where the search radius
	is wider than the spacing between pads. SearchPadByLocation()
	previously returned the first pad it found whthin the search area,
	meaning you could have the crosshair right above a particular pad,
	yet snap to a different pad due to it being within the search radius
	of the crosshair, and happening to be tested first by the r-tree
	search code.  This proof of concept change makes SearchPadByLocation() return the
	pad whos center coordinate is closest to the center of the search
	location.  This fixes another annoying snapping behaviour for some parts such
	as "0805", when operating with a fairly course grid. (NB: Search
	radius for snapping is related to the size of the current grid).

2011-12-16   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/crosshair.c: crosshair.c: Be paranoid about overflow when
	finding an pad-center coordinates Not aiming to fix any particular bug here, but I noticed the
	potential overflow here and thought I'd fix it. Longer term, we
	perhaps ought to write some convenience functions for performing
	operations like this correctly.

2011-12-16   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/crosshair.c: crosshair.c: Snap to later-tested objects
	equi-distant with the current snap.  This inequality adjustment means that when an element mark is
	on-grid, and the first-snap is a grid location snap, the test
	against the element mark will now pass, and mark the snap as a
	non-grid snap.  This fixes the rather irritating bug where certain footprints, such
	as SMT resistors became impossible to grab by their element mark
	when that mark landed exactly on a grid point.

2011-12-15   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gerber/gerber.c: Fix plated-drill overflow bug in gerber.c Plated drills are printed in 1/10 mils rather than mils (it's a
	funny format). This was previously achieved by multiplying
	coordinates by 10, then printing them as mils. However, this caused
	an overflow for medium-large boards on 32-bit systems.  This fix just prints a trailing 0 onto the measures, rather than
	computing the value times ten.

2011-12-08   Dan McMahill * dan AT mcmahill dot net *

	* src/main.c: Add (protected) include for locale.h.  Needed for
	setlocale() prototype as well as LC_ALL on some systems.

2011-11-25   Andrew Poelstra (local) * apoelstra AT wpsoftware dot net *

	* src/hid/gerber/gerber.c: gerber.c: Use ` modifier in pcb-printf to
	fix internationalization bug

2011-11-25   Andrew Poelstra (local) * apoelstra AT wpsoftware dot net *

	* src/hid/gerber/gerber.c: Revert "Fix locale-dependent gerber
	output" This reverts commit 2473e26c7d9581753a28f1f55a4a4b7ff109a3f2.  A better fix would be to use the new pcb-printf specifier, rather
	than manually using g_ascii_strtod with the COORD_TO_ macros.

2011-11-25   Andrew Poelstra (local) * apoelstra AT wpsoftware dot net *

	* src/pcb-printf.c, src/pcb-printf.h: Add ` modifier to pcb-printf,
	which forces '.' as a decimal separator This should be used for the gerber exporter and other formats that
	need to use '.' regardless of locale in order to obey their
	standards.  Note that the %mr specifier (which restricts suffixes to mm and mil
	so that old pcb versions can read them) uses this by default, so no
	changes need to be made to file.c.

2011-11-20   Dima Kogan * dima AT secretsauce dot net *

	* tests/golden/hid_gcode1/Makefile.am,
	tests/golden/hid_gcode10/Makefile.am,
	tests/golden/hid_gcode11/Makefile.am,
	tests/golden/hid_gcode2/Makefile.am,
	tests/golden/hid_gcode3/Makefile.am,
	tests/golden/hid_gcode4/Makefile.am,
	tests/golden/hid_gcode5/Makefile.am,
	tests/golden/hid_gcode6/Makefile.am,
	tests/golden/hid_gcode7/Makefile.am,
	tests/golden/hid_gcode8/Makefile.am,
	tests/golden/hid_gcode9/Makefile.am: gcode test Makefiles now dist
	the golden results with the new filenames

2011-11-20   Dima Kogan * dima AT secretsauce dot net *

	* tests/run_tests.sh: gcode tests: date-stripping now supports all
	valid dates

2011-11-19   DJ Delorie * dj AT delorie dot com *

	* src/set.c: Add missing pcb-printf.h set.c was calling pcb_g_strdup_printf() without #including
	pcb-printf.h, resulting in a missing prototype warning.

2011-11-16   Dima Kogan * dima AT secretsauce dot net *

	* src/hid/png/png.c: png hid: fixed some instances of an 'int' being
	used instead of Coord.  After the unit switch, some cases where an int has sufficed
	previously no longer work. An example is png output of tilted,
	square pads. Before this patch those pads do not get drawn
	correctly; their size is completely wrong.

2011-11-19   Dima Kogan * dima AT secretsauce dot net *

	* src/hid/gcode/gcode.c: g-code hid: converted use of hypot() to
	Distance()

2011-11-19   DJ Delorie * dj AT delorie dot com *

	* src/hid/gerber/gerber.c: Fix locale-dependent gerber output pcb_printf doesn't have a modifier that lets you select a unit (%mi)
	and locale-independent format (like %mr) at the same time.  The
	gerber hid was using %mi to output to a file, but that resulted in
	',' instead of '.' for some locales.  This patch switches it to call
	g_ascii_formatd() on the value first, to ensure it's output with
	'.'.

2011-11-19   Ahmed El-Mahmoudy * aelmahmoudy AT sabily dot org *

	* src/hid/common/hidgl.c: Fix typo (recieved -> received)

2011-10-02   Alan Somers * asomers AT gmail dot com *

	* tools/Makefile.am, tools/pcbdiff: Adding a script to graphically
	diff PCB files

2011-11-13   Dima Kogan * dima AT secretsauce dot net *

	* tests/golden/hid_gcode1/gcode_oneline-0.0350.drill.gcode,
	tests/golden/hid_gcode1/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode1/gcode_oneline-top.gcode,
	tests/golden/hid_gcode10/gcode_oneline-0.8890.drill.gcode,
	tests/golden/hid_gcode10/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode10/gcode_oneline-top.gcode,
	tests/golden/hid_gcode11/gcode_oneline-0.0350.drill.gcode,
	tests/golden/hid_gcode11/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode11/gcode_oneline-top.gcode,
	tests/golden/hid_gcode2/out-0.0350.drill.gcode,
	tests/golden/hid_gcode2/out-bottom.gcode,
	tests/golden/hid_gcode2/out-top.gcode,
	tests/golden/hid_gcode3/gcode_oneline-0.0350.drill.gcode,
	tests/golden/hid_gcode3/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode3/gcode_oneline-top.gcode,
	tests/golden/hid_gcode4/gcode_oneline-0.0350.drill.gcode,
	tests/golden/hid_gcode4/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode4/gcode_oneline-top.gcode,
	tests/golden/hid_gcode5/gcode_oneline-0.0350.drill.gcode,
	tests/golden/hid_gcode5/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode5/gcode_oneline-top.gcode,
	tests/golden/hid_gcode6/gcode_oneline-0.0350.drill.gcode,
	tests/golden/hid_gcode6/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode6/gcode_oneline-top.gcode,
	tests/golden/hid_gcode7/gcode_oneline-0.0350.drill.gcode,
	tests/golden/hid_gcode7/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode7/gcode_oneline-top.gcode,
	tests/golden/hid_gcode8/gcode_oneline-0.8890.drill.gcode,
	tests/golden/hid_gcode8/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode8/gcode_oneline-top.gcode,
	tests/golden/hid_gcode9/gcode_oneline-0.0350.drill.gcode,
	tests/golden/hid_gcode9/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode9/gcode_oneline-top.gcode: reference gcode
	tests now match the latest generated gcode

2011-11-13   Dima Kogan * dima AT secretsauce dot net *

	* tests/run_tests.sh: gcode tests: stripping creation timestamp more
	robustly

2011-11-13   Dima Kogan * dima AT secretsauce dot net *

	* tests/run_tests.sh: fixed broken bom, xy and gcode testing I was comparing the reference files to themselves. Now comparing
	reference and test files

2011-11-13   Dima Kogan * dima AT secretsauce dot net *

	* tests/run_tests.sh: test script: local-ized all variables passed
	into functions. stuff no longer gets overwritten

2011-11-13   Dima Kogan * dima AT secretsauce dot net *

	* tests/run_tests.sh: test script: added missing boilerplate to set
	normalized filenames

2011-11-13   Dima Kogan * dima AT secretsauce dot net *

	* tests/run_tests.sh: unit test script: fixed incorrect file
	existence check

2011-11-13   Dima Kogan * dima AT secretsauce dot net *

	* tests/golden/hid_gcode1/gcode_oneline-0.0350.drill.gcode,
	tests/golden/hid_gcode1/gcode_oneline-drill.gcode,
	tests/golden/hid_gcode10/gcode_oneline-0.8890.drill.gcode,
	tests/golden/hid_gcode10/gcode_oneline-drill.gcode,
	tests/golden/hid_gcode11/gcode_oneline-0.0350.drill.gcode,
	tests/golden/hid_gcode11/gcode_oneline-drill.gcode,
	tests/golden/hid_gcode2/out-0.0350.drill.gcode,
	tests/golden/hid_gcode2/out-drill.gcode,
	tests/golden/hid_gcode3/gcode_oneline-0.0350.drill.gcode,
	tests/golden/hid_gcode3/gcode_oneline-drill.gcode,
	tests/golden/hid_gcode4/gcode_oneline-0.0350.drill.gcode,
	tests/golden/hid_gcode4/gcode_oneline-drill.gcode,
	tests/golden/hid_gcode5/gcode_oneline-0.0350.drill.gcode,
	tests/golden/hid_gcode5/gcode_oneline-drill.gcode,
	tests/golden/hid_gcode6/gcode_oneline-0.0350.drill.gcode,
	tests/golden/hid_gcode6/gcode_oneline-drill.gcode,
	tests/golden/hid_gcode7/gcode_oneline-0.0350.drill.gcode,
	tests/golden/hid_gcode7/gcode_oneline-drill.gcode,
	tests/golden/hid_gcode8/gcode_oneline-0.8890.drill.gcode,
	tests/golden/hid_gcode8/gcode_oneline-drill.gcode,
	tests/golden/hid_gcode9/gcode_oneline-0.0350.drill.gcode,
	tests/golden/hid_gcode9/gcode_oneline-drill.gcode, tests/tests.list: 
	gcode tests now look for the new size-specific drill files

2011-11-13   Dima Kogan * dima AT secretsauce dot net *

	* tests/tests.list: updated tests.list to use tool diameter instead
	of radius when testing gcode

2011-11-13   Dima Kogan * dima AT secretsauce dot net *

	* tests/tests.list: fixed incorrect comment in tests.list

2011-11-13   Dima Kogan * dima AT secretsauce dot net *

	* src/hid/gcode/gcode.c: added some forgotten newlines in the gcode
	output

2011-11-13   Dima Kogan * dima AT secretsauce dot net *

	* src/hid/gcode/gcode.c: g-code exporter now outputs NC-drills for
	different hole sizes into different files

2011-11-13   Dima Kogan * dima AT secretsauce dot net *

	* src/hid/gcode/gcode.c: a few tab->spaces conversions in comments

2011-11-13   Dima Kogan * dima AT secretsauce dot net *

	* src/hid/gcode/gcode.c: removed some trailing whitespace in
	comments

2011-09-10   Dima Kogan * dima AT secretsauce dot net *

	* src/hid/gcode/gcode.c: gcode exporter: reworked and cleaned up
	sort_drill() This function no longer deallocates the memory passed into it, which
	is a potential source of issues for the unsuspecting caller. Instead
	it sorts the data in-place

2011-09-09   Dima Kogan * dima AT secretsauce dot net *

	* src/hid/gcode/gcode.c: gcode exporter: minor whitespace
	corrections

2011-09-09   Dima Kogan * dima AT secretsauce dot net *

	* src/hid/gcode/gcode.c: gcode exporter: made some functions static

2011-11-13   Dima Kogan * dima AT secretsauce dot net *

	* tests/golden/hid_gcode1/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode1/gcode_oneline-drill.gcode,
	tests/golden/hid_gcode1/gcode_oneline-top.gcode,
	tests/golden/hid_gcode1/gcode_oneline.gcode.bottom.cnc,
	tests/golden/hid_gcode1/gcode_oneline.gcode.drill.cnc,
	tests/golden/hid_gcode1/gcode_oneline.gcode.top.cnc,
	tests/golden/hid_gcode10/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode10/gcode_oneline-drill.gcode,
	tests/golden/hid_gcode10/gcode_oneline-top.gcode,
	tests/golden/hid_gcode10/gcode_oneline.gcode.bottom.cnc,
	tests/golden/hid_gcode10/gcode_oneline.gcode.drill.cnc,
	tests/golden/hid_gcode10/gcode_oneline.gcode.top.cnc,
	tests/golden/hid_gcode11/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode11/gcode_oneline-drill.gcode,
	tests/golden/hid_gcode11/gcode_oneline-top.gcode,
	tests/golden/hid_gcode11/gcode_oneline.gcode.bottom.cnc,
	tests/golden/hid_gcode11/gcode_oneline.gcode.drill.cnc,
	tests/golden/hid_gcode11/gcode_oneline.gcode.top.cnc,
	tests/golden/hid_gcode2/out-bottom.gcode,
	tests/golden/hid_gcode2/out-drill.gcode,
	tests/golden/hid_gcode2/out-top.gcode,
	tests/golden/hid_gcode2/out.bottom.cnc,
	tests/golden/hid_gcode2/out.drill.cnc,
	tests/golden/hid_gcode2/out.top.cnc,
	tests/golden/hid_gcode3/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode3/gcode_oneline-drill.gcode,
	tests/golden/hid_gcode3/gcode_oneline-top.gcode,
	tests/golden/hid_gcode3/gcode_oneline.gcode.bottom.cnc,
	tests/golden/hid_gcode3/gcode_oneline.gcode.drill.cnc,
	tests/golden/hid_gcode3/gcode_oneline.gcode.top.cnc,
	tests/golden/hid_gcode4/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode4/gcode_oneline-drill.gcode,
	tests/golden/hid_gcode4/gcode_oneline-top.gcode,
	tests/golden/hid_gcode4/gcode_oneline.gcode.bottom.cnc,
	tests/golden/hid_gcode4/gcode_oneline.gcode.drill.cnc,
	tests/golden/hid_gcode4/gcode_oneline.gcode.top.cnc,
	tests/golden/hid_gcode5/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode5/gcode_oneline-drill.gcode,
	tests/golden/hid_gcode5/gcode_oneline-top.gcode,
	tests/golden/hid_gcode5/gcode_oneline.gcode.bottom.cnc,
	tests/golden/hid_gcode5/gcode_oneline.gcode.drill.cnc,
	tests/golden/hid_gcode5/gcode_oneline.gcode.top.cnc,
	tests/golden/hid_gcode6/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode6/gcode_oneline-drill.gcode,
	tests/golden/hid_gcode6/gcode_oneline-top.gcode,
	tests/golden/hid_gcode6/gcode_oneline.gcode.bottom.cnc,
	tests/golden/hid_gcode6/gcode_oneline.gcode.drill.cnc,
	tests/golden/hid_gcode6/gcode_oneline.gcode.top.cnc,
	tests/golden/hid_gcode7/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode7/gcode_oneline-drill.gcode,
	tests/golden/hid_gcode7/gcode_oneline-top.gcode,
	tests/golden/hid_gcode7/gcode_oneline.gcode.bottom.cnc,
	tests/golden/hid_gcode7/gcode_oneline.gcode.drill.cnc,
	tests/golden/hid_gcode7/gcode_oneline.gcode.top.cnc,
	tests/golden/hid_gcode8/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode8/gcode_oneline-drill.gcode,
	tests/golden/hid_gcode8/gcode_oneline-top.gcode,
	tests/golden/hid_gcode8/gcode_oneline.gcode.bottom.cnc,
	tests/golden/hid_gcode8/gcode_oneline.gcode.drill.cnc,
	tests/golden/hid_gcode8/gcode_oneline.gcode.top.cnc,
	tests/golden/hid_gcode9/gcode_oneline-bottom.gcode,
	tests/golden/hid_gcode9/gcode_oneline-drill.gcode,
	tests/golden/hid_gcode9/gcode_oneline-top.gcode,
	tests/golden/hid_gcode9/gcode_oneline.gcode.bottom.cnc,
	tests/golden/hid_gcode9/gcode_oneline.gcode.drill.cnc,
	tests/golden/hid_gcode9/gcode_oneline.gcode.top.cnc,
	tests/tests.list: renamed golden test files to match new gcode
	output filenames

2011-11-16   Andrew Poelstra (local) * apoelstra AT wpsoftware dot net *

	* src/file.c, src/set.c: Add attribute PCB::grid::size for user's
	grid setting This stores the grid size using pcb-printf for full precision; the
	ordinary value in Grid[] needs to be in cmils for backward
	compatibility, so it cannot store metric settings correctly.

2011-11-12   Richard Barlow * richard AT richardbarlow dot co dot uk *

	* src/pcb-printf.c: Fix parsing of route styles with units A bug appeared after route styles started being saved with units
	suffixed. When loading a PCB file the units were ignored and
	therefore it was assumed the values were in cmils.  This was a problem in the get_unit_struct() function which didn't
	handle long strings well. If the unit was followed by more
	characters strcmp would return non-zero. The function has already
	worked out the length of the unit text and therefore strncmp should
	be used.

2011-11-06   DJ Delorie * dj AT delorie dot com *

	* lib/geda.inc: Add 4-pin DIP Add DIP4 to the collection of standard DIP packages

2011-11-06   DJ Delorie * dj AT delorie dot com *

	* src/hid/ps/ps.c: Fix postscript alignment marks The delta-x and delta-y parameters of corner() are scales, not
	coordinates.  Change them to "int" so the +1/-1 won't get scaled to
	zero.

2010-10-22   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: HID-gcode: use drill cycles only for
	advanced G-code.  Not all machine controllers understand drill cycles, so a more
	common denominatior is needed. Gladly, almost all the code was there
	in comments already.  Affects-bug: lp-699497

2010-10-22   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: HID-gcode: simplify code a bit.  This is mostly for additional code coming soon.  Affects-bug: lp-699497

2010-10-21   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: HID-gcode: add a comment about the tool
	diameter into the G-code file.  Affects-bug: lp-699497

2010-10-21   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: HID-gcode: switch from tool-radius to
	tool-diameter in the user interface.  Affects-bug: lp-699497

2011-10-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/insert.c: Fix computation of 45-degree edges when inserting a
	point into an edge Fixes a few mistakes introduced in commit
	b59ab044afe3ac362f8cb4da10ea410280b4323a which was bisected to and
	identified as the cuplrit by Gabriel Paubert.   Reported-by: Gabriel Paubert * paubert AT iram dot es *

2010-10-22   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: HID-gcode: remove a leftover debug-printf.  Affects-bug: lp-699497

2010-10-20   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: HID-gcode: Avoid more than one G or M code
	per line for advanced G-code.  Some primitive G-code interpreters can't deal with multiple G or M
	codes in one line, so avoid them at no cost. Alberto Maccioni asked
	on geda-user make this optional.  Affects-bug: lp-699497

2010-10-21   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c, src/hid/gcode/trace.c,
	src/hid/gcode/trace.h: HID-gcode: add a flag wether to produce
	advanced G-code.  Some primitive machine controllers don't understand what a variable
	is, while those understanding variables can work without as well.
	After all, using variables is just a convenience for later
	hand-editing of the G-code programs. More changes for primitive
	controllers are to come.  Affects-bug: lp-699497

2010-10-21   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: HID-gcode: create better file names.  If the user adds a suffix to a file name in the dialog, he expects
	the resulting files to have these suffixes as well.  This patch is a combination of the following two patches by Markus
	Hitter.  0001-HID-gcode-let-the-system-library-allocate-the-tempor.patch
	0004-HID-gcode-create-better-file-names.patch The original patches are avaiable at the bug-report on launchpad
	lp-699497. The combination and modifications where done by Felix
	Ruoff.  Affects-bug: lp-699497

2010-10-31   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: HID-gcode: get rid of tabulators in
	gcode.c. Pure whitespace change.  Developers should decide wether to use tabs or not, but not mix
	both.  Rebased to git head by Felix Ruoff Affects-bug: lp-699497

2011-10-20   Kai-Martin Knaak * knaak AT iqo dot uni-hannover dot de *

	* src/.gitignore: add gpcb-menu.res and pcb-menu.res to gitignore The files src/gpcb-menu.res and src/pcb-menu.res are generated
	during the build. So git should not care for them.  Closes-bug: lp-879086

2011-10-20   Kai-Martin Knaak * knaak AT iqo dot uni-hannover dot de *

	* doc/.gitignore: add options.texi to gitignore The file doc/options.texi is produced by a script at compile time.
	So git should not take care for it.  Affects-bug: lp-879086

2011-10-20   Kai-Martin Knaak * knaak AT iqo dot uni-hannover dot de *

	* doc/.gitignore: add gcode related files to gitignore The files   doc/gcode.pdf   doc/gcode.png   doc/gcode_control_img.pdf   doc/gcode_control_img.png   doc/gcode_tool_path.pdf   doc/gcode_tool_path.png are produced at compile time. So git
	should not care for them.  Affects-bug: lp-879086

2011-10-23   Andrew Poelstra (local) * apoelstra AT wpsoftware dot net *

	* src/file.c: Bump PCB_FILE_VERSION_BASELINE up to 20091103.  The unit-parsing support that we now require from the pcb parser was
	added by DJ in December 2008. So I am bumping up the output version
	in file.c to the next release, 20091103.

2011-10-23   Andrew Poelstra (local) * apoelstra AT wpsoftware dot net *

	* src/pcb-printf.c, src/pcb-printf.h: Make pcb-printf output unit
	suffixes with %mr spec This marks a change in the file format, but as we only use the mm
	and mil suffixes (for now, anyway), it should not be a breaking one.  I did not update the file format version that is output.

2011-05-22   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/gpcb-menu.res.in: hid/gtk: Remove double 'Remove Connected'
	menu-item

2011-09-19   Kai-Martin Knaak * kmk AT lilalaser dot de *

	* src/hid/gtk/gui-config.c: 
	top-bottom-in-preference-dialog-of-GTK-HID This patch replaces "component" and "solder" in the preference
	dialog of GTK HID with "top" and "bottom". Incindences were in the
	layer group tab and in the text of the info tab.

2011-09-19   Kai-Martin Knaak * kmk AT lilalaser dot de *

	* src/hid/gtk/gui-misc.c: top/bottom in status line of GTK-HID This patch replaces "component" and "solder" in the leftmost item of
	the status line of the GTK HID with "top" and "bottom".

2011-10-11   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/gpcb-menu.res.in, src/hid/common/hid_resource.c: Add support
	for mice / touchpads with a left/right scroll-wheel  Tested-by: Dave McGuire * mcguire AT neurotica dot com *

2011-10-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* globalconst.h, src/const.h, src/crosshair.c, src/global.h,
	src/misc.c, src/move.h, src/rotate.c, src/search.c: Add snapping to
	arc end-points

2011-10-03   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-gl.c: hid/gtk: Fix
	pinout preview rendering for back-side elements NB: There are still some bugs, in that when the board view is
	flipped, this doesn't currently trigger a repaint of any preview
	widgets which are open. They will refresh with the updated
	coordinate system when they are next repainted. (Which might requre
	a resize of the window on a compositing window manager).  Ideally we would track the correct view with the preview widget, but
	for now this is a simple fix.

2011-10-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/toporouter.c: toporouter.c: Convert some debugging constants
	to COORD units properly (Broken since we switched to nanometers)

2011-10-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/toporouter.c: toporouter.c: Fix print of time taken by the
	toporouter The old code conflated microseconds, milliseconds and was generally
	nuts.

2011-10-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/toporouter.c: toporouter.c: Remove unused, commented
	print_trace() function

2011-10-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/toporouter.c, src/toporouter.h: toporouter.c: Remove unused
	(toporouter_t *)->stublength

2011-10-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/toporouter.c, src/toporouter.h: toporouter.c: Remove unused
	(toporouter_t *)->viamax

2011-10-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/toporouter.c, src/toporouter.h: toporouter.c: Remove unused
	(toporouter_t *)->serpintine_half_amplitude

2011-10-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/toporouter.c: toporouter.c: Re-write
	{coord,point}_intersect_prop() to increase clariry.  Since the wind_* values computed in this function can be -1, 0 or 1,
	it is clearer to test them using equality relations, not perform XOR
	operations on their bit-patterns.  I believe the old code worked, but it would return an strange
	constant for "true". To ram the point home, I've changed the
	function to return bool.

2011-10-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/toporouter.c: toporouter.c: Remove commented
	tvertex_intersect() function The implementation being used is a macro in toporouter.h

2011-10-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/toporouter.c: toporouter.c: Remove unused function
	tvertex_intersect_prop()

2011-10-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/toporouter.c: toporouter.c: Re-arrange the maths in
	{vertices,coords}_on_line() Should given an identical result, but with a couple fewer
	operations.

2011-10-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/toporouter.c: toporouter.c: Remove unused function
	points_on_line()

2011-10-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/toporouter.c: toporouter.c: Remove unused wind_double()
	function

2011-10-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/toporouter.c: toporouter.c: Remove unused sloppy_.*wind()
	functions

2011-10-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/toporouter.c: toporouter: Re-implement functions using atan
	with atan2 Simplifies and condenses the code a lot.

2011-10-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/toporouter.c: toporouter.c: Replace coord_xangle() with
	coord_angle() The new function returning the "normal" coordinate system angle one
	would expect. Replace usage of coord_xangle() in
	export_pcb_drawarc() with the new function.  PCB's arc angles are a bit nutty, so lets try to contain that
	strangeness to the arc exporting routine!

2011-10-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/toporouter.c: toporouter.c: Remove unused point_xangle()
	function (Unused since the previous commit)

2011-10-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/toporouter.c: toporouter.c: Remove unused region_span()
	function

2011-10-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/toporouter.c: toporouter: Remove unused
	vertex_move_towards_point[_values]() functions

2011-10-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/toporouter.c: toporouter.c: Fix constants which assumed CMIL
	for PCB's internal units This should make the toporouter work again.

2011-10-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/toporouter.c: toporouter.c: Fixup and clean
	read_board_constraints() and create_board_edge() Introduce a #defined constant which expresses how fine to break the
	board edges into (the old hard-coded constant was broken since we
	changed to nanometers).

2011-10-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/toporouter.c: toporoute.c: Remove runtime Copyright message
	from toporouter Not only is Anthony now not the only author of this code, we don't
	do this for anything else.. why should we for this. It could
	potentially act to discorage others from working on this code, and
	we don't want that.

2011-10-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/toporouter.c, src/toporouter.h: toporouter.[ch]: Add generic
	"contributors" copyright notice "Copyright (C) 2009-2011 PCB Contibrutors (See ChangeLog for
	details)"

2011-10-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/change.c: Revert "Change change.c to treat text scale as mils"
	and fix harder..  This reverts commit 9396377717f7c49cf38d753a35e32d004294b09e and
	fixes what was probably the underlying issue... I made a mistake in
	commit 2d21a8ad8f38e07b17450450a096f1ce4b3bef0e such that it added
	the existing text scale when setting an "absolute" text size, but
	ignored it when setting a relative change. (Clearly backwards).  Additionally, I've switched to computing the new value in double
	arithmetic to avoid a potential overflow when the input value is
	large and we are using a 32-bit Coord type.  See commit 2d21a8ad8f38e07b17450450a096f1ce4b3bef0e for a
	description of how text scale is defined and used. If we want to
	change how our text is sized / scaled in the future, we would need
	to change usage in many more places than the reverted commit
	touched.

2011-10-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c: action.c: Fix the SetValue(TextScale, ...) action
	after nanometer conversion

2011-10-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gl.c: hid/gtk: (GL Renderer) Use direct
	rendering for off-screen pixmaps We use direct rendering for the rest (where possible), so why slow
	down pixmap rendering. Also fixes a bug on my pcb+gl_experimental
	branch where pixel shaders can't be shared between the direct
	rendered widgets and the pixmap rendering code.

2011-09-29   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/ghid-layer-selector.c,
	src/hid/gtk/ghid-layer-selector.h, src/hid/gtk/gui-top-window.c: 
	hid/gtk: Extend layer selector to allow editing layer names in situ Contains an unfortunate abstraciton break in the layer selector in
	order to temporarily disable PCB's accelerators whilst the layer is
	being renamed. It would be lovely to fix this and make things
	cleaner in the future.

2011-09-29   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/ghid-layer-selector.c,
	src/hid/gtk/ghid-layer-selector.h: hid/gtk: Layer selector - Rename
	"activatable" to "selectable" GTK has a special meaning for the word "activatable", meaning that
	the item can be double-clicked, or "activated" by hitting enter on
	it. We use it to mean selectable - so change the code to make this
	clear.

2011-09-29   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/ghid-layer-selector.c: hid/gtk: Layer selector -
	remove unused variable

2011-09-29   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/ghid-layer-selector.c: hid/gtk: Refactor to remove
	some duplicated code in the layer selector

2011-09-29   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/ghid-layer-selector.c: hid/gtk: Better encapsulate
	some of the layer selector initialisation The work we do within ghid_layer_selector_new() is better placed in
	the appropriate class initialiser functions, otherwise we needn't go
	to the trouble of subclassing a widget in the first place.

2011-09-29   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/ghid-layer-selector.c: hid/gtk: Don't refleak the
	accel group created by the layer selector When the accel group is created, we have a reference to it - we
	don't need another.

2011-09-29   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-utils.c, src/hid/gtk/gui.h: hid/gtk: Remove the
	unused function utf8_dup_string

2011-09-29   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-config.c: hid/gtk: Don't use dup_string where
	doing so would mix g_free() and free() The core uses malloc(), strdup(), free() etc..  The GTK HID
	primarily uses g_malloc(), g_strdup(), g_free() etc..  Mixing them can lead to bad behaviour and hard to debug crashes.
	This commit is not aimed at fixing any known bugs, but is "by
	inspection", as I spotted some of these when working on a layer
	selector patch.

2011-09-12   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c, src/draw.h, src/hid/gtk/gtkhid-main.c: draw.c: Expose
	some drawing APIs for the HIDs to use directly...  Exposes:   DrawLayerGroup   DrawPaste   DrawSilk   DrawMask   DrawHoles   PrintAssembly

2011-09-29   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gl.c: hid/gtk: Simplify and correct
	ghid_show_crosshair() logic for the GL renderer Drop the always-true parameter we were passed, and combine the code
	from ghid_show_crosshair() and draw_crosshair() into one function.

2011-09-29   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c: hid/gtk: Remove always-true parameter
	from show_crosshair() in GDK renderer Pass the render_priv pointer instead - this is vaguely useful. Also
	tidy the function a little to make it clearer, rolling the code from
	show_crosshair() and draw_crosshair() together into a combined
	"draw_crosshair()" function.  The function no longer rejects negative x drawing coordinates, but
	we aren't passed those anyway.

2011-09-29   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gl.c: hid/gtk: Fix z-coordinate scaling for GL
	views.  (Fixes a 3D rendering bug in my PCB+GL branches, no visible effect
	for git HEAD builds).

2011-09-23   Andrew Poelstra (local) * apoelstra AT wpsoftware dot net *

	* src/pcb-printf.c: Move pcb-printf #if 0 guards for %mr specifier
	to fix internationalization Since the previous version of pcb cannot read files with suffixes on
	its measures, right now the %mr specifier outputs measures in cmils,
	no suffix.  The future behavior would be to select appropriate units and use
	those, but for now this is disabled by an #if 0 block around the
	relevant call to CoordToString.  This patch moves the #if 0 block to the suffix-specific part of the
	code, since we DO want the other behavior of the %mr spec,
	specifically, the forcing of '.' as a decimal separator.

2011-09-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/create.c: create.c: Don't emit RouteStylesChanged from within
	CreateNewPCB() The route style selector is hanging onto pointers of the current
	PCB's route styles. When the action "RouteStylesChanged" is called,
	these are compared against the current route style to identify which
	one the GUI should show as selected.  When this call comes from within CreateNewPCB, and the OLD PCB has
	already been free'd, this causes free'd memory to be read, resulting
	in valgrind output such as:     ==22404== Invalid read of size 8     ==22404==    at 0x4D82B3: ghid_route_style_selector_sync
	    (ghid-route-style-selector.c:594) ==22404==    by 0x4BAB28:
	    RouteStylesChanged (gtkhid-main.c:1157) ==22404==    by 0x49E0D3:
	    hid_actionv (actions.c:247) ==22404==    by 0x447B7B: CreateNewPCB
	    (create.c:194) ==22404==    by 0x4273E8: ActionNew (action.c:5902)     ==22404==  Address 0xd3c4458 is 13,880 bytes inside a block of
	    size 14,120 free'd ==22404==    at 0x4C282E0: free
	    (vg_replace_malloc.c:366) ==22404==    by 0x4273DE: ActionNew
	(action.c:5901) Strictly speaking though - since CreateNewPCB does not directly
	assign to the current PCB variable - it has no business in calling
	the "RouteStylesChanged" action anyway.  Suitable update is taken care of later on in ActionNew(), as it
	calls the "PCBChanged" action - the GTK implementation of which in
	turn updates the route selector correctly.  Closes-bug: lp-856909

2011-09-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c: action.c: Set PCB = NULL; after freeing it in
	ActionNew() When we call CreateNewPCB(), it trips over some code which wants to
	access the current PCB in order to determine whether to auto-save at
	exit. The code in question does check if PCB is NULL first, so this
	is a sufficient fix for this case.  Fixes valgrind output such as:     ==22404== Invalid read of size 8     ==22404==    at 0x470944: Parse (parse_l.l:282)     ==22404==    by 0x471913: ParseFont (parse_l.l:356)     ==22404==    by 0x447973: CreateDefaultFont (create.c:941)     ==22404==    by 0x447C58: CreateNewPCB (create.c:211)     ==22404==    by 0x4273E8: ActionNew (action.c:5902)     ==22404==  Address 0xd3c4538 is 14,104 bytes inside a block of
	    size 14,120 free'd ==22404==    at 0x4C282E0: free
	    (vg_replace_malloc.c:366) ==22404==    by 0x4273DE: ActionNew
	(action.c:5901) Which is seen when starting an new layout from within PCB.  Affects-bug: lp-856909

2011-09-19   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Fix Pan action to stop after
	button release outside window Previously, we required in-view coordinates to stop and start the
	pan-action, and when the button was released outside the viewport,
	the code was querying the user to click at a particular location.  Since the pan action doesn't even use the passed in coordinates,
	simply remove the requirement for the x-y coordinates from this
	action.  Closes-bug: lp-699307

2011-09-18   DJ Delorie * dj AT delorie dot com *

	* doc/Makefile.am: Add options.texi to dist files

2011-09-18   DJ Delorie * dj AT delorie dot com *

	* NEWS: Today is the 18th :-)

2011-09-18   DJ Delorie * dj AT delorie dot com *

	* ChangeLog, NEWS: Update Changelog and NEWS for 20110918

2011-09-18   DJ Delorie * dj AT delorie dot com *

	* po/POTFILES.in: Remove src/hid/common/hidgl_package_vrml_y.c from
	POTFILES.in Reverts 61bd0cb1e134bbea96abd6fd2d5fb94d09c0b3c8 as this file
	doesn't exist in this repository, causing a distcheck failure.

2011-09-18   DJ Delorie * dj AT delorie dot com *

	* : Update golden files for nanometers hid_png3 was off by a pixel on a line end.  I retested my UV and TT
	films to verify that the nanometers conversion didn't affect line
	*widths* and updated the golden file to accept this one-pixel
	difference.

2011-09-17   DJ Delorie * dj AT delorie dot com *

	* src/action.c: [windows] use unix-style path separators when
	calling gnetlist

2011-09-17   Felix Ruoff * Felix AT posaunenmission dot de *

	* : commit 70db91fc3dfb8b378962794fc8f86f71b52f7af8  Author:
	Kai-Martin Knaak * kmk AT lilalaser dot de * Date:   Fri Sep 16
	01:07:32 2011 +0200

2011-09-16   Kai-Martin Knaak * kmk AT lilalaser dot de *

	* doc/pcb.texi: remove panner control from documentation There is no panner control in the GUI (anymore?) since at least five
	years.  this pathc removes its description from the texi manual.

2011-09-17   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/file.c, src/main.c: Don't adjust the Library command settings
	if they are NULL, or an empty string.  (The empty string part is a fixup for commit
	 31df66e87a810aac852139da9119b15c47fa8c71 - this will teach me for bikeshedding) The NULL part should fix bug lp-852598 Closes-bug: lp-852598

2011-09-17   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/file.c, src/main.c: Bikeshed commit
	11700ba8c3c951a788c8190073eb09822060dfdd I don't like magic strings, and IMO, using a blank
	LibraryContentsCommand string to imply "don't use this feature" is
	better than "*NONE*".

2011-09-17   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-top-window.c: hid/gtk: Set the LC_NUMERIC locale
	to "C" rather than "POSIX" This value is supported on Win32 platforms, whereas "POSIX" doesn't
	appear to have any effect.  This was one possible way to fix the "zoom doesn't work" bug on
	Win32 for locales which use "," as the decimal separator.  DJ fixed the Zoom action to be locale independent in commit
	fd5399c67b988f2f7c9d1a0b4ab7c13bc2e95158, which worked around the
	problem for this particular action, but I feel it would be best that
	we made our locale handling consistent between Linux and Win32 as
	well.  Affects-bug: lp-843577

2011-09-08   Dima Kogan * dima AT secretsauce dot net *

	* src/djopt.c: fixed an instance of the "only-optimize-autorouted"
	flag being ignored  Signed-off-by: Dima Kogan * dima AT secretsauce dot net *

2011-09-16   DJ Delorie * dj AT delorie dot com *

	* src/file.c, src/main.c: Skip the M4 library on Windows On Windows, set the LibraryContentsCommand to the magic string
	"*NONE*" and check for that string while loading the libraries.
	This avoids the windows pcb.exe from trying to run bash or m4
	scripts, which are normally not available, yet allows the user a way
	to re-enable them if they want.

2011-09-16   DJ Delorie * dj AT delorie dot com *

	* src/hid/gtk/gtkhid-main.c, src/hid/lesstif/main.c: De-localize
	zoom parsing The values used for Zoom() were being parsed with strtod(), which
	switches between '.' and ',' depending on locale.  Switch to
	g_ascii_strtod() which always uses '.' and thus always matches our
	actions.  Note: I didn't change the command line parsing, because I didn't
	think we should impose '.'-centric syntax on other locales.

2011-09-16   DJ Delorie * dj AT delorie dot com *

	* lib/generic.list: Add DIL footprint names and R025.  Existing tutorials say to use "DIL 16 300" for DIPs (we use "N 16
	300") and often call for the R025 footprint, so add them as aliases
	so the m4-to-newlib converter includes them.

2011-09-16   DJ Delorie * dj AT delorie dot com *

	* lib/m4lib_to_newlib.sh: Fix m4-to-newlib converter filenames The m4 library uses macros and parameters to describe footprints,
	which allows for a *very* flexible footprint naming scheme.  While
	it is impossible for pcb to know all valid footprint values, it does
	have a list of "standard" ones, and knows how to obtain those.
	However, the m4 to newlib converter wasn't using the same footprint
	naming convention as everyone else, so produced *.fp files that
	weren't always useful.  For example, there were a large number of
	300.fp files that all collided.  With this fix, the footprint name matches the value in [...] in the
	library window, which is what we tell people to use for the
	"footprint=" attribute anyway.

2011-09-16   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/lesstif.h: Wrap all XmStrings in gettext()

2011-09-15   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* po/POTFILES.in: Add another missing source file to POTFILES.in

2011-09-15   DJ Delorie * dj AT delorie dot com *

	* src/main.c: Add locale functions Add textdomain() and setlocale() to connect to our message catalogs.

2011-09-15   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* po/POTFILES.in: Add some missing files to POTFILES.in (And sorted the file contents).   Reported-by: Bert Timmerman * bert dot timmerman AT xs4all dot nl *
	Affects-bug: lp-846368

2011-09-09   Bert Timmerman * bert dot timmerman AT xs4all dot nl *

	* po/nl.po: Updated the Dutch translation.

2011-09-15   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/report.c: report.c: Don't leave actions in the undo stack or
	change the user's flags Some actions in ReportNetLength*() would have been lumped in with
	whatever actions were next added to the undo stack. These functions
	also left the user's board with a different "FOUND" flags on various
	items.  In the case of the "Report(AllNetLenths)" action, a very long undo
	stack would be created, which is not very helpful to the user.  These changes hide the internal flag changes made during the net
	length calculation from the undo system.  We are able to get back to the inital board state because we save
	the operations caused by our initial RestConnections() on the undo
	stack.  After we have done our work (modifying various flags in the
	process), we reset the flags again (this time bypassing the Undo
	system), so the board is consistent with the ResetConnections() call
	we DID save undo data for. We then Undo() these changes before we
	leave the function.

2011-09-15   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/report.c: report.c: Return 1 for all failure conditions in
	ReportNetLengthByName()

2011-09-14   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/undo.c: undo.c: Add error message where
	RestoreUndoSerialNumber() will break things If operations are addded to the undo stack between a call to
	IncrementUndoSerialNumber() and a subsequent call for
	RestoreUndoSerialNumber(), those added operations will be placed in
	the undo stack with an inconsistent serial number.  The {Save,Restore}UndoSerialNumber() API is pretty fragile in this
	regard, and we should avoid using it where possible.  An better alternative might be to implement a
	"LockUndoSerialNumber()" call which temporarily disables
	IncrementUndoSerialNumber(), and a "UnlockUndoSerialNumber()" call
	which re-enables its increment function.  Better yet - we could make these functions nestable, so we need not
	worry whether some action uses this new feature internally when we
	are also using it.

2011-09-14   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/undo.c: undo.c: Handle undo failures in a more sane manner Our current error-case handling can cause serial number
	inconsistency when something goes wrong when performing an Undo
	operation. There are also various logic flaws in our handling, as it
	only catches failures where every sub-undo operation with that
	serial number fails.  Remove the confusing do-loop which decrements the serial number in
	the failure case, and return some sensible error message instead.  This patch also removes the code which looked like it was intended
	to loop over the undo stack until a serial number was found to
	operate on.  It is advantageous for code like the DRC to be able to
	add increment the undo serial number, then safely perform an Undo -
	even if there were no changes logged in the undo system during the
	previous serial number.  Closes-bug: lp-848509

2011-09-14   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/undo.c: undo.c: Allow undo of locked objects Our internal actions can make changes to locked objects, then use
	the undo mechanism to revert these changes. An example is DRC, which
	changes flags on objects and uses the Undo system to restore their
	original values.  Affects-bug: lp-848509

2011-09-14   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/find.c: find.c: Remove stray RestoreUndoSerialNumber() calls These will cause havoc with the undo system, as we don't actually
	save a serial number to restore to.  Until a commit efd212c1deb264e9a7f2be17e9338fbb60e22cc0 we were
	saving a serial number at the start of each "ResetConnections
	(true);" call, and it would have been that serial number which got
	restored.  With this and some other fixes to the undo system, these restores
	are no longer required.  Affects-bug: lp-848509

2011-09-14   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: gtk: Fix ghid_zoom_view_fit() to work
	when the board is flipped.  Affects-bug: lp-850311

2011-09-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/common/hidgl.c, src/hid/gtk/gtkhid-gl.c: Fixup OpenGL
	includes for better compatibility with OSX Not tested ;)

2011-09-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* autogen.sh, configure.ac, m4/ax_check_gl.m4, m4/ax_check_glu.m4,
	m4/ax_lang_compiler_ms.m4, m4/ax_pthread.m4: Better autoconf tests
	for GL and GLU (from GtkGLExt - GPL v2 or later) These tests should give better cross platform support for our build.

2011-09-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* .gitignore, m4/.gitignore: Remove the m4 directory from the root
	.gitignore file and add its own

2011-09-13   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/styles.c: [lesstif] set units for styles dialog in
	more places The styles dialog was segfaulting as the units hadn't been set yet,
	if you open the style dialog before doing anything with the grid.

2011-09-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gl.c: hid/gtk: Remove misplaced (and redundant)
	hidgl_flush_triangles() call.  If we were to flush the triangle buffer in ghid_show_crosshair(), we
	should do it before we set XOR mode on the GL context (assuming the
	buffer might be dirty when we are called), and we should do it after
	we finish drawing (if we wish to leave the buffer clean when we
	return).  The location the flush was in before this commit is just plain
	wrong.  As we currently have flushes of the triangle buffer wrapping the
	call to ghid_show_crosshair(), just leave the flushing out of this
	function.  Does this commit message provide an adequate example of simple
	patch, complex commit message phenomenon?

2011-09-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-gl.c,
	src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-config.c,
	src/hid/gtk/gui-output-events.c, src/hid/gtk/gui.h: hid/gtk: Remove
	auto-pan feature (kill it with fire).  This seems to be fairly universally unpopular on geda-user, and its
	implementation is a little fragile, often leading the board to pan
	off to some corner of the board as the poor user reaches for the
	layer selector or a menu without having remembered to click the
	feature off.  The fact that the pan direction and speed was set the instant you
	leave the drawing window also made it particularly unhelpful. A
	proper implementation should have grabbed the mouse - or at least
	implemented some buffer zone in which the mouse could be used to
	give feedback on the pan direction.

2011-09-11   DJ Delorie * dj AT delorie dot com *

	* src/hid/gtk/gtkhid-main.c: [windows] set GDK_PIXBUF_MODULE_FILE If we're using a local gdk-pixbuf installation, we need to set this
	env variable to point to it.

2011-09-11   Bdale Garbee * bdale AT gag dot com *

	* doc/Makefile.am: Invoke eps2png in $(srcdir), no .

2011-09-12   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/common/hidgl.c: hid/common: Remove #include "draw.h" from
	hidgl.c (twice!)

2011-09-11   Dima Kogan * dima AT secretsauce dot net *

	* src/hid/gtk/ghid-route-style-selector.c,
	src/hid/gtk/ghid-route-style-selector.h, src/hid/gtk/gtkhid-main.c: 
	Re-ordered all references in the style selector dialog to have one
	consistent ordering.  Everything that refers to the settings in the style selector dialog
	now does so in order of Line thickness Hole size Hole thickness (hole + annular ring)
	keepaway region size This wasn't 100% consistent previously, which resulted in a bug
	(fixed in a previous patch). This patch doesn't touch the
	functionality, but improves the style to avoid future bugs.  Modified to apply on recent route style selector changes by Bert
	Timmerman.   Signed-off-by: Andrew Poelstra (local) * apoelstra AT wpsoftware
	dot net * Affects-bug: lp-844635

2011-09-11   Dima Kogan * dima AT secretsauce dot net *

	* src/hid/gtk/ghid-route-style-selector.c: Swap via-hole and -ring
	size connection in route style selector dialog Closes-bug: lp-844635  Signed-off-by: Andrew Poelstra (local) * apoelstra AT wpsoftware
	dot net *

2011-09-10   Andrew Poelstra (local) * apoelstra AT wpsoftware dot net *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-top-window.c,
	src/hid/gtk/gui.h: Repopulate route style selector on PCBChanged
	action When loading a new pcb, Bad Things happen to the route style
	selector because pcb's route style data is freed. This patch removes
	all styles from the route style selector and re-adds them whenever a
	new pcb is loaded.

2011-09-10   Andrew Poelstra (local) * apoelstra AT wpsoftware dot net *

	* src/hid/gtk/ghid-route-style-selector.c,
	src/hid/gtk/ghid-route-style-selector.h: Add
	ghid_route_style_selector_empty to GHidRouteStyleSelector

2011-09-10   Andrew Poelstra (local) * apoelstra AT wpsoftware dot net *

	* src/hid/gtk/ghid-route-style-selector.c: Add finalize function to
	GHidRouteStyleSelector

2011-09-09   Bert Timmerman * bert dot timmerman AT xs4all dot nl *

	* po/POTFILES.in: Remove the src/hid/gtk/gui-dialog-size.c entry
	from the translatable files list.  This is a completion of commit:
	a914d5ba58104d8559395b66798b35761afb991a "Replace old route style
	selector with GHidRouteStyleSelector" dated 20110903 11:09 PM

2011-09-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/ghid-layer-selector.c: hid/gtk: Filter out double
	clicks on the layer selector widget This makes things behave a little nicer if you click to toggle a
	layer's visibility twice in quick succession. Previously, this would
	be interpreted as a double-click, causing an extra synthetic click
	event which would toggle the visibility an extra time.

2011-09-07   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-top-window.c: hid/gtk: Update file-changed
	notification bar to match gedit a bit more   1. Add a stock "refresh" image to the "Reload" button.    2. Change the message text when the board has modifications.    3. Reload without further prompting if the user presses "Reload",      even if the board is modified. (We already warned them due to
	     2.)

2011-09-07   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-top-window.c,
	src/hid/gtk/gui.h: hid/gtk: Reimplement file-change monitor without
	GFileMonitor I must have had a brain-fail when I hooked up setting up the
	file-changed monitor in the function which sets the window title.
	NB: That also gets called after every menu operation! A better place to hook up the monitor would be
	ghid_sync_with_new_layout(), however changing this alone revealed
	another issue - we would get notified for changes WE make to the
	files. We were avoiding those events as the file-monitor was being
	reset before it could pop up, at the end of the menu action which
	invoked the save).  However - due to a race condition bug in GLib / GIO, we would
	sometimes see change notify events for changes we made, even when we
	hooked up the GFileMonitor AFTER having saved (and synced) our
	changes to disk.  Rather than attempt to work around this bug, implement the
	file-change notification in a much more simple way - look at the
	file mtime when we update the layout, and at each time the mouse
	pointer enters the main window. FWIW, this is how gedit currently
	achieves the same feature.

2011-09-06   DJ Delorie * dj AT delorie dot com *

	* src/action.c: Warn user if footprints can't be found on import Since the message log doesn't make it obvious, add a pop-up dialog
	whenever there are missing footprints during an import.  Affects-bug: lp-828388

2011-09-06   DJ Delorie * dj AT delorie dot com *

	* src/search.c: Fix math error in IsPointOnLine() The math in C didn't match the math in the comment (and, apparently,
	hasn't for quite some time).  To test: Draw three lines, from 1000,3000 to 1500,2500, then to
	2000,3000, then back to the start at 1000,3000.  Without this patch,
	the first and last lines are removed and replaced with a copy of the
	second line.

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/file.c, src/file.h, src/hid/common/actions.c: 
	Implement a new RevertPCB() call, sharing code with LoadPCB() The RevertPCB() takes no filename parameter, and aside from that,
	the only difference to LoadPCB is that when it calls the GUI's
	"PCBChanged" action, it passes a new "revert" argument. This should
	let the GUIs optionally do less work resetting the view state for a
	board being reverted.

2011-09-06   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/command.c, src/hid.h: Add a HID API call,
	notify_pcb_filename_change() This is so the core can tell the GUI when the PCB being edited is
	saved into a different file.

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/file.c, src/hid.h: Add a HID API call, notify_save_pcb()
	called around saving the PCB The intention of this API is so that GUIs monitoring the active PCB
	file on disk for changes, can filter out changes which occur as we
	save the file ourselves.

2011-09-06   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/command.c, src/file.c: file.c: Don't set the PCB
	filename or changed flags inside SavePCB (Filename) Save this for the caller to do. (action.c already set the filename
	for the SaveAs case anyway).

2011-09-06   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: Revert "hid/gtk: Avoid the deprecated
	gdk_drawable_get_display()" This reverts commit c6d6ca16e58b5c7f2248c21e3248825f54e52374.  Turns out the replacement API I used was only introduced in GTK
	2.24, which is still a little new for us here.

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-top-window.c, src/hid/gtk/gui-utils.c: hid/gtk:
	Remove usage of deprecated gtk_range_set_update_policy() We only set this to the default value anyway, and the API has been
	removed with no replacements.

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-top-window.c, src/hid/gtk/gui-utils.c: hid/gtk:
	Replace gtk_container_border_width with
	gtk_container_set_border_width Replaces the old deprecated API.

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-utils.c: hid/gtk: Use g_signal_connect(), not
	gtk_signal_connect() gtk_signal_connect() is deprecated.

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-dialog-print.c: hid/gtk: Re-write the tool-tip
	handling code to use newer tooltip API Use the gtk_widget_set_tooltip* API introduced in GTK 2.12. This
	avoids the APIs deprecated in GTK 2.12, and also avoids the
	requirement to pack GTK_WIDGET_NO_WINDOW widgets inside
	gtk_event_box() widgets to make their tooltips work.

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-drc-window.c, src/hid/gtk/gui-library-window.c,
	src/hid/gtk/gui-log-window.c, src/hid/gtk/gui-netlist-window.c,
	src/hid/gtk/gui-pinout-window.c, src/hid/gtk/gui-top-window.c: 
	hid/gtk: Replace usage of the deprecated gtk_widget_set_uposition()
	call The closest replacement is gtk_window_move(), and looking at the GTK
	sources, appears to be what gtk_widget_set_uposition() calls
	internally.  We are still rather at the mercy of the user's window manager as to
	whether it will honour the request we make, and arguably we ought to
	remove this (mis-)feature anyway.

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-dialog.c: hid/gtk: Replace deprecated function
	call gtk_box_pack_start_defaults()

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Avoid the deprecated
	gdk_drawable_get_display() Grab the active display using gdk_window_get_display() on the window
	belonging to the drawing area.

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Use the g_timeout_add()
	function, not the deprecated GTK one.

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/ghid-main-menu.c: hid/gtk: Fix not accessing
	GtkMenuShell's children harder I missed a critical part of the fix from commit
	3584101f67f6ca2f0a252c312cb0c6c9c4fa016f

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-pinout-preview.c: hid/gtk: Replace
	GTK_WIDGET_REALIZED() test with a check for window != NULL This avoids the use of the deprecated GTK_WIDGET_REALIZED macro,
	without needing to use the GTK2.20 function
	gtk_widget_get_realized(). The check for a NULL window should be
	sufficient here I hope.

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-command-window.c: hid/gtk: Use gtk_bin_get_child()
	accessor In GTK3.0, direct access to bin->child will be impossible.

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-config.c: hid/gtk: Use gtk_notebook_get_n_pages()
	rather than diving in and counting In GTK3.0, direct access to notebook->children will be impossible.

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/ghid-main-menu.c: hid/gtk: Don't access a
	GtkMenuShell's children directly In GTK3.0, direct access to shell->children will be impossible.

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/ghid-main-menu.c: hid/gtk: Free list returned from
	gtk_container_get_children() We can (and should) g_list_free() the list of children returned when
	we are finished with it.  Whilst we are at it, convert the while loop to a for loop and use a
	tighter condition on the loop termination test. The existing test
	worked, but would leave a negative number in the object counter we
	test against.  This would not work if the object counters were ever
	unsigned integers (as they might plausibly be).

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/ghid-route-style-selector.c,
	src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-dialog-print.c,
	src/hid/gtk/gui-dialog.c, src/hid/gtk/gui-library-window.c,
	src/hid/gtk/gui-utils.c: hid/gtk: Use accessors to get the vbox from
	GtkDialog In GTK3.0, direct access to dialog->vbox will be impossible.

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-output-events.c: hid/gtk: Use accessor functions
	for handling GtkAdjustments In GTK3.0, direct access to these member variables will be
	impossible.

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-config.c, src/hid/gtk/gui-top-window.c: hid/gtk:
	Don't use GTK_WIDGET_SET_FLAGS() Call the appropriate setter function instead. (For GTK3.0
	compatibility).

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-library-window.c: hid/gtk: Don't test for NOOP
	before calling gtk_widget_set_sensitive() We were using a deprecated test macro anyway, GTK already does a
	NOOP test inside gtk_widget_set_sensitive().

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-utils.c, src/hid/gtk/gui.h: hid/gtk: Remove unused
	function ghid_button_set_text()

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-utils.c, src/hid/gtk/gui.h: hid/gtk: Remove unused
	function ghid_button_active()

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gui-drc-window.c: hid/gtk:
	Use gtk_widget_get_style() accessor, rather than direct access In GTK3.0, direct access to widget->style will be impossible.  Swap out the GTK_WIDGET_STATE() macro for gtk_widget_get_state(),
	which does not directly access the GSeal'd member widget->state.

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-main.c,
	src/hid/gtk/gui-misc.c, src/hid/gtk/gui-output-events.c,
	src/hid/gtk/gui-pinout-preview.c, src/hid/gtk/gui-top-window.c,
	src/hid/gtk/gui-utils.c: hid/gtk: Use gtk_widget_get_window()
	accessor In GTK3.0, direct access to widget->window will be impossible.

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gl.c, src/hid/gtk/gui-drc-window.c,
	src/hid/gtk/gui-keyref-window.c, src/hid/gtk/gui-library-window.c,
	src/hid/gtk/gui-log-window.c, src/hid/gtk/gui-netlist-window.c,
	src/hid/gtk/gui-top-window.c: hid/gtk: Use
	gtk_widget_get_allocation() accessor In GTK3.0, direct access to widget->allocation will be impossible.

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-gl.c: hid/gtk: Use
	gtk_widget_get_allocation() not gdk_window_get_geometry() This avoids an unnecessary round-trip the the X server on X11
	platforms.

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c: hid/gtk: Avoid warning caused by early
	drawing before gport->pixmap is set Avoids a command line warning: (pcb:28876): Gdk-CRITICAL **: IA__gdk_draw_drawable: assertion
	`GDK_IS_DRAWABLE (src)' failed With the GDK renderer in use.  This trigger appears to be some state changes triggered as the new
	layer selector widget initialises.

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-misc.c: hid/gtk: Clean and make
	gport_set_cursor_type() more GTK3.0 compatible Also removes the DEFAULT_CURSOR return value (for the case of no
	window being setup) to GDK_X_CURSOR (the 0 enum value), as the code
	path which returned DEFAULT_CURSOR would never have been hit.

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/ghid-cell-renderer-visibility.c: hid/gtk: Use
	gtk_cell_renderer_get_{align,pad} accessors In GTK3.0, direct access to these fields will be impossible.

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-top-window.c: hid/gtk: Avoid double-destroying the
	file-changed info_bar on "Reload" This was caused by an addition I made in the earlier patch to
	destroy the info_bar when the user manually reverts or loads a new
	file).  The callback on revert button was trying to delete it (again) after
	the revert _action_ we call triggered a destroy of the widget. Avoid
	this by destroying the info_bar before we call the revert action.

2011-09-05   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/ghid-layer-selector.c: gtk: use
	gtk_action_block_activate() in layer selector The GHidLayerSelector widget now uses gtk_action_block_activate()
	instead of storing/blocking signal IDs. This is the proper way to
	suppress signal emission since 2.16.  This also fixes the lockup bug that was supposed to be fixed by the
	recent commit 8857757, but still occured when using the menus to
	toggle layers.

2011-09-05   DJ Delorie * dj AT delorie dot com *

	* src/const.h, src/draw.c, src/misc.c, src/print.c, src/report.c: 
	Fix text scaling exceeding Coord max.  The old way of scaling text was to multiply by scale/100 but this
	could easily overflow on reasonably sized boards with a 32-bit Coord
	type.  The new code scales by (double)scale/100.0 instead.  Since we
	don't store scaled values in the PCB file, a loss of precision won't
	matter, but a double has 53 bits of precision - in nanometers,
	that's a board about the size of North America.  Closes-bug: lp-832451

2011-09-05   DJ Delorie * dj AT delorie dot com *

	* configure.ac, globalconst.h, src/global.h: Add configure selection
	of 32/64 Coord type   --enable-coord64        Force 64-bit coordinate types   --enable-coord32        Force 32-bit coordinate types Defaults to "long" as before, but if you give one of the above, the
	type changes to a suitable 32-bit or 64-bit type.  Note that this is
	only guaranteed to be the size you choose if you have <stdint.h>
	which most OSs provide, else the "int" and "long long" types are
	used instead.

2011-09-05   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/ghid-layer-selector.c: gtk: Fix "clicking on layer
	selector separator bug" If you click on the selector between real and virtual layers in the
	pcb layer selector, it will toggle the first layer. This patch
	simply ignores the click.

2011-09-05   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/ghid-layer-selector.c, src/hid/gtk/gui-top-window.c: 
	gtk: fix behavior when hiding the last visible layer When you try to toggle the last layer invisible, pcb should refuse
	to let you do so, since something has to be selected, and we don't
	allow selection of invisible layers.  What actually happens is that pcb locks up. This patch fixes that.

2011-09-05   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gui-top-window.c: gtk: Force silk and rat layers
	visible when they are selected.

2011-09-05   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/ghid-route-style-selector.c,
	src/hid/gtk/ghid-route-style-selector.h, src/hid/gtk/gtkhid-main.c: 
	Implement RouteStylesChanged action This action looks at the actual route-style settings (i.e.,
	Settings.LineThickness), and gives these to the route style
	selector. The selector looks in its list and selects a style, if one
	matches. Otherwise, it does nothing.

2011-09-04   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/ghid-route-style-selector.c,
	src/hid/gtk/ghid-route-style-selector.h,
	src/hid/gtk/gui-command-window.c, src/hid/gtk/gui-top-window.c,
	src/hid/gtk/gui.h: Add Ctrl+F1,F2,F3,... accelerators to route style
	selector Since we now have three accelerator groups to worry about (those of
	the layer selector, route style selector and main menu), I have
	moved the hooking/unhooking code into two functions:   ghid_install_accel_groups ()   ghid_remove_accel_groups () These should be used whenever accelerators need to be disabled, for
	example, when the user has the command box active.

2011-09-03   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gui-top-window.c, src/hid/gtk/gui.h: Remove the last
	of ghidgui->toggle_holdoff

2011-09-03   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/Makefile.am, src/hid/gtk/gtkhid-main.c,
	src/hid/gtk/gui-dialog-size.c, src/hid/gtk/gui-top-window.c,
	src/hid/gtk/gui.h: Replace old route style selector with
	GHidRouteStyleSelector TODO: The RouteStylesChanged action is now very broken.        Menu accelerators need to be installed

2011-09-03   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/ghid-main-menu.c, src/hid/gtk/ghid-main-menu.h: 
	Introduce functions for GHidRouteStyleSelector handling to menu

2011-09-03   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/Makefile.am, src/hid/gtk/ghid-route-style-selector.c,
	src/hid/gtk/ghid-route-style-selector.h: Introduce
	GHidRouteStyleSelector widget, don't use it yet

2011-09-04   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-top-window.c, src/hid/gtk/gui.h: hid/gtk: Add file
	change notification for the currently open PCB If the file is modified on disk, a bar appears at the top of the PCB
	area offering the user a choice as to whether they wish to reload
	the board or cancel (do nothing).  If the user has changes, and hits reload - they are prompted as to
	whether they wish to throw away their changes.  Requires GTK 2.18 or higher due to use of the GtkInfoBar widget.

2011-09-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* configure.ac: Require GTK 2.18 or later for the GTK HID.  This is for some new widgets, like the GtkInfoBar.

2011-09-04   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-top-window.c, src/hid/gtk/gui.h: hid/gtk: Fix
	styling of menubar area so it is consistent across its width This relies on some nasty tricks copying GtkStyle's between the
	menubar widget and a new GtkEventBox widget we pack the top bar in
	to give us a background to paint on. We also adjust the styles of
	the coordinate read- out labels and frames to ensure they are
	legible.  There may still be some inconsistencies, as the coordinate selector
	button is themed as if it were a toolbar button, hence the
	colourings used may be designed to work with a different background
	colour than we have.

2011-09-04   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-top-window.c, src/hid/gtk/gui.h: hid/gtk: Create a
	GtkToolbar of mode buttons for compact vertical mode Rather than packing our mode buttons into an hbox, use a proper
	GtkToolbar so theming will match the rest of the user's desktop.  This simplifies code to switch compact mode on and off, as we have
	two distinct widgets to show / hide, rather than having to reparent
	the mode buttons each time.  It does, however mean we have to be careful not to double-trigger
	events when keeping the two sets of mode buttons in sync with each
	other, so that isn't ideal.  In the longer term, we probably ought to split out the mode button
	area on the left-hand toolbar as a separate self-contained widget.

2011-09-03   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/ghid-cell-renderer-visibility.c: gtk: Prelight toggle
	swatches in layer selector This brightens the layer visibility swatches subtly when the mouse
	hovers over them. IMHO this improves the discoverability of the
	widget without being distracting or misleading.

2011-09-03   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/ghid-layer-selector.c: gtk: Don't gray out invisible
	layers' text in the selector

2011-09-03   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/ghid-layer-selector.c: gtk: toggle non-activatable
	layers on click, without checking for swatch

2011-09-03   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-config.c, src/hid/gtk/gui-top-window.c,
	src/hid/gtk/gui.h: hid/gtk: Remove compact_vbox and compact_hbox

2011-09-03   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-config.c, src/hid/gtk/gui-top-window.c,
	src/hid/gtk/gui.h: hid/gtk: Always show the PCB name on the
	title-bar, not the toolbar This saves space and reduces code complexity

2011-09-03   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-top-window.c, src/hid/gtk/gui.h: hid/gtk: Don't
	use a GtkEventBox as a container widget We weren't making use of the events from the event box, and appeared
	just to be using it as a convenient container to allow setting the
	sensitivity on our entire left hand toolbar at once.  Scrap the event box widget and just store a pointer to the vbox
	widget which the left toobar items are packed into. We can set the
	sensitivity on this and get the desired effect.

2011-09-03   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-pinout-window.c, src/hid/gtk/gui-top-window.c: 
	hid/gtk: Don't pack the drawing area in a GtkViewport widget (For both the main window and the pinout preview). The GtkViewport
	widget is designed to add scroll bars to a widget which doesn't have
	native scroll capabilities. We are handling out own scroll-bars, so
	the only gain we had from the GtkViewport we added was a shadow
	around the widget.  If we decide we want the shadow back, a more appropriate widget to
	pack the drawing area with might be a GtkFrame.

2011-09-03   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-top-window.c: hid/gtk: Remove the vbox used to
	pack ghidgui->compact_hbox The main effect here is that the contents of the compact_hbox will
	get more vertical space assigned to them if the menu bar section is
	taller than the natural size of those widgets.  The visual change seems acceptable, and we could use every bit of
	code-cleanup in ghid_build_pcb_top_window()

2011-09-03   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-top-window.c: hid/gtk: Remove some more temporary
	variable assignments These make the code harder to follow, as the same temporary variable
	is used again and again to refer to different widgets.

2011-09-03   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-top-window.c, src/hid/gtk/gui.h: hid/gtk: Don't
	use an hbox to pack the board name label The hbox only has one child, so use the name label directly.

2011-09-03   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-top-window.c: hid/gtk: Skip the generic "hbox"
	variable when storing the widget anyway For widgets we keep references to in the ghidgui structure, we avoid
	confusion by assigning directly to the more descriptive ghidgui
	variable.

2011-09-03   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-top-window.c: hid/gtk: Don't pack a frame around
	the menu bar

2011-09-02   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gui-dialog-size.c, src/misc.c, src/misc.h: Move
	make_route_string() from gtk into misc.c

2011-09-02   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/mymem.c, src/mymem.h: Const-correct StripWhiteSpaceAndDup in
	mymem.c

2011-09-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Attempt to fix logic to flip
	component / solder group visibility on flip Should get back to better behaviour. I probably broke this somewhat
	with commit f903b4be6b85efc110852f7be40edf8245f0a513, which
	attempted to re-state the previous logic in a clearer fashon.  The logic now should: If flipping sides, and only ONE of the solder / component layers
	(groups) is visible, and that layer (group) is _active_, then swap
	the visibilities of the component / solder layers (groups), and make
	the newly visible layer (group) active.  There are still bugs in this code relating to the assumption that
	the first entry in the layer group is the one which is being
	toggled. This breaks if the first entry in the group is that
	corresponding to the silk for that side of the board.

2011-08-31   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/ghid-layer-selector.c: gtk: fix typo preventing layer
	selector menu items from working

2011-08-31   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gui-top-window.c: gtk: remove in_toggle_view
	recursion-prevention flag We don't call ToggleView programmatically anywhere, so it is
	impossible for there to be recursion.

2011-08-31   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/ghid-main-menu.c: Block signals in
	ghid_main_menu_update_toggle_state() The function ghid_main_menu_update_toggle_state() is supposed to
	sync the menu checkboxes to the actual state of pcb, by checking the
	flags given in the resource file.  If this function is emitting signals and changing pcb's state, this
	is a bug. Fortunately, this appears not to be the case, so the
	effect of this commit is to eliminate one more use of
	ghidgui->toggle_holdoff.

2011-08-31   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gui-top-window.c: gtk: sync visiibility of layer
	selector with core state in LayersChanged

2011-08-31   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/ghid-layer-selector.c,
	src/hid/gtk/ghid-layer-selector.h: Use signal blocking for
	visibility toggling in GHidLayerSelector

2011-08-31   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gui-config.c: Add call to
	ghid_layer_buttons_color_update() when loading new colors

2011-08-30   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/change.c: Change change.c to treat text scale as mils

2011-08-30   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/ghid-layer-selector.c: Configure layer selector to
	only accept left-clicks Suggested by Kai-Martin Knaak, seconded by me.

2011-08-30   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gui-top-window.c: Fix invalid free of ~/.pcb/filename
	path in gui-top-window.c

2011-08-29   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/ghid-layer-selector.c,
	src/hid/gtk/ghid-layer-selector.h: minor: fix comment and forward
	declaration in ghid-layer-selector

2011-08-29   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/ghid-layer-selector.c: Remove default layer selection
	from ghid-layer-selector.c Having the layer selector select its own first layer is not needed -
	pcb does this for us, after making the widget. It's not the sort of
	decision a widget should be making on its own, anyway.

2011-08-29   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/ghid-layer-selector.c: Use g_signal_handler_block
	instead of flags in ghid-layer-selector.c Thanks to Peter C. for this code-cleanliness tip. Now the two
	layer-selection interfaces (menu button and selector widget) set
	each other's GUI state but do not raise any signals past the
	original.

2011-08-29   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/ghid-layer-selector.c: Add missing free_ldata() in
	ghid-layer-selector.c

2011-08-29   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gui-command-window.c: Disable layer selector's
	GtkAccelGroup while in command mode

2011-08-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Add const qualifiers to some BoxType
	*drawn_area parameters

2011-08-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/misc.c, src/misc.h: misc.c: Add const qualifier to BoxType *
	parameter passed to CountHoles

2011-08-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Fold DrawLayerCommon() into DrawLayer() Since the last commit, DrawLayer() just calls DrawLayerCommon with
	the "clear_pins" argument set to true. The only other
	DrawLayerCommon caller passes clear_pins as true, so having
	functions is redundant.

2011-08-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: DrawLayer(): Pass true to clear_pins of
	DrawLayerCommon This should not affect any rendering. If the check planes flag is
	set, we should only draw polygons, nothing more. Only a handful of
	cases draw layers via this code-path, and in all but the exporter
	cases, they are not called if CHECKPLANES is set.  The exporters which call DrawLayer explicitly clear the CHECKPLANES
	flag (since commit 3c01bd38cb59922692408b71cd5d77892dbe6ade), so
	nothing should be affected by this argument change.

2011-08-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gerber/gerber.c, src/hid/ps/eps.c, src/hid/ps/ps.c: 
	hid/{ps,eps,gerber}: Clear CHECKPLANESFLAG before exporting Ensure we are in a sensible view state before exporting. This update
	those HIDs which cleared other similar renedering flags before
	exporting to include the CHECKPLANES flag.

2011-08-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Have DrawLayerGroup() call DrawPPV for non-gui
	exporters This means DrawLayerGroup() can have a void return type as most of
	the other drawing functions, and makes things a little neater.  Only the GUI renderers special case the pin / pad / via to wait
	until a later rendering oass than the layers they reside on.

2011-08-29   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Remove unused "button"
	parameter from Popup function.  Remove the dead code and comments refering to the fact the
	function's second argument indicates a mouse button number.

2011-08-29   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/ghid-layer-selector.c,
	src/hid/gtk/ghid-layer-selector.h, src/hid/gtk/ghid-main-menu.c,
	src/hid/gtk/ghid-main-menu.h, src/hid/gtk/gui-top-window.c: Link
	GHidLayerSelector and GHidMainMenu Layer visibility-toggle and selection menu items now appear in the
	main menu. Accelerators work correctly and are reassigned on
	deletion/addition of layers to simulate the old behavior.

2011-08-29   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/ghid-layer-selector.c: Clean up layer data handling in
	ghid-layer-selector.c

2011-08-29   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/ghid-layer-selector.c: Give GHidLayerSelector an
	internal layer structure Before we had various arrays to resize and index; now each row has a
	structure associated with it, that is easier to access and maintain.

2011-08-28   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-command-window.c,
	src/hid/gtk/gui-output-events.c, src/hid/gtk/gui-top-window.c,
	src/hid/gtk/gui.h: Replace gtk UI manager with GHidMainMenu widget This commit replaces the old UI manager with a customize gtk widget
	that builds menus directly from a resource tree. This eliminates the
	translate-to-XML step, the ugly hacks used to access individual
	actions, and all the associated manual memory management.  This will also give us the ability to have more dynamic menus, in
	particular layer lists without maximum capacities.  Layers and route styles are still not hooked into the menu.  This
	means that those accelerators DO NOT WORK. (This will be fixed in a
	later commit.) Checkboxes have been replaced with radio buttons
	where appropriate. There are now tearoffs on the context-menu's
	submenus.  Other than that, there should be no user-visible changes. ;)

2011-08-28   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/Makefile.am, src/hid/gtk/ghid-main-menu.c,
	src/hid/gtk/ghid-main-menu.h: Created ghid-main-menu.[ch] Still need to hook up layer selector and route styles.

2011-08-29   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gui-top-window.c: Fix select-hidden-layer behavior When you select a hidden layer, it should toggle the visibility so
	that the currently-selected layer is always visible. We were
	toggling twice.

2011-08-29   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/ghid-layer-selector.c, src/hid/gtk/gui-top-window.c: 
	Prevent recursion in layer selector events

2011-08-29   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/Makefile.am, src/hid/gtk/ghid-coord-entry.c,
	src/hid/gtk/ghid-coord-entry.h, src/hid/gtk/gtk-pcb-coord-entry.c,
	src/hid/gtk/gtk-pcb-coord-entry.h, src/hid/gtk/gui-config.c,
	src/hid/gtk/gui-dialog-print.c, src/hid/gtk/gui-dialog-size.c,
	src/hid/gtk/gui-utils.c, src/hid/gtk/gui.h: Rename GtkPcbCoordEntry
	to GHidCoordEntry

2011-08-29   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/Makefile.am, src/hid/gtk/ghid-layer-selector.c,
	src/hid/gtk/ghid-layer-selector.h,
	src/hid/gtk/gtk-pcb-layer-selector.c,
	src/hid/gtk/gtk-pcb-layer-selector.h, src/hid/gtk/gui-top-window.c: 
	Rename GtkPcbLayerSelector to GHidLayerSelector

2011-08-29   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/Makefile.am, src/hid/gtk/ghid-cell-renderer-visibility.c,
	src/hid/gtk/ghid-cell-renderer-visibility.h,
	src/hid/gtk/gtk-pcb-cell-renderer-visibility.c,
	src/hid/gtk/gtk-pcb-cell-renderer-visibility.h,
	src/hid/gtk/gtk-pcb-layer-selector.c: Rename
	GtkPcbCellRendererVisibility to GHidCellRendererVisibility

2011-08-28   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/gpcb-menu.res.in: Add mnemonics to menus in default
	gpcb-menu.res.in You can now access the main menu without a mouse, by doing Alt+F,
	for example, to select the File menu.

2011-08-27   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/common/hid_resource.c, src/hid/common/hid_resource.h,
	src/hid/gtk/gui-top-window.c, src/res_parse.y, src/resource.h: gtk:
	Const-correct add_resource_to_menu and related functions Five files have had const keywords added:    ../common/hid_resource.c    ../common/hid_resource.h    gui-top-window.c    ../../res_parse.y    ../../resource.h No casts were added. No compilation warnings were added.

2011-08-27   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gtk-pcb-layer-selector.c: Delete GtkAction along with
	layer in gtk-pcb-layer-selector.c

2011-08-29   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/ps/eps.c: hid/ps/eps.c: Remove assigned by unused
	lastgroup variable

2010-10-21   Markus Hitter * mah AT jump-ing dot de *

	* src/hid/gcode/gcode.c: HID-gcode: make use of MAXPATHLEN.  Affects-bug: lp-699497

2011-08-28   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/hid/bom/bom.c, src/hid/gerber/gerber.c, src/main.c: Add
	attributes to docu for commandline options

2011-08-28   Felix Ruoff * Felix AT posaunenmission dot de *

	* doc/pcb.texi: Docu: Fix some references to command-line options and remove the documentation for a non-working X11-Interface option.

2011-08-28   Dima Kogan * dkogan AT cds dot caltech dot edu *

	* src/find.c: Better handling of unplated vias The attached patch adds checks in the geometry intersection
	functions to no longer treat unplated vias (mounting holes) as
	conducting. The implementation in the patch will act as if the
	unplated via doesn't intersect with metal objects at all, which is
	possibly not what is desired. Should the conductivity check happen
	on a higher level from the geometry intersection routines? A case
	that would require this is not obvious to me.  Closes-bug: lp-699499

2011-08-14   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/hid/gcode/gcode.c, src/hid/gerber/gerber.c,
	src/hid/lpr/lpr.c, src/hid/nelma/nelma.c, src/hid/png/png.c,
	src/hid/ps/ps.c: Unify HID description (no fullstop at end of
	description) Most parts of this patch-serie was written by Kai-Martin Knaak.
	Adaption to actual git HEAD and some modifications by Felix Ruoff.

2011-08-14   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/hid/ps/ps.c: Add docu for ps HID commandline options Most parts of this patch-serie was written by Kai-Martin Knaak.
	Adaption to actual git HEAD and some modifications by Felix Ruoff.

2011-08-14   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/hid/ps/eps.c: Add docu for eps HID commandline options Most parts of this patch-serie was written by Kai-Martin Knaak.
	Adaption to actual git HEAD and some modifications by Felix Ruoff.

2011-08-14   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/hid/png/png.c: Add docu for png HID commandline options Most parts of this patch-serie was written by Kai-Martin Knaak.
	Adaption to actual git HEAD and some modifications by Felix Ruoff.

2011-08-14   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/hid/nelma/nelma.c: Add docu for nemla HID commandline options Most parts of this patch-serie was written by Kai-Martin Knaak.
	Adaption to actual git HEAD and some modifications by Felix Ruoff.

2011-08-14   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/hid/lpr/lpr.c: Add docu for lpt HID commandline options Most parts of this patch-serie was written by Kai-Martin Knaak.
	Adaption to actual git HEAD and some modifications by Felix Ruoff.

2011-08-14   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/hid/gerber/gerber.c: Add docu for Gerber HID commandline
	options Most parts of this patch-serie was written by Kai-Martin Knaak.
	Adaption to actual git HEAD and some modifications by Felix Ruoff.

2011-08-14   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/hid/bom/bom.c: Add docu for the BOM HID commandline options Most parts of this patch-serie was written by Kai-Martin Knaak.
	Adaption to actual git HEAD and some modifications by Felix Ruoff.

2011-08-14   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/hid/gtk/gui-top-window.c, src/hid/lesstif/main.c: Add docu for
	commandline-options for GTK+ and lesstif GUI Most parts of this patch-serie was written by Kai-Martin Knaak.
	Adaption to actual git HEAD and some modifications by Felix Ruoff.

2011-08-18   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/main.c: Add docu for DRC commandline options Most parts of this patch-serie was written by Kai-Martin Knaak.
	Adaption to actual git HEAD and some modifications by Felix Ruoff.

2011-08-18   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/main.c: Add docu for general gui commandline options Most parts of this patch-serie was written by Kai-Martin Knaak.
	Adaption to actual git HEAD and some modifications by Felix Ruoff.

2011-08-18   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/main.c: Add docu for path commandline options Most parts of this patch-serie was written by Kai-Martin Knaak.
	Adaption to actual git HEAD and some modifications by Felix Ruoff.

2011-08-18   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/main.c: Add docu for commandline commands Most parts of this patch-serie was written by Kai-Martin Knaak.
	Adaption to actual git HEAD and some modifications by Felix Ruoff.

2011-08-18   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/main.c: Add docu for layer names commandline options Most parts of this patch-serie was written by Kai-Martin Knaak.
	Adaption to actual git HEAD and some modifications by Felix Ruoff.

2011-08-18   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/main.c: Add docu for size commandline options Most parts of this patch-serie was written by Kai-Martin Knaak.
	Adaption to actual git HEAD and some modifications by Felix Ruoff.

2011-08-18   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/main.c: Add docu for color commandline options Most parts of this patch-serie was written by Kai-Martin Knaak.
	Adaption to actual git HEAD and some modifications by Felix Ruoff.

2011-08-28   Felix Ruoff * Felix AT posaunenmission dot de *

	* doc/pcb.texi, src/main.c: Docu: Add general description for
	commandline options ... and for general options.  (Patch 3/19 of this patch-serie is
	missing on purpose) Most parts of this patch-serie was written by Kai-Martin Knaak.
	Adaption to actual git HEAD and some modifications by Felix Ruoff.

2011-08-28   Felix Ruoff * Felix AT posaunenmission dot de *

	* doc/pcb.texi: Remove out-dated docu for commandline options Most parts of this patch-serie was written by Kai-Martin Knaak.
	Adaption to actual git HEAD and some modifications by Felix Ruoff.

2011-08-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c, src/misc.c, src/misc.h: Move CountHoles() from draw.c
	to misc.c and export it This function may be more generally useful.

2011-08-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Move doing_assy flag assignment into
	PrintAssembly() Keeps things tidier

2011-08-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gcode/gcode.c, src/hid/nelma/nelma.c: hid/{nelma,gcode}:
	Remove assigned but unused variables lastcap and lastgroup

2011-08-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.h, src/main.c: Remove traces of LoadBackgroundImage()
	from the core of PCB

2011-08-27   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-gl.c: hid/gtk: Use
	view_data struct to simplify saving and restoring views

2011-08-27   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-gl.c,
	src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-output-events.c,
	src/hid/gtk/gui-top-window.c, src/hid/gtk/gui.h: hid/gtk:
	Encapsulate view parameters in a structure

2011-08-27   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Remove unnecessary prototype

2011-08-27   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui.h: hid/gtk: crosshair_{x,y} should be Coord, not
	int.

2011-08-27   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/fontmode.c: fontmode.c: Add missing #include "pcb-printf.h"

2011-08-26   DJ Delorie * dj AT delorie dot com *

	* src/fontmode.c: Fix FontEdit() Move top/bottom meta-layers to layers 0 and 1 so they'll exist after
	we trim out the layers.  Set up DRC values to avoid interfereing
	with the font layout.  Closes-bug: lp-808591

2011-08-26   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/dialogs.c: Use correct units when setting up the
	Sizes dialog.  Replace %mm with %mS so it auto-selects units, to match the scanning
	that's done when you save the settings.

2011-08-26   DJ Delorie * dj AT delorie dot com *

	* src/parse_l.l: Avoid segfault tmp-saving partial board.  Check for both PCB and PCB->Data to avoid trying to save a backup
	copy of a partially created layout.

2011-08-26   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gui-top-window.c: gtk: Sync selection with pcb state
	in ghid_layer_buttons_update It was possible for PCB's active layer to come out of sync with the
	selected entry in the layer selector. This fixes that.

2011-08-26   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gtk-pcb-layer-selector.c,
	src/hid/gtk/gtk-pcb-layer-selector.h, src/hid/gtk/gui-top-window.c: 
	Support adding/deletion of layers in GtkPcbLayerSelector If you add a layer to a GtkPcbLayerSelector, and its ID is already
	in the selector, it will update the layer instead of adding a new
	one. This way, we can update the layer selector by:   1. Deleting all recently-deleted and non-copper layers.    2. Re-adding all layers (including new ones)   3. Re-adding all non-copper layers (so they go to the end) The old layer selector maintained MAX_LAYER + n layers (where n was
	the number of non-copper layers), and showed/hid the gui widget to
	managed deletion and adding of layers. The new one has no notion of
	MAX_LAYER, nor does it care whether a layer is copper or not. :)

2011-08-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-drc-window.c: hid/gtk: Fix DRC preview pixmap
	rendering Another hard-coded constant in the old PCB coordinate system

2011-08-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c: hid/gtk: Remove duplicated render pass
	in ghid_pinout_preview_expose() This looks like it was a copy+paste error.

2011-08-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-pinout-preview.c,
	src/hid/gtk/gui-pinout-preview.h: hid/gtk: Fix pinout preview
	default zoom after unit conversion Apparently the scale factor equation was dependant on the old PCB
	units of 100th mils to produce a sensible zoom level.  Since this code is monumentally obtuse, just re-write something
	completley new. The old code probably bit-rot when we split out the
	rendering widget.  Lets just suggest a fixed size of 100 pixels natural size for each
	150 mil of element bounding box. That seems to work nicely.

2011-08-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/misc.c: misc.c: Rework SetTextBoundingBox() to make it more
	clear how it works.  Add lots of comments, change the coding style and rename variables
	to make them more obvious.

2011-08-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: Redefine pin / pad name label text size in terms of
	FONT_CAPHEIGHT This reduces the proliferation of various "magic numbers" which
	combine constants from several sources and aren't appearent why they
	are a particular number. There is a slight rounding error in the
	converted pin label size, but it is insignificant.

2011-08-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* globalconst.h, src/change.c, src/report.c: Introduce global
	#define for the text cap-height of the PCB font.  This should save the proliferation of rather opaque
	MIL_TO_COORD(45)'s in various places.

2011-08-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/change.c, src/draw.c, src/report.c: Fix some text scale
	factors This commit fixes pin / pad name drawing, the pinout preview and two
	actions which change the size of text based on user input.  To recap: Text->Scale is a percentage scaling (from the font definition). The
	default font has has an approximate cap-height of 45-50 mils, and
	PCB assumes this to be the case.  Text->Scale is not a Coord, it is an integer, so use int as the
	resulting type for any calculations involving this number. (100% is
	stored as 100 in Text->scale). Code which scales text based upon
	other object sizes does so by dividing to a dimensionless scale
	factor. We may have to be careful about the width of intermediate
	results when scaling based on Coords if Coord is changed to 64bit at
	some point.  ChangeTextSize() and ChangeElementNameSize accept absolute (or
	delta) sizes in units of distance. These are converted to a Scale by
	assuming a 100% scaled font is 45mils high. YMMV.  Oh - and just to note.. the line-thickness is drawn at half the
	width stored in the font definition. This is clearly bonkers, but we
	would break designs if we changed it now. Grr.  (Thanks a bunch
	commit 66592387176ba2578dfc14023a6fe49226f3a3df).

2011-08-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/hid/ps/ps.c: action.c: Fix missing #include
	"mirror.h"

2011-08-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* : hid/ps: Fix inaccurate comment and twiddle some whitespace The whitespace changes in the if statement were from an earlier
	revision which actually had functional changes - but I prefer this
	way, so I'm committing it anyway.  Also adds some != 0 to the end of strcmp tests, as I believe this
	aids clarity by reminding readers strcmp returns 0 for a match.

2011-08-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-output-events.c: 
	hid/gtk: Allow zooming out past the board size (up to 1/10 viewport
	size) The 1/10 viewport size should be the same as the Lesstif HID allows.
	The purpose of the limit is to avoid zooming in so small the PCB is
	lost as a tiny dot, and also to avoid coodinate overflows when
	representing screen coordinats in PCB Coords. (Since we switched to
	nanometers, this could potentially raise its head more readily until
	we move to 64bit integers).  The explicit pan fixup added to ghid_view_zoom_fit() is required as
	pan_common() no longer clamps the view back to the origin.

2011-08-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-output-events.c,
	src/hid/gtk/gui.h: hid/gtk: Remove ghid_port_ranges_pan for new
	replacement ghid_pan_view_rel ghid_pan_view_rel() does less heavy lifting directly, sharing common
	code with the other view altering routines for zooming and panning.

2011-08-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui.h: hid/gtk: Remove prototype for non-existant
	ghid_port_ranges_update_ranges The functionality this prototype implies is in
	ghid_port_ranges_scale().

2011-08-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Don't recompute view size in
	PCB coords in ScrollAction() We aleady keep around the view size in PCB coords, so use it
	directly.

2011-08-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Add fixup for stored
	gport->pcb_{x,y} coords when changing view This updates the stored (in PCB coordinates) mouse pointer location
	on the board as we perform a pan / zoom. This is mostly relevant to
	panning and clipped zoom operations, as non-clipped zoom operations
	aim to leave the mouse pointer at the same PCB coordinate anyway.

2011-08-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon.c: polygon.c: Fix dicer to give up if the clipping
	region passed is invalid.  Most of the dance checking return codes from polyBoolean_free was
	unnecessary, as it sets the output to NULL if there is a problem, so
	remove that. Whilst we're at it, fix up some variable names to make
	the operation of the function clearer.

2011-08-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon.c: polygon.c: Make RectPoly return NULL for zero or
	negatively sized rectangles Previously we would hit an assertion failure, where we could
	indicate the problem by returning NULL.  I've hit an issue in which some expose events in the GTK (+GL) HID
	are collapsing to a zero-width region on the PCB, and some code is
	tripping up on the bad clip polygon produced using RectPoly on the
	coordinates.  This causes segfaults in the branch which contains
	code to clip rendering of the soldermask at the board outline.  We could (and perhaps should) test in the expose handler, but the
	failure mode here is not ideal. Since most builds of PCB run with
	asserts disabled, the asserts are not hit here and a bad polygon is
	silently gets created with no contours. This upsets the polygon
	algebra routines somewhat, but returning a NULL (empty) polygon
	would be fine.

2011-08-26   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gui-config.c, src/hid/gtk/gui-top-window.c: gtk:
	remove call to ghid_layer_buttons_color_update The call to ghid_layer_buttons_color_update() in config_read() is
	now unnecessary; the Gtk layer selection widget does not exist, nor
	do the PCB struct's colors need to be synced with the ones in the
	Settings struct.  So this call makes no sense. Oh, and it causes a segfault.  Also: remove color-changing debug code from gui-top-window.c

2011-08-26   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gtk-pcb-coord-entry.c: Add doxygen comments to
	gtk-pcb-coord-entry.c No code changes.

2011-08-26   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gtk-pcb-cell-renderer-visibility.c,
	src/hid/gtk/gtk-pcb-layer-selector.c: Add doxygen comments to
	gtk-pcb-cell-renderer-visibility.c Also fix the file description for gtk-pcb-layer-selector.c.  No code
	changes.

2011-08-26   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/pcb-printf.c: Add doxygen comments to pcb-printf.c No code changes.

2011-08-26   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/flags.c: Fix const-correctness warning in flags.c

2011-08-26   Andrew Poelstra * asp11 AT sfu dot ca *

	* globalconst.h: Make EMARK_SIZE unit-agnostic Closes-bug: lp-832455

2011-08-26   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gui-top-window.c, src/hid/gtk/gui.h: Use
	GtkPcbLayerSelector in gtk GUI Closes-bug: lp-699482

2011-08-26   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/Makefile.am, src/hid/gtk/gtk-pcb-cell-renderer-visibility.c,
	src/hid/gtk/gtk-pcb-cell-renderer-visibility.h,
	src/hid/gtk/gtk-pcb-layer-selector.c,
	src/hid/gtk/gtk-pcb-layer-selector.h: Introduce GtkPcbLayerSelector
	widget -- not used yet This widget will replace the layer-selection buttons in the Gtk GUI,
	as well as the layer selection and visibility-toggling parts of the
	menu.  This is to make layer manipulation more consistent and more
	keyboard-accessible.  In future, it would be good to update this widget with context menus
	with things like "hide all but this layer".

2011-08-26   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gui-top-window.c: Change Gtk layer_process() to use
	colors from Settings, not PCB Now the only code that uses the colors in the PCB struct is draw.c.
	Hopefully in a future commit we can remove this too and remove the
	duplication of color data in the Settings and PCB structs.

2011-08-25   DJ Delorie * dj AT delorie dot com *

	* src/action.c: Fix File->Import for elements on back side.  Mirror pasted footprints when replacing back-side elements.  Also
	clear element cache when reloading the new footprint, to avoid
	getting a stale pointer.  Closes-bug: lp-699331

2011-08-25   DJ Delorie * dj AT delorie dot com *

	* src/report.c: Fix texinfo bug in report.c patch {} are special characters in texinfo

2011-08-25   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c: Lesstif: force widget update on grid unit
	change If the grid units change, force a redraw of the coordinates window
	and allow a resize.

2011-08-25   DJ Delorie * dj AT delorie dot com *

	* src/flags.c, src/hid/common/flags.c: Fix unitless menu flags.  Numbers without units are counting numbers in flags, not cmil.
	Also, cache the lookup of units in flags.c

2011-08-24   Bert Timmerman * bert dot timmerman AT xs4all dot nl *

	* src/report.c: This patch adds support for doing
	Report(netlength,net_name) Affects-bug: lp-699451 Updated patch to nanometers, fixed a few minor bugs, applied.

2011-08-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Don't compensate for crosshair
	position when panning Perhaps this was necessary before.. it is not now, and is causing
	the crosshair to be errenously offset whilst panning with the scroll
	wheel.

2011-08-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Simplify viewport setup in
	PCBChanged() This version still works ;)

2011-08-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Refactor common view clamping
	code from ghid_{pan,zoom}_view_abs Inspection of the zoom-fit code which triggers if the view exceeds
	the size of the board suggests that it will never be called, so
	remove it.

2011-08-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-output-events.c: hid/gtk: A couple of NOOP
	cosmetic changes to ghid_port_ranges_pan()

2011-08-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-gl.c: hid/gtk: Don't
	render of soldermask outside board area

2011-08-22   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/create.c: Fix negative-angle handling in create.c This bug could be seen by taking a component with an arc (say, a
	3-pin TO transistor, with curved silk), flipping it with 'b', and
	trying to move it. The arc would be inverted.

2011-08-22   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/report.c: Fix segfault in report.c text report output

2011-08-22   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-output-events.c,
	src/hid/gtk/gui.h: hid/gtk: Remove emit_changed parameter from
	ghid_port_ranges_scale.  The one caller which passed TRUE, PCBChanged () also immediately
	aftwewards calls ghid_port_ranges_pan(), which will take car of any
	changes necessary.

2011-08-20   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Rework view flip code

2011-08-20   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui.h: hid/gtk: Rework zoom
	/ pan API

2011-08-20   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Some NOOP and whitespace
	changes to the SwapSides() function Split from of a later patch which reworks the view flipping APIs.
	Hopefully this makes the function a little simpler.

2011-08-19   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-gl.c: hid/gtk:
	Convert line width to Coord units in renderer GC structs.

2011-08-19   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/find.c: find.c: Remove unused variables in LineLineIntersect()

2011-08-15   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/main.c: Add --help and -? to options that will dump usage()
	without loading GUI Closes-bug: lp-826931

2011-08-15   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/batch/batch.c: Fix compilation warnings in
	hid/batch/batch.c

2011-08-15   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gtk-pcb-coord-entry.c, src/hid/gtk/gui-dialog-print.c: 
	Fix: spin increments not working in GtkPcbCoordEntry after unit
	change

2011-08-15   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gui-config.c: Parse options of type CONFIG_Coord in
	preferences file

2011-08-05   Andrew Poelstra * asp11 AT sfu dot ca *

	* globalconst.h, src/const.h, src/global.h, src/main.c: *** CONVERT
	PCB'S BASE UNITS TO NANOMETERS *** Convert base units to nm, change Coord from int to long, change
	LARGE_VALUE from a magic number to (LONG_MAX / 2 - 1).  Fixes-bug: lp-772027

2011-08-11   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/const.h: Make MARK_SIZE base-unit-agnostic

2011-08-10   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gtk-pcb-coord-entry.c: Implement "change unit" submenu
	of GtkPcbCoordEntry context menu

2011-08-10   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gui-dialog-print.c, src/hid/ps/ps.c: Use
	GtkPcbCoordEntry in gui-dialog-print.c Also set ps-bloat to HID_Coord from HID_Integer in ps.c

2011-08-10   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gtk-pcb-coord-entry.c,
	src/hid/gtk/gtk-pcb-coord-entry.h, src/hid/gtk/gui-config.c,
	src/hid/gtk/gui-dialog-size.c, src/pcb-printf.c, src/pcb-printf.h: 
	Use GtkPcbCoordEntry in gui-dialog-size.c

2011-08-10   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/Makefile.am, src/hid/gtk/gtk-pcb-coord-entry.c,
	src/hid/gtk/gtk-pcb-coord-entry.h, src/hid/gtk/gui-config.c,
	src/hid/gtk/gui-utils.c, src/hid/gtk/gui.h: Introduce
	GtkPcbCoordEntry widget, use it in gui-config.c The GtkPcbCoordEntry is a modified spinbox that handles pcb units
	internally and outputs them as human units. It uses the step sizes
	given in pcb-printf and adjusts automatically when units are
	changed.  If you manually change the unit suffix, it will change its interal
	unit, so that if you change "10mil" to "10mm" it will do the right
	thing.  TODO: handle overflows       add a unit selector to the context menu

2011-08-07   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/common/hidgl.c, src/hid/common/hidgl.h,
	src/hid/gtk/gtkhid-gl.c: Audit hidgl stuff, implement Coord I did not touch any code, only change 'int' to Coord where
	appropriate (and in a couple cases 'double' to Coord), under the
	assumption that any real changes should be done by Peter C.

2011-08-07   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid.h, src/hid/common/hidinit.c, src/hid/gtk/gui-config.c,
	src/hid/gtk/gui-dialog-print.c, src/hid/lesstif/dialogs.c,
	src/hid/lesstif/lesstif.h, src/hid/lesstif/main.c, src/main.c: 
	Introduce HID_Coord type and related changes Give measure-specific HID options their own datatype, so that things
	like the --grid option can support suffixes instead of exposing the
	base unit. (In fact, since they use GetValue, they will keep right
	on pretending the base unit is cmil.) This gives us the opportunity to write measure-entry GUI widgets
	that will handle units correctly and whatnot, though I have not yet
	done this.  Fixes-bug: lp-699640 Fixes-bug: lp-699641

2011-08-11   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/lesstif/dialogs.c: Change lesstif_logv to use pcb-printf
	[rebase-after: audit lesstif]

2011-08-05   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/global.h, src/gpcb-menu.res.in, src/hid/lesstif/dialogs.c,
	src/hid/lesstif/main.c, src/hid/lesstif/styles.c,
	src/pcb-menu.res.in: Audit lesstif HID We can now remove LocationType and BDimension! This marks the
	completion of the code audit. Remaining to do is the conversion and
	test.

2011-08-05   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-gl.c,
	src/hid/gtk/gui-log-window.c, src/hid/gtk/gui-misc.c,
	src/hid/gtk/gui-output-events.c, src/hid/gtk/gui.h: Audit Gtk HID

2011-08-05   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/common/draw_helpers.c, src/hid/common/extents.c,
	src/hid/common/hidnogui.c: Audit HID nogui/common code

2011-08-05   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/nelma/nelma.c: Audit nelma HID

2011-08-05   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/png/png.c: Audit png HID

2011-08-04   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gcode/gcode.c: Audit gcode HID

2011-08-04   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/ps/ps.c: Audit ps.c

2011-08-04   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/ps/eps.c: Audit eps.c

2011-08-04   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gerber/gerber.c: Audit gerber HID

2011-08-04   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/bom/bom.c: Implement new unit selector in BOM HID, audit
	bom.c

2011-08-05   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid.h, src/hid/bom/bom.c, src/hid/common/hidinit.c,
	src/hid/gcode/gcode.c, src/hid/gerber/gerber.c,
	src/hid/gtk/gui-config.c, src/hid/gtk/gui-dialog-print.c,
	src/hid/gtk/gui-utils.c, src/hid/gtk/gui.h, src/hid/lpr/lpr.c,
	src/hid/nelma/nelma.c, src/hid/png/png.c, src/hid/ps/eps.c,
	src/hid/ps/ps.c, src/main.c: Introduce HID_Unit option type

2011-08-04   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid.h: Change drawing function coords in hid.h to Coord from
	int Note that this causes a slew of compilation warnings about
	mismatched pointer types, since the HIDs themselves are still using
	int-taking functions. These warnings will be cleaned up over the
	next few commits.

2011-08-04   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/crosshair.c, src/crosshair.h: Audit crosshair.[ch], implement
	Coord

2011-08-04   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/parse_y.y: Audit parse_y.y, implement Coord

2011-08-04   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/mtspace.c, src/mtspace.h: Audit mtspace.[ch], implement Coord

2011-08-04   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/pcb-printf.h, src/report.c: Audit report.c, implement Coord Includes fixes for the original pcb-printf conversion:   Fix drill report spacing in report.c   Use %ma spec outputting angles in report.c

2011-08-04   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/autoroute.c: Audit autoroute.[ch], implement Coord There are many magic numbers in this file. It is likely they will be
	skewed by base-unit changes, though I have worked to mitigate this.

2011-08-04   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/autoplace.c: Audit autoplace.c, implement Coord Note that there are -many- magic numbers in this file.  I believe
	I've caught all of them that are supposed to be unit conversions and
	used macros instead.

2011-08-04   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/action.c, src/create.c, src/create.h: Audit create.[ch],
	implement Coord

2011-08-03   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/intersect.c, src/line.c, src/line.h: Audit line.[ch],
	intersect.c, implement Coord

2011-08-03   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/find.c, src/find.h: Audit find.[ch], implement Coord Note that this commits brings major simplifications to some DRC
	functions. My tests show everything okay, but there will likely be
	some bugs (or bug fixes) as a result of this commit.

2011-08-02   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/find.c: Remove fBloat from find.c fBloat does nothing except act as a floating point copy of the
	integer Bloat variable. It should not be (and is not) necessary.

2011-08-03   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/find.c: Fix g_string_free (NULL) error

2011-08-02   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/global.h, src/hid/gtk/gui-drc-window.c,
	src/hid/gtk/gui-drc-window.h: Remove coord suffix/precision from DRC
	error struct Display units for DRC errors are now handled by the UI, rather than
	in the error struct. The struct now stores everything in Coord's,
	and pcb-printf worries about how to display them.

2011-08-02   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/file.c: Audit file.c, implement Coord

2011-08-02   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/find.c, src/pcb-printf.c, src/pcb-printf.h: Use pcb-printf in
	DRC code in find.c Also, expose pcb_vprintf in pcb_printf.h.

2011-07-27   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/draw.c, src/draw.h: Audit draw.[ch], implement Coord

2011-07-27   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/box.h, src/change.c, src/change.h: Audit change.[ch], box.h,
	implement Coord

2011-07-27   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/copy.c, src/copy.h, src/insert.c, src/insert.h, src/mirror.c,
	src/mirror.h: Audit copy.[ch], insert.[ch], mirror.[ch], implement
	Coord

2011-07-27   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/misc.c, src/misc.h: Audit misc.[ch], implement Coord

2011-07-26   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/move.c, src/move.h: Audit move.[ch], implement Coord

2011-07-26   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/polyarea.h, src/polygon.c, src/polygon.h, src/polygon1.c: 
	Audit polygon*, polyarea.h, implement Coord

2011-07-25   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/rotate.c, src/rotate.h: Audit rotate.[ch], implement Coord

2011-07-19   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/search.c, src/search.h: Audit search.[ch], implement Coord
	unit This does not affect the "IsPointOnArc assumes circular arc" bug; it
	is just more obvious now with the cleaner code.  Affects-bug: lp-815527

2011-07-13   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/rubberband.c, src/set.c, src/set.h, src/thermal.c,
	src/undo.c, src/undo.h: Audit undo.[ch], thermal.c, set.[ch],
	rubberband.c, introduce Coord

2011-08-07   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/action.c, src/buffer.c, src/buffer.h, src/command.c,
	src/djopt.c, src/djopt.h, src/fontmode.c, src/global.h, src/hid.h,
	src/hid/batch/batch.c, src/hid/common/actions.c,
	src/hid/common/hidnogui.c, src/hid/gtk/gtkhid-main.c,
	src/hid/gtk/gui-log-window.c, src/hid/gtk/gui-netlist-window.c,
	src/hid/gtk/gui-output-events.c, src/hid/gtk/gui-top-window.c,
	src/hid/gtk/gui.h, src/hid/lesstif/dialogs.c,
	src/hid/lesstif/lesstif.h, src/hid/lesstif/library.c,
	src/hid/lesstif/main.c, src/hid/lesstif/menu.c,
	src/hid/lesstif/netlist.c, src/hid/lesstif/styles.c, src/misc.c,
	src/move.c, src/netlist.c, src/puller.c, src/report.c,
	src/toporouter.c, src/vendor.c: Change get_coord and action
	signatures to use Coord

2011-07-27   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/file.c, src/hid/gtk/gtkhid-main.c, src/hid/lesstif/main.c: 
	Introduce PCB::grid::unit attribute This is PCB's first use of the Attribute() field in the file format.
	It is a unit suffix string denoting the unit setting used by pcb
	when loading the file.  Note the namespacing: as Attributes are persistent across
	file-saves, other programs may use them in future for purposes
	unknown and irrelevant to pcb. Therefore we will put all pcb
	attributes under the PCB namespace.  If this attribute is missing or invalid (i.e., the unit given is
	unsupported by pcb-printf), PCB will then use the --grid-units
	command-line option. Failing that, it will use the grid-units entry
	in ~/.pcb/preferences. Failing that, it will use mils.  Fixes-bug: lp-811393

2011-08-10   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/pcb-printf.c: Modify get_unit_struct()'s bad-unit forgiveness Suffixes passed to get_unit_struct() may now start or end with
	whitespace, without affecting the result. However, incomplete units
	will NOT be matched.  This means that "mi" will no longer return the "mil" struct, for
	example.  The reasons for this change are:   1. The old behavior returned the first potential match,      regardless of other matches: "c" is always "cm", never      "cmil".    2. Prevent surprises (due to point #1, or typos).    3. Prevent user dependence on behavior that will change      as units are added or removed.  It still supports plural units, like "inches" or "mils".  However,
	it will read "miles" as "mil" because of this. ;)

2011-08-05   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/main.c, src/pcb-printf.c, src/pcb-printf.h: Add alias support,
	get_unit_list() to pcb-printf Add pcb-printf support for unit aliases (just one per unit for now,
	we will fix this if the need arises). Map "inch" to "in" and "pcb"
	to "cmil" for backward compatibility.  Move initialize_units() call to main.c to ensure it is called before
	any other unit-handling code.  Also, add the functions   get_unit_list ();   get_n_units (); which do exactly what they look like. These will
	be used to build HID-export unit selectors.

2011-07-12   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/gpcb-menu.res.in, src/pcb-menu.res.in: Use suffixed units in
	gpcb-menu.res and pcb-menu.res

2011-07-04   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/buffer.c, src/buffer.h, src/create.c, src/file.c,
	src/global.h, src/misc.c, src/misc.h, src/pcb-printf.c,
	src/pcb-printf.h, src/rotate.c: Make file.c use %mr pcb-printf spec I have changed the %mr spec to always output cmils, no suffix, and
	changed file.c to use this. The reason is that the %mc spec (cmils,
	no suffix) is locale- dependent, while %mr is not.  When we change the actual file format, file.c can be left alone and
	the relevant changes should be done to the %mr spec in pcb-printf.

2011-07-13   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gui-config.c: Update hid/gtk/gui-config.c with new
	grid preferences

2011-07-13   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/file.c, src/find.c, src/flags.c, src/global.h,
	src/gpcb-menu.res.in, src/hid/gtk/gtkhid-main.c,
	src/hid/gtk/gui-config.c, src/hid/gtk/gui-dialog-size.c,
	src/hid/gtk/gui-misc.c, src/hid/gtk/gui-top-window.c,
	src/hid/gtk/gui.h, src/hid/lesstif/dialogs.c,
	src/hid/lesstif/main.c, src/hid/lesstif/styles.c,
	src/pcb-menu.res.in, src/pcb-printf.h, src/report.c: Remove mm/mil
	dichotomy, support arbitrary user units Currently, pcb assumes the user's display units are either mm or
	mil, and uses the Settings.grid_unit_mm boolean (and flag
	"grid_unit_mm") to determine which is which.  This patch removes the boolean and replaces it with the new
	Settings.grid_unit, which can be set to any unit supported by
	pcb-printf. The user-visible interface has not changed (there is
	still a mm/mil toggle in Gtk and the menus only contain mm and mil
	units), but new units can be accessed though the :SetUnits command.  The flag is still there and can be used in pcb-menu.res as usual.
	However, the new flag "grid_unit_mil" should be checked to see if
	mils are selected, since this is no longer implied by grid_unit_mm
	== 0.  There will be some user-visible changes to the precision of
	displayed values, since I have removed a lot of special-case code
	for this sort of this thing and use the default_prec of applicable
	units instead.  Because of the new flexibility, some idioms have been changed:   Settings.grid_unit_mm ? COORD_TO_MM (x) : COORD_TO_MIL (x) becomes   coord_to_unit (Settings.grid_unit, x)   Settings.grid_unit_mm ? "mm" : "mil" becomes   Settings.grid_unit->suffix   Settings.grid_unit_mm = 1; becomes   Settings.grid_unit = get_unit_struct ("mm"); For GUI use, the Unit structure returned by get_unit_struct exposes
	certain members:   suffix       : "mm"/"mil"/etc   in_suffix    : i18n version of the above   default_prec : precision used for spinboxes, labels, etc   step_tiny    :   step_small   :   step_medium  : step sizes for various spinboxes   step_large   :   step_huge    : Additionally, the *_increment_mm and *_increment_mil variables have
	their own structure containing default, min and max values.  These
	can no longer be set on the command line.

2011-07-12   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/main.c: Cleanup default values in main.c

2011-07-12   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/misc.c, src/pcb-printf.c, src/pcb-printf.h: Introduce new
	structures (unit, increment) to pcb-printf Constants for gui spinbox steps are now in pcb-printf.h:   Unit.step_tiny   Unit.step_small   Unit.step_medium   Unit.step_large   Unit.step_huge Additionally, the default/max/min values for the preferences
	Increments tab are in their own structure in pcb-printf.h.  These changes are needed to bring all unit-specific constants into
	one place. The spinbox values can be shared by gtk and lesstif.

2011-07-04   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/misc.c, src/pcb-printf.c, src/pcb-printf.h: Add scale factor
	lookups to pcb_printf.c, tell GetValue to use them GetValue and pcb-printf have their own lookup tables to determine
	scale factors. To unify them, this patch adds two functions to pcb-
	printf, coord_to_unit and unit_to_coord.  These a const char *suffix and return an appropriate scale factor.  I have also added a NO_PRINT entry to the allow_mask array for
	suffixes like "inch" that we can read but never output.  The definitive unit lookup table should now be in pcb_printf.c. Any
	other tables used in the code should be merged into this.

2011-07-11   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/action.c, src/autoplace.c, src/crosshair.c, src/crosshair.h,
	src/djopt.c, src/file.c, src/flags.c, src/fontmode.c, src/global.h,
	src/hid/common/hidgl.c, src/hid/gtk/gtkhid-gdk.c,
	src/hid/gtk/gui-config.c, src/hid/gtk/gui-misc.c,
	src/hid/gtk/gui.h, src/hid/lesstif/main.c, src/hid/lesstif/menu.c,
	src/main.c, src/misc.c, src/misc.h, src/set.c, src/set.h: Convert
	grid/increments from double to Coord Since Coord is an integer unit, there will be (often severe)
	precision errors until we convert the base unit to nm.

2011-08-14   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/global.h: Remove unused variable

2011-08-14   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/global.h, src/main.c: Remove broken --menu-file option The expected functionality is given by the option --pcb-menu for the
	GTK+ GUI and lesstif GUI.

2011-08-13   DJ Delorie * dj AT delorie dot com *

	* src/change.c, src/find.c, src/global.h,
	src/hid/common/draw_helpers.c, src/misc.c, src/polygon.c,
	src/search.c: Make toggling the HOLE flag reversible Closes-bug: lp-699483 When toggling the HOLE flag, the Thickness is no longer changed.
	Instead, use PIN_SIZE() to select from Thickness or DrillingHole
	accordingly, and use that throughout.  Mask size is handled thusly: For tented vias, the mask is opened up
	to just over the hole size.  For untented vias, the mask gap is held
	constant.  Also, various minor changes to ensure that untented holes are drawn
	correctly.

2011-08-13   Jared Casper * jaredcasper AT gmail dot com *

	* src/action.c, src/create.c, src/create.h, src/file.c, src/main.c,
	src/parse_y.y: refdes labels in new layout can't be moved.  The .pcb file that gsch2pcb creates does not have a font in it.
	When loading files, the bounding box for all the text is calculated
	as the file is read.  In the case that there is no font, this is
	before the default font is installed, so the bounding box is way too
	small.  This patch remedies this by making all new PCB structures contain
	the default font by calling CreateDefaultFont in CreateNewPCB
	(CreateDefaultFont now takes in a PCBTypePtr instead of using the
	global PCB).  Previously, each time CreateNewPCB was called,
	CreateDefaultFont was called soon thereafter.  In the case of loading a PCB from a file.  The default font in the
	newly created struct PCB is marked invalid but not removed.  If the
	.pcb file contains a font, the default font will be overwritten by
	the file's font.  If it does not, PCB->Font will still be invalid
	after LoadPCB, a message is displayed that the default font is being
	used, and PCB->Font.Valid is set to true.  Also fixes a related bug where the memory for a symbols lines wasn't
	being cleared when a new file was brought into place.  Previously,
	this only happened if a new Font was loaded into an existing PCB.
	Now the font will be replaced every time a file with symbol
	information is loaded.  Rebased to actual git-head by Felix Ruoff Closes-bug: lp-699478

2011-08-13   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/dialogs.c, src/hid/lesstif/lesstif.h,
	src/hid/lesstif/library.c, src/hid/lesstif/main.c,
	src/hid/lesstif/menu.c, src/hid/lesstif/netlist.c,
	src/hid/lesstif/styles.c: Centralize Lesstif XmStringCreate* Closes-bug: lp-699472 To save time in the future, all XmString creation is done via
	XmStringCreatePCB which is a macro in lesstif.h.  Meanwhile, this
	macro is defined to XmStringCreateLtoR instead of
	XmStringCreateLocalized.

2011-08-13   Cesar Strauss * cstrauss AT not2005 dot cea dot inpe dot br *

	* Makefile.am, README.w32, configure.ac, w32/.gitignore,
	w32/Makefile.am, w32/README, w32/build-all.sh, w32/minipack.conf,
	w32/mpk,
	w32/patches/gd/0001-Export-sysbols-when-building-as-a-DLL.patch,
	w32/patches/gd/0002-Libtool-requires-no-undefined-to-build-a-DLL.pa
	tch,
	w32/patches/gd/0003-Avoid-conflit-between-libjpeg-and-windows-heade
	rs.patch, w32/patches/gettext/01-revert-sed-string.patch,
	w32/patches/gettext/02-Avoid-missing-open-argument-error.patch,
	w32/patches/gtk+/01-mousewheel.patch,
	w32/patches/zlib/01-shared-lib-support.patch,
	w32/patches/zlib/02-cross-build.patch, w32/recipes/atk.recipe,
	w32/recipes/cairo.recipe, w32/recipes/gd.recipe,
	w32/recipes/gettext.recipe, w32/recipes/glib.recipe,
	w32/recipes/gtk+.recipe, w32/recipes/jpeg.recipe,
	w32/recipes/libiconv.recipe, w32/recipes/libpng.recipe,
	w32/recipes/pango.recipe, w32/recipes/pcb.recipe,
	w32/recipes/pixman.recipe, w32/recipes/tiff.recipe,
	w32/recipes/zlib.recipe, w32/tools/mpk-build, w32/tools/mpk-clean,
	w32/tools/mpk-config.guess, w32/tools/mpk-help,
	w32/tools/mpk-install, w32/tools/mpk-remove, w32/tools/mpk-shell,
	w32/tools/mpk-source, w32/tools/mpk-unpack, w32/tools/mpk-version,
	w32/tools/tool.template: Add Windows cross-build script.  Closes-bug: lp-699494

2011-08-13   Cesar Strauss * cstrauss AT not2005 dot cea dot inpe dot br *

	* Makefile.am, README.win32, configure.ac, win32/.cvsignore,
	win32/Makefile.am, win32/Readme.txt, win32/build_pcb,
	win32/extract_gtk_win32, win32/pcb.nsi.in,
	win32/registerExtension.nsh: Remove previous Windows build script.  Affects-bug: lp-699494

2011-08-10   DJ Delorie * dj AT delorie dot com *

	* src/action.h, src/autoplace.h, src/autoroute.h, src/box.h,
	src/buffer.h, src/change.h, src/clip.h, src/command.h,
	src/compat.h, src/const.h, src/copy.h, src/create.h,
	src/crosshair.h, src/data.h, src/dbus-pcbmain.h, src/dbus.h,
	src/djopt.h, src/draw.h, src/edif_parse.h, src/error.h, src/file.h,
	src/find.h, src/global.h, src/heap.h, src/hid.h,
	src/hid/common/actions.h, src/hid/common/hid_resource.h,
	src/hid/common/hidgl.h, src/hid/common/hidinit.h,
	src/hid/common/hidnogui.h, src/hid/gcode/lists.h,
	src/hid/gtk/gtkhid.h, src/hid/gtk/gui-drc-window.h,
	src/hid/gtk/gui-library-window.h, src/hid/gtk/gui-pinout-preview.h,
	src/hid/gtk/gui.h, src/insert.h, src/intersect.h, src/line.h,
	src/lrealpath.h, src/macro.h, src/mirror.h, src/misc.h, src/move.h,
	src/mtspace.h, src/mymem.h, src/parse_l.h, src/pcb-printf.h,
	src/polyarea.h, src/polygon.h, src/print.h, src/rats.h,
	src/remove.h, src/report.h, src/resource.h, src/rotate.h,
	src/rtree.h, src/rubberband.h, src/search.h, src/select.h,
	src/set.h, src/strflags.h, src/thermal.h, src/toporouter.h,
	src/undo.h, src/vector.h, src/vendor.h: Fix header guard macro names Closes-bug: lp-699161 Make all headers use standard-compliant guard macro names.

2011-08-10   DJ Delorie * dj AT delorie dot com *

	* configure.ac, src/hid/lesstif/main.c, src/hid/lesstif/xincludes.h: 
	Detect XRender + Xinerama to avoid BadMatch Closes-bug: lp-699251 This seems to happen when your X server is using both Xinerama and
	XRender, and only affects the XRenderChangePicture() call with a
	clip_mask.  So, I added code to detect Xinerama+XRender and disable
	XRender if they're found.

2011-08-10   DJ Delorie * dj AT delorie dot com *

	* src/action.c: Don't set FOUND flag on silk lines.  Closes-bug: lp-699291

2011-08-08   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Clean up ghid_pan_fixup ()

2011-08-08   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Re-write some routines with
	the new ghid_pcb_to_event_coords API.  Cleans up ghid_set_crosshair() and Center() in gtkhid-main.c

2011-08-08   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-gl.c,
	src/hid/gtk/gui.h: hid/gtk: Add API to convert pcb units into
	drawing widget coordinates.

2011-08-07   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/misc.c: misc.c: Remove comment missed from commit e82ad9b

2011-08-07   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/macro.h: macro.h: Remove now unused SCREEN_SIGN_{X,Y} macros

2011-07-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-gl.c,
	src/hid/gtk/gui-netlist-window.c, src/hid/gtk/gui.h: hid/gtk:
	Implement an API to draw the user into a particular location This is renderer-specific, but the general idea is to help the user
	find a particular location on the board.

2011-08-07   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-netlist-window.c, src/select.c, src/select.h: Move
	the SelectPin() function into the file of its only caller.  The new function is in hid/gtk/gui-netlist-window.c, and is called
	toggle_pin_selected ().  Whilst we're at it, simplify the function, removing its always-
	constant argument and condense the redrawing calls.

2011-08-07   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c: action.c: Remove unused parser token F_Scroll
	("Scroll")

2011-08-07   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/action.h: action.c: Remove unused action
	"MovePointer"

2011-08-07   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-misc.c: hid/gtk: Remove dead "MovePointer"
	keyboard navigation code.  This was not working correctly anyway, as the action was not
	properly registered. Obviously no-one missed it, so let it die.  Whilst we are here, kill off the hard-coded panning actions in this
	sub-main loop. Eventually, we should use common code for any
	keyboard navigation.  This only affects operation of the ghid_get_user_xy() function, e.g.
	the one which temporarily greys out the PCB user interface whilst
	waiting for the user to supply a location.

2011-08-07   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c: action.c: Simplify ActionMovePointer() The save / restore of the crosshair coordinates is unnecessary since
	we are emitting the appropriate change notifications.

2011-08-07   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c: action.c: Remove dead code, IgnoreMotionEvents

2011-08-07   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/find.c, src/hid/gtk/gui-drc-window.c,
	src/misc.c, src/misc.h, src/select.c: misc.c: Remove unused "delta"
	argument from CenterDisplay() All the callers are passing absolute locations.

2011-08-07   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* po/POTFILES.in, src/Makefile.am, src/gpcb-menu.res,
	src/gpcb-menu.res.in, src/pcb-menu.res, src/pcb-menu.res.in: 
	Generate pcb-menu.res and gpcb-menu.res from ".in" files No functional changes here, just a preliminary cleaning before
	adding the topological autorouter to the menus. Doing so requies
	conditional inclusion of certain lines, as the toporouter is not
	always built.   Based on a patch by Stanislav Brabec * sbrabec AT suse dot cz * Affects-bug: lp-812429

2011-08-07   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/pcb-menu.res: pcb-menu.res: Fixup some more whitespace

2011-07-18   Stanislav Brabec * sbrabec AT suse dot cz *

	* src/action.c: RipUp(): Rip arcs created by toporouter.  Toporouter creates not only lines but also arcs.  Rip up all auto
	routed tracks should rip these arcs as well.  Closes-bug: lp-812380  Reviewed-by: Peter Clifton * pcjc2 AT cam dot ac dot uk *

2011-08-07   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* po/POTFILES.in: POTFILES.in: Add src/crosshair.c and
	src/autoroute.c We were missing translations before.  "make distcheck" now passes ;)

2011-08-07   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* doc/Makefile.am: doc: Don't make any DVI targets We don't have rules to build all the prerequisites, and we don't
	care about DVI. This is one of the issues causing "make distcheck"
	to fail.

2011-08-07   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* doc/Makefile.am, doc/gs/Makefile.am: doc: Remove execute
	permissions on Makefile.am and gs/Makefile.am

2011-08-07   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/gpcb-menu.res, src/pcb-menu.res: Clean up whitespace in
	[g]pcb-menu.res

2011-08-03   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/crosshair.c: crosshair.c: Fix layer check for off-grid line
	snapping in line-draw mode

2011-08-03   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/crosshair.c: crosshair.c: Revise heuristic for snapping on
	off-grid lines Only snap to an off-grid section of a line when: Drawing lines on the same layer as the one being snapped to When
	manipulating the end-point of a _different) line on the same layer
	as the one being snapped to.  This should hopefully reduce the tendancy of the off-grid-line code
	to cause lots of unnecessary snapping.

2011-08-01   Gabriel Paubert * paubert AT iram dot es *

	* src/hid/lesstif/main.c: Correct parameter order in Distance
	function in hid/lesstif/main.c in src/did/lesstif/main.c, the Distance function is called with the
	parameters in the wrong order.  This small patches fixes the problem. I still think that the format
	is wrong, or at least the rounding to integer mm/mil taking only the
	grid into account, but I've not yet decided on how to fix it. The
	worse is that often the display is wrong because the decimal part is
	truncated (displaying say -24 between two grid points on a 5mil
	grid).          Gabriel

2011-07-27   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/png/png.c: hid/png: Increase the maximum allowable DPI of
	the exporter Sometimes for rendering fiddly boards, you just need the detail.  Move the arbitrary 1000 dpi limit to still arbitrary, 10000 dpi.

2011-07-27   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/ps/ps.c: hid/ps: Fix arc drawing since pcb_printf patch The last parameter to the arc macro we use for drawing arcs is
	unitless, so should be a double. This was broken by: commit fa9ae1f6b1eabaab961795ce7be53afe46eaa735     Convert ps/eps/lpr HID's to use pcb-printf I've reverted the change, and added an extra (double) cast compared
	to what was there before, I'm not sure we wouldn't get an integer
	division without it. One day I should learn these type promotion /
	casting rules properly! ;)

2011-07-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-gl.c,
	src/hid/gtk/gui-top-window.c, src/hid/gtk/gui.h: hid/gtk: Add a
	shutdown function to the renderer backends This will be necessary to stop any event handlers / timers which
	should not fire as the GUI is being shut down.  This code isn't actually very "live" at the moment, as the place
	I've hooked up its trigger (the destroy event of the main window),
	doesn't actually appear to get called.  This seems to be because the core "Quit" action just kills the
	program dead, rather than attempting to shut down the GUI.

2011-07-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-netlist-window.c: hid/gtk: Do not run a main loop
	from within the netlist window code.  It turns out that this is a really bad idea.. if the main loop is
	kept busy, the new main-loop never exits and the events can become
	reentrant.  I discovered this when testing code for an animation which used the
	main event loop for its timing. Each time a node was selected in the
	netlist window, stack-frame would grow - as the new nested main
	loops never became idle. Segfaults ensued quite readily, presumably
	due to the code not being designed to be reentrant.  It appears from reading the code, that these:   while (gtk_events_pending ())        /* Make sure everything gets
	    built */ gtk_main_iteration (); Are not actually necessary.

2011-07-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-netlist-window.c: hid/gtk: Skip check before
	calling ghid_netlist_window_create If the window already exists, ghid_netlist_window_create() is a
	NOOP, so there is no point in checking twice.

2011-07-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-netlist-window.c, src/hid/gtk/gui.h: hid/gtk:
	Remove unused function ghid_netlist_nodes_update ()

2011-07-25   DJ Delorie * dj AT delorie dot com *

	* src/default_font: Tweak default font.  Minor changes to various glyphs to improve readability and
	legibility, such as making V look less like U, or 8 less like 0.  No
	changes to font metrics, bounding boxes, or spacing.

2011-07-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Fix up paning when flipping
	the board.  I'm not sure when this got broken, but it was probably my fault ;)

2011-07-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* : commit f9ad6634a55f7f79106945e3307aafe0d39eae61  Author: Andrew
	Poelstra * asp11 AT sfu dot ca * Date:   Mon Jul 25 00:33:23 2011
	-0700

2011-07-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* : hid/gtk: Refactor viewport handling

2011-07-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Fixup Zoom() and zoom_by() so
	they don't ignore passed coordinates.  The Zoom() action was passing bogus coordinates (in pixels), and
	zoom_by() was ignoring the passed coordinates and just using the
	mouse pointer location last recorded in gport->pcb_x and
	gport->pcb_y.  Fix zoom_by() to use the passed coordinates, fix Zoom() to not
	mangle the passed board coordinates into screen space.. zoom_by()
	wants board coords.  Finally, remove a special case from the Zoom() action where if the
	passed coordinates were both zero, we would pass the PCB coordinates
	of the board center. I'm hopeful that things will "just work"
	without this.

2011-07-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-output-events.c,
	src/hid/gtk/gui.h: hid/gtk: Introduce a zoom_fit() function, remove
	duplicated code.  Several places in the code invoke a "zoom_fit" type function by
	calling zoom_to() or ghid_port_ranges_zoom() with bogus parameters.  Implement a specific function which restricts this to one location,
	then remove the now redundant ghid_port_ranges_zoom(), which
	basically just duplicated the code from zoom_by() with an added
	check for a 0.0 zoom factor to trigger the zoom-to-fit feature.

2011-07-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Add missing static parameter
	to zoom_by() function.

2011-07-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Some cleanups to the zoom_to()
	function Still confusing, but at least its not the fault of the code
	formatting now.

2011-07-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Remove old debugging code from
	zoom_to and zoom_by() functions This code was adding to clutter in the functions, and appears in
	some cases to be bit-rotten. (The coordinates it operated on don't
	appear to be have been consistent with the current GUI code).

2011-07-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-gl.c,
	src/hid/gtk/gui-output-events.c, src/hid/gtk/gui.h: hid/gtk:
	Abstract away event coordinate conversion to PCB base units

2010-12-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-output-events.c,
	src/hid/gtk/gui.h: hid/gtk: Refactor semantics of, and rename
	view_x, view_y coordinates Rather than storing pointer coordinates in the imaginary "view"
	system, where the coordinates (in PCB base units) represent that of
	an unflipped board, store them such that they are directly
	meaningful on the board.  As they now directly represent the cursor coordinats on the actual
	board, they don't require passing through the SIDE_{X,Y} macros
	before use with APIs that expect board coordinates.  To avoid confusion, view_x and view_y have been renamed to pcb_x and
	pcb_y to reflect the change of semantics.  In a number of cases, SIDE_{X,Y} macro calls were added to preserve
	correct functionality of old code which manipulates the mouse
	position in "view" coordinates. These are primarily concerned with
	zooming and panning.  Also rename the confusingly titled VIEW_{X,Y} macros to
	EVENT_TO_PCB_{X,Y}

2011-07-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-gl.c,
	src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-output-events.c,
	src/hid/gtk/gui.h: hid/gtk: Rename {x,y}_crosshair to
	crosshair_{x,y} (Just because!)

2011-07-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gl.c: gtk+gl: Convert crosshair drawing to use
	PCB world coordinates Whilst I'm at it, add a z-coordinate to the crosshair drawing
	functions to future proof them for when we add some 3D effects.

2011-07-08   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/file.c, src/global.h, src/pcb-printf.c: Introduce Coord/Angle
	types, convert global.h and pcb-printf to use it For now Grid (in PCB and Settings) and its increments are still
	doubles to avoid serious breakage. Will change these to Coords in a
	separate commit.  Also add %ma spec for Angle, tell file.c to use it, to prevent
	printf problems with Angle when changing ctypes.

2011-07-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* gts/boolean.c, gts/cdt.c, gts/edge.c, gts/partition.c,
	gts/split.c: gts: Fixup warnings due to assigned but unused
	variables As I'm not 100% familiar with this code, I have commented out some
	of the redundant code rather than deleting it completely.

2011-07-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/common/hidgl.c: hid/common/hidgl.c: Cast the function
	pointers passed to gluTessCallback() Silences compiler warnings about incompatible pointer types

2011-07-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/line.c: line.c: Fix a bogus compiler warning regarding a (X +
	c) >= X being always true.  line.c: In function ‘EnforceLineDRC’: line.c:491:7: warning:
	assuming signed overflow does not occur when assuming that (X + c)
	>= X is always true [-Wstrict-overflow] It would appear that gcc (4.6.1-5ubuntu1) is identifying the
	conditional portions of INDEXOFCURRENT which would always evaluate a
	particular way if a given condition is met. It is "probably" safe to
	assume that this warning manifests due to gcc considering each
	portion of the INDEXOFCURRENT definition in turn.  It appears we can avoid this particular warning by temporarily
	assigning INDEXOFCURRENT into a variable before we test with it.

2011-07-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/toporouter.c: toporouter.c: Fixup warnings due to assigned but
	unused variables As I'm not 100% familiar with this code, I have commented out some
	of the redundant code rather than deleting it completely.

2011-07-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/undo.c: undo.c: Fixup warnings due to assigned but unused
	variables

2011-07-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/rtree.c: rtree.c: Fixup warnings due to assigned but unused
	variables Adds a nasty cludge using #ifndef NDEBUG around a variable
	assignment which is only used in a later assert() statement. (NB:
	assert() evaluates to nothing if NDEBUG is defined).

2011-07-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/print.c: print.c: Fixup warnings due to assigned but unused
	variables

2011-07-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/puller.c: puller.c: Fixup warnings due to assigned but unused
	variables

2011-07-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon1.c: polygon1.c: Fixup warnings due to assigned but
	unused variables Adds a nasty cludge using #ifndef NDEBUG around a variable
	assignment which is only used in a later assert() statement. (NB:
	assert() evaluates to nothing if NDEBUG is defined).

2011-07-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/fontmode.c: fontmode.c: Fixup warnings due to assigned but
	unused variables

2011-07-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/find.c: find.c: Fixup warnings due to assigned but unused
	variables

2011-07-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/djopt.c: djopt.c: Fixup warnings due to assigned but unused
	variables

2011-07-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/copy.c: copy.c: Fixup warnings due to assigned but unused
	variables

2011-07-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/autoroute.c: autoroute.c: Fixup warnings due to assigned but
	unused variables Adds a nasty cludge using #ifndef NDEBUG around a variable
	assignment which is only used in a later assert() statement. (NB:
	assert() evaluates to nothing if NDEBUG is defined).

2011-07-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c: action.c: Fixup warnings due to assigned but unused
	variables

2011-07-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gcode/trace.c: hid/gcode: Fixup warnings due to assigned
	but unused variables

2011-07-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/bom/bom.c: hid/bom: Fixup warnings due to assigned but
	unused variables

2011-07-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-library-window.c,
	src/hid/gtk/gui-top-window.c: hid/gtk: Fixup warnings due to
	assigned but unused variables

2011-07-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/crosshair.c: crosshair.c: Snap to points along off-grid lines
	when drawing tracks This should greatly easy making tidy layouts where some lines have
	(perhaps by necessity) ended up off-grid.  This patch adds code to snap onto the center of a line. It finds the
	nearest grid point to the cursor, then will allow snapping at the
	intersections between the line in question and the lines of an
	imaginary X and + centered on the nearest grid-point to the cursor.  This allows neat drawing of horizontal, vertical and 45 degree lines
	which will land correctly on the existing line.

2011-07-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/crosshair.c: crosshair.c: Rename some variables for clarity

2011-07-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/crosshair.c: crosshair.c: Always allow snapping to the element
	mark (except in rat-draw mode)

2011-07-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/crosshair.c: crosshair.c: Don't snap to an element's mark in
	rat-draw mode.

2011-07-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/crosshair.c: crosshair.c: Drop checks to ensure the crosshair
	is inside the PCB It would seem that the MIN, MAX functions applied when setting
	Crosshair.X and Crosshair.Y should already constrain the coordinates
	such that the removed code was never triggered.  It isn't obvious that these removed checks are even correct, or are
	being triggered. Drop the checks in the hope that the now simplified
	code continues to "just work" without the special casing.

2011-07-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/parse_y.y: parse_y.y: Remove unused GRIDFIT macro

2011-07-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/crosshair.c: Try snapping to element marks first, as they are
	only a weak snap.  Because the element mark is never chosen in preference to a closer
	grid point, we should try snapping to it first - rather than last.  Currently, we might have a crosshair location where (say), a pad is
	snapped to in preference to the nearest grid-point, then the element
	mark is tested and snapped to because it is closer than the pad.
	This can occur even when there is a closer grid point than the
	element mark, since the grid snap (nearest_is_grid == true) has
	already been discarded by the snap to the pad.

2011-07-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/crosshair.c: Refactor crosshair snap code to reduce
	duplication and improve readability

2011-07-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/search.c: Allow editing of ordinary text objects when element
	names are hidden Closes-bug: lp-810678

2011-07-19   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gui-netlist-window.c: Fix crash in netlist window
	caused by heirarchical netlists See http://archives.seul.org/geda/user/Jul-2011/msg00133.html

2011-07-12   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gui-top-window.c: Remove special grid-change handling
	from Gtk

2011-07-03   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/lesstif/dialogs.c, src/hid/lesstif/main.c,
	src/hid/lesstif/menu.c: Convert lesstif hid to use pcb-printf Should be no user-visible changes, except this bug: Closes-bug:
	lp-805273

2011-07-03   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/pcb-printf.c: Add support for + and .* subspecifiers in
	pcb-printf

2011-07-03   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/lesstif/main.c: Clean up coords_to_widget() in
	lesstif/main.c The coords_to_widget() function is used in exactly two places, for
	different purposes. To differentiate between the two uses, the
	``state'' parameter is set to -1.  The parameter is confusing enough without overloading it in this
	way.  Therefore I have split the function into two:   mark_delta_to_widget   cursor_pos_to_widget Further, I have converted the code inside the functions to use
	g_printf_strdup instead of a fixed buffer. The functions should both
	be easier to read now than the original.  There is one small change to user-visible output, which I think is
	justified: if you have a very small metric grid (<= 5um), the
	mark_delta output now uses .3f for both cartesian  and radial
	display. Before it would use .3f for cartesian, .2f for radial.

2011-07-01   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-dialog-size.c,
	src/hid/gtk/gui-misc.c, src/hid/gtk/gui-top-window.c: Convert gtk
	gui to use pcb-printf There should be no user-visible changes.  Note that as long as base units are cmils, the .9999 bug in the
	cursor status is back. This is not a problem with smaller base units
	(I am using 17nm and all is okay.) Note also that the report dialogs are entirely based on report.c, so
	that is not part of this commit.

2011-06-29   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/ps/eps.c, src/hid/ps/ps.c: Convert ps/eps/lpr HID's to use
	pcb-printf The postscript HID now uses pcb-printf to output all units as inches
	rather than cmils; therefore the default scale is now 1:1 rather
	than 1:10000.  Therefore there will be a change in raw ps output but
	not in printed output.  As inches are output with 5 digits after the decimal point, there
	will be no loss in precision, though in future this will be easy to
	increase.  Also, minor code cleanups in ps.c to reduce global state and make
	global variables more visible.

2011-06-28   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/pcb-printf.c: Make pcb_fprintf ignore NULL file handle There is a lot of code in the HID's that looks like   if (f != NULL)     fprintf (f, "..."); I have moved the NULL check inside pcb-printf to remove this
	repetition/potential mistake.

2011-06-26   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/file.c: Make sure scale/direction are not output as measures
	in file.c

2011-06-25   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/report.c: Fix typo in unplated hole output in report.c

2011-06-22   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/toporouter.c: Convert toporouter trace code to use pcb-printf There is still a fair amount of trace code outputting measurements
	that are floating-point values. I left these alone since they will
	work independently of the actual type of BDimension.  Everything should still be output in base units.

2011-06-21   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/polygon.c, src/polygon1.c: Convert polygon and polygon1.c
	debug code to use pcb-printf

2011-06-21   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/puller.c: Convert puller.c trace code to use pcb-printf Minor changes to trace output (addition of parens, mainly). Should
	be no user-visible output. No longer assumes BDimension == int.

2011-06-21   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/djopt.c: Convert djopt.c to use pcb-printf No change in user-visible output.  Debug output is slightly changed since pcb-printf likes to put
	parens around tuples, so "%d,%d" is now effectively "(%d, %d)".
	Debug output is all base units, so the numbers will not change until
	the base unit size is changed.

2011-06-21   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/autoroute.c: Convert autoroute.c debug code to use pcb-printf Should be no change in output. Only change is that we no longer
	assume BDimension == int.

2011-06-21   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/action.c: Change action.c *WARN* lines to use pcb-printf Now instead of outputting unsuffixed cmils, warnings about
	locked/unnamed elements will refer to the part's position in either
	mm or mil, with an appropriate suffix.  Non-warning-related output is unchanged.

2011-06-21   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/file.c: Convert file.c to use pcb-printf for cmil output file.c now uses pcb-printf, though in a limited way: everything is
	still output in unsuffixed cmils, though this is now independent of
	pcb's internal unit size.  I have also removed the old-style output for symbols.  Aside from that, everything should be the same. Any other change in
	output, or file format incompatibility of any kind, is a bug.

2011-06-21   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/pcb-printf.c, src/pcb-printf.h: Add # subspecifier to
	pcb-printf to prevent scaling for debug output

2011-06-21   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/puller.c: Convert puller.c to use Distance() intead of its own
	function

2011-06-21   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/pcb-printf.c, src/pcb-printf.h: Add pcb_printf to pcb_*printf
	family of functions

2011-06-19   Krzysztof Kościuszkiewicz * k dot kosciuszkiewicz AT gmail dot com *

	* doc/Makefile.am: doc: do not distribute dvi files DVI files cannot be generated without LaTeX, and since commit
	3afdb7efdaf6cc8094cc6143269e7df519183197 only pdfLaTeX is supported.

2011-06-19   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/lesstif/menu.c: Allow 1...9 and Ctrl+1...9 accellerators
	for silk/rats in lesstif

2011-06-19   Levente Kovacs * leventelist AT gmail dot com *

	* src/find.c, src/global.h: gEDA-user: skpi_drc patch On Fri, 17 Jun 2011 17:30:22 -0400  DJ Delorie * dj AT delorie dot
	com * wrote: > You want the (already global) AttributeGet() function.  > >
	l->no_drc = AttributeGet (l, "PCB::skip-drc") != NULL; > > This does
	assume that the attribute has *some* value, even if the > value is
	the empty string.  Thanks for pointing this out.  Attached is the new patch.  Levente -- Levente Kovacs http://levente.logonex.eu

2011-06-20   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c: Lesstif: ignore crosshair changes before
	window exists.

2011-06-19   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gui-top-window.c: Allow 1..9 accelerator keys to be
	applied to non-copper layers in gtk Closes-bug lp-699327

2011-06-19   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/report.c: Change report.c to use pcb-printf Right now there should be no change in the output from report.c;
	this is essentially just a code cleanup. The prec/UNIT nastiness is
	cleaned up -- precision is handled by the defaults in pcb-printf (.2
	for mil, .4 for mm, same as before) and unit selection is done with
	the %m+ specifier.  It's easy now to expand to allow auto-scaling or even automatic
	selection of metric/imperial based on sig.  figs., but I've played
	around with this and it looks like mixing units is confusing and
	hard-to-read, so we're sticking with just one of mm/mil for now.

2011-06-19   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/pcb-printf.c, src/pcb-printf.h: Add %m+ specifier to
	pcb-printf As long as our base units are cmils, allowing pcb-printf to guess
	the most natural units for displaying measures is a bad idea -- it
	cannot reliably count significant figures for many values. The
	result, for example, in report.c, is inconsistent and confusing
	dialogs with a mix of metric and imperial measurements.  The %m+ specifier is used to force pcb-printf to only use certain
	units; in this case, the user's gui setting of metric/imperial.

2011-06-19   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/misc.c, src/misc.h: Add Distance() function to avoid overflow
	with sqrt(x*x + y*y)

2011-06-19   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/move.c: Fix typo (Polygon++ ==> PolygonN++) in src/move.c Closes-bug: lp-796059

2011-06-19   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gerber/gerber.c: Set file pointer to NULL after closing in
	gerber.c Closes-bug: lp-795734 When cleaning up the gerber HID, I had changed the file pointer used
	in maybe_close_f from a global to a (local) argument -- which made
	the line ``f = NULL'' effectively a no-op.  However, the global variable f does need to be set to NULL for the
	code to recognize that the file is closed; otherwise it tries to
	keep using the (now invalid) file handle, causing crashes whenever
	the gerber HID is used more than once.  This is now done after every call to maybe_close_f(), rather than
	depending on the function itself to have side effects.

2011-06-17   DJ Delorie * dj AT delorie dot com *

	* src/hid/png/png.c: Check for empty layers in photo mode Now that the default stackup is for six layer boards, the PNG photo
	mode output needs to check to see if the user has used the inner
	layers, and automatically adapt - so that a two layer board *looks*
	like a two-layer board.

2011-06-17   Gabriel Paubert * paubert AT iram dot es *

	* src/hid/gerber/gerber.c,
	tests/golden/hid_gerber3/arcs.plated-drill.cnc: Fix printf specifier
	for gerber drill output

2011-06-16   Andrew Poelstra * asp11 AT sfu dot ca *

	* configure.ac, tests/golden/Makefile.am,
	tests/golden/hid_gerber3/Makefile.am,
	tests/golden/hid_gerber3/arcs.bottom.gbr,
	tests/golden/hid_gerber3/arcs.fab.gbr,
	tests/golden/hid_gerber3/arcs.group1.gbr,
	tests/golden/hid_gerber3/arcs.group4.gbr,
	tests/golden/hid_gerber3/arcs.plated-drill.cnc,
	tests/golden/hid_gerber3/arcs.top.gbr, tests/inputs/Makefile.am,
	tests/inputs/gerber_arcs.pcb, tests/tests.list: Add hid_gerber3 test
	to check arc rendering

2011-06-16   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gerber/gerber.c: Re-insert casts to unit conversion macros
	in gerber.c

2011-06-12   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gerber/gerber.c: Convert gerber hid to use pcb-printf

2011-06-12   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gcode/gcode.c: Convert gcode hid to use pcb-printf

2011-06-12   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/bom/bom.c: Convert BOM hid to use pcb-printf

2011-06-12   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/pcb-printf.c, src/pcb-printf.h: Correct handling of %.*f in
	pcb-printf, remove from known issues

2011-06-12   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/batch/batch.c: Convert batch HID to use pcb-printf

2011-06-11   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/Makefile.am, src/pcb-printf.c, src/pcb-printf.h: Add
	pcb-printf.c to allow custom specifiers for unit output From the header: /* This file defines a wrapper around sprintf, that  *  defines new specifiers that take pcb BDimension  *  objects as input.   *  * The new specifiers are:  *   %mm    output a measure in mm  *   %mM    output a measure in scaled (mm/um) metric  *   %ml    output a measure in mil  *   %mL    output a measure in scaled (mil/in) imperial  *   %ms    output a measure in most natural mm/mil units  *   %mS    output a measure in most natural scaled units  *   %md    output a pair of measures in most natural mm/mil units  *   %mD    output a pair of measures in most natural scaled units  *   %m3    output 3 measures in most natural scaled units  *     ...   *   %m9    output 9 measures in most natural scaled units  *   %m*    output a measure with unit given as an additional  *          const char* parameter  *   %mr    output a measure in a unit readable by parse_l.l  *          (this will always append a unit suffix)  *  * These accept the usual printf modifiers for %f,  *  as well as the additional modifier $ which is  *  used to output a unit suffix after the measure.   *  * KNOWN ISSUES:  *   No support for %zu size_t printf spec  *   No support for .* subspecifier for pcb specs  */

2011-06-09   DJ Delorie * dj AT delorie dot com *

	* globalconst.h, src/buffer.c, src/global.h, src/parse_y.y: Fix
	shift/reduce conflicts Closes-bug: lp-794743 I moved the interpretation of what "measurement" means even further
	up the heirarchy, by storing the original integer part as well as
	the units in a structure, and applying the new/old/unitless meanings
	where they're used.  This way, there's no conflicts between a number
	which is a measurement, and a number which is a flag or mask, for
	the old formats that differ only in the number of parameters.  I also cleaned up the parser rules for "zero or more" type lists, to
	remove most of the remaining conflicts.  There's still one at the
	toplevel because we try to parse different types of files with the
	same parser.  Lastly, the symbol rules were combined into a "symbol head" rule
	with a common "symbol body" rule.  As a side effect, we can now reliably use units on old-style formats
	again, since the *100 scale factor is only applied if the units are
	not specified.

2011-06-06   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/autoroute.c, src/macro.h: Remove memory allocation from
	src/macro.h When we started using GLists for various objects, we also changed
	the looping macros to allocate copies of the list in order to avoid
	problems with list integrity in case items were removed during the
	iteration.  However, this caused memory leaks whenever there was an early return
	from the middle of the list. Bug lp-792139 shows pcb using over 2Gb
	of memory and crashing when optimizing rats on a large board.  This patch saves the next pointer before the loop body, rather than
	allocating a whole new list, to handle element deletions.  Closes-bug: lp-792139

2011-06-01   Krzysztof Kościuszkiewicz * k dot kosciuszkiewicz AT gmail dot com *

	* configure.ac, doc/Makefile.am, doc/gs/Makefile.inc: doc: use
	pdflatex instead of latex

2011-06-01   Krzysztof Kościuszkiewicz * k dot kosciuszkiewicz AT gmail dot com *

	* doc/Makefile.am, doc/gs/Makefile.inc: doc: skip generation of GIF
	images

2011-06-04   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/file.h, src/parse_l.l, src/parse_y.y: Add support for reading
	unit suffixes in parser Bumped PCB_FILE_VERSION up to 20110703.  Removed old unit-reading code from parse_l.l since it was missing
	several units that we plan to support, and the scaling was backward
	for non-base units.  Also, we now read all numbers as doubles, except those that need
	integers (array indices and flags, mainly).  All measurements are
	round()ed to ints, after scaling, since that's what BDimension is
	and we don't want anomalies.  The old NUMBER and FLOAT terminals in parse_y have been replaced by:   1. INTEGER   - an integer, unscaled   2. number    - floating or integer, unscaled   3. measure   - a (possibly suffixed) measurement, with                  non-suffixed measurements read in cmils   4. oldmeasue - non-suffixed measurement, read in mils One exception is the PolyArea[] field. This is still read in cmil^2
	until we figure out what to do with it.  This way the parser works independently of PCB's internal base
	units, and supports umil, cmil, mil, in, nm, um, mm, m and km unit
	suffixes. The parsing code should also be clearer now since not
	everything is NUMBER, with scale factors handled after-the-fact with
	/100's or in the lexer.  Additionally, we now allow floating-point values for all
	measurements (even old-style mil fields), and pcb will allow spaces
	between measurements and their suffixes.  Actually using these
	``features'' will probably break tools that read .pcb files, though.

2011-05-27   Felix Ruoff * Felix AT posaunenmission dot de *

	* doc/pcb.texi:  Replace @extend with @noindent in docu-source  If the @extend keyword is used to remove an intentation, the text
	will have a  linebreak, where the source has one. If @noindent is
	used instead, the lines will be breaked as in normal paragraphs.

2011-05-25   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Fix docu for 'ImportGUI()'

2011-05-27   Felix Ruoff * Felix AT posaunenmission dot de *

	* doc/pcb.texi: Docu: Remove incomplete irritating sentence

2011-05-31   Felix Ruoff * Felix AT posaunenmission dot de *

	* doc/pcb.texi: Remove repeated word in documentation

2011-05-17   Alberto Maccioni * alberto dot maccioni AT gmail dot com *

	* doc/Makefile.am, doc/gcode.pcb, doc/gcode_control_img.eps,
	doc/gcode_tool_path.eps, doc/pcb.texi: Add documentation for G-Code
	export GUI This patch contains the documentation changes from lp:699476.  It
	adds a new manual section on exporters and documents the gcode
	exporter.  Sample pcb file is added with control image and the
	resulting toolpath.   Reviewed-by: Felix Ruoff * Felix AT posaunenmission dot de *
	 Reviewed-by: Krzysztof Kościuszkiewicz * k dot kosciuszkiewicz AT
	 gmail dot com * Closes-bug: lp-699476

2011-05-24   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gerber/gerber.c: gEDA-dev:
	gerber-cleanup-0006-Change-a-couple-more-0-s-to-NULL-s.patch

2011-05-24   Andrew Poelstra * asp11 AT sfu dot ca *

	* globalconst.h, src/hid/gerber/gerber.c: gEDA-dev:

	gerber-cleanup-0005-Remove-old-now-unused-aperture-structures-functions.patch

2011-05-24   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gerber/gerber.c: gEDA-dev:

	gerber-cleanup-0004-Use-new-aperture-functions-output-100-equal-to-origi.patch

2011-05-24   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gerber/gerber.c: gEDA-dev:

	gerber-cleanup-0003-Add-new-aperture-functions-but-don-t-use-them.patch

2011-05-24   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gerber/gerber.c: gEDA-dev:

	gerber-cleanup-0002-Remove-global-variable-dependence-from-maybe_close-a.patch

2011-05-24   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gerber/gerber.c: gEDA-dev:
	gerber-cleanup-0001-Remove-unused-Aperture-structure.patch

2011-05-25   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/hid/gtk/gui-output-events.c: hid/gtk: Fix tooltips Closes-bug: lp-786733

2011-05-25   Felix Ruoff * Felix AT posaunenmission dot de *

	* doc/pcb.texi, src/global.h: gEDA-user: PCB: option dumpmenu
	missing A patch to remove this from documentation (and one variable from the
	source) is appended.  Kind regards, Felix Am 25.05.2011 19:11, schrieb DJ Delorie: > I think that option is a
	leftover from my initial HID conversion.  > > It would have been
	lesstif-specific anyway, the gtk hid has its own > menu file
	(gpcb-menu.res, same locations) > > >
	_______________________________________________ > geda-user mailing
	list  > geda-user AT moria dot seul dot org >
	http://www.seul.org/cgi-bin/mailman/listinfo/geda-user > >From 94458c63ae97135964c41f4966b9cdf65ee4ec27 Mon Sep 17 00:00:00
	2001  From: Felix Ruoff * Felix AT posaunenmission dot de * Date:
	Wed, 25 May 2011 14:36:34 +0200 Subject: [PATCH 50/50] Remove
	commandline-option 'dumpmenu' from docu and source

2011-05-23   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gerber/gerber.c: gEDA-dev: Gerber hid code cleanup New patch is as follows (sizeof and casts fixed):

2010-03-18   Newell Jensen * pillar2012 AT gmail dot com *

	* src/hid/png/png.c: hid/png: draw zero-length arcs properly on
	export Closes-bug: lp-699314  Reviewed-by: Patrick Bernaud * patrickb AT
	chez dot com *  Reviewed-by: Krzysztof Kościuszkiewicz * k dot
	kosciuszkiewicz AT gmail dot com *

2008-01-04   Wojciech Kazubski * wk0 AT o2 dot pl *

	* lib/geda.inc, lib/misc.inc: add more crystal footprints to m4
	library Currently m4 symbols contain one footprint for crystal holder
	(HC49), wich is not accurate, pin spacing is a bit too big and the
	outline is too small.  This patch adds several m4 crystal holder footprints of different
	size, 2 or 3 pin, both standing and laying.  Closes-bug: lp-699440  Reviewed-by: Bert Timmerman * bert dot
	timmerman AT xs4all dot nl *  Reviewed-by: Krzysztof
	Kościuszkiewicz * k dot kosciuszkiewicz AT gmail dot com *

2011-01-02   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-dialog.c: hid/gtk: use
	GTK dialog for confirming file-overwrite Since GTK 2.8 GTK provides an dialog for confirming
	file-overwriting.  This dialog will be introduced by this patch.
	Needless code which was used for this will be removed.  Closes-bug: lp-699508  Reviewed-by: Krzysztof Kościuszkiewicz * k
	dot kosciuszkiewicz AT gmail dot com *

2011-01-09   Felix Ruoff * Felix AT posaunenmission dot de *

	* doc/refcard.tex: Fix refcard (missing footnote and add rotate
	buffer) The shortcut 'shift-F7' for rotating paste buffer by 90 degree is
	added as suggested in bug LP-699391 (formerly sf-1112590).  Fix footnote used in the tabular environment.  Closes-bug: lp-699391  Reviewed-by: Krzysztof Kościuszkiewicz * k
	dot kosciuszkiewicz AT gmail dot com *

2011-05-17   Felix Ruoff * Felix AT posaunenmission dot de *

	* doc/pcb.texi: Fix doku for invisibleObjectsColor (color) Closes-bug: lp-699306

2011-04-24   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/gpcb-menu.res: Fix warning for gtk describing menuitems With GTK+ there are no 'describing menuitems' avaiable (the
	out-grayed items in lesstif-GUI). For this reason, the items in
	gpcb-menu.res are ignored and a warning is displayed at the
	message-log.  This patch fixes this by removing these describing menuitems for the
	gtk-GUI and renamed the described items to a more explaining label.
	It also added mnemonics for these menu-items.  Closes-bug: lp-769815

2010-12-28   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/hid/gtk/gui-output-events.c: hid/gtk: Cleanup conditional code
	because GTK 2.12 is required now Closes-bug: lp-699510

2011-05-20   Colin D Bennett * colin AT gibibit dot com *

	* src/draw.c: Fix typo exporting plated vs unplated drills.  Closes-bug: lp-785463

2011-05-20   DJ Delorie * dj AT delorie dot com *

	* src/hid/png/png.c: Don't register the PNG hid if there are no file
	formats to use.  In some cases, the GD library may not have any usable image formats
	for us to use, resulting in an empty filetypes[] table.  Rather than
	trying to accomodate an empty table during export, it's easier (and
	perhaps better) to simply not register the PNG hid in that case.
	Thus, the exporter is simply not available when the table is empty.

2011-03-23   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/file.c: Ignore *.pcb files on generating library Closes-bug: lp-699261

2011-05-20   DJ Delorie * dj AT delorie dot com *

	* src/hid/common/flags.c, src/hid/gcode/gcode.c,
	src/hid/gerber/gerber.c, src/hid/hidint.h, src/hid/nelma/nelma.c,
	src/hid/ps/ps.c: Add option to specify gerber output file style.   --name-style <fixed|single|first|eagle>                         Naming style for individual gerber files Default is "fixed" which uses a fixed name (foo.top.gbr) for each
	layer.  "single" uses the layer's name if there's exactly one layer
	in that group, else the fixed name.  "first" always uses the layer
	name, choosing the first layer in each group for the name.  "eagle"
	mode adds a three-character suffix instead of a separate type and
	extension.  Affects-bug: lp-700877

2011-05-19   DJ Delorie * dj AT delorie dot com *

	* src/move.c: Avoid top/bottom issues with layer deletion.  PCB does not currently support boards without a top or bottom, so
	prevent the user from deleting them (they'd need to reassign the
	top/bottom groups first).

2011-05-19   DJ Delorie * dj AT delorie dot com *

	* src/draw.c: Fix Mark size math wrt unplated holes.  When computing the Mark size, check for the first pin being a hole
	and use the drill size rather than the copper size.

2011-05-19   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/buffer.c: buffer.c: Update polygon r-tree when adding a
	polygon to the buffer.  This resulted in a crash when rotating a buffer containing a
	polygon, as the polygon r-tree associated with the buffer was NULL
	despite the polygon count being non-zero.   Reported-by: Gabriel Paubert * paubert AT iram dot es *

2011-05-18   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/move.c: move.c: Adjust the object counters when moving objects
	between layers This fixes a crash introduced by commit
	2ce35292b9e96da38cb56878005aba20891689eb, "Convert board objects to
	GLists of g_slice allocated memory" It doesn't fix entirity of the defect reported in that bug, but it
	restores the prior behaviour where PCB would hang, not segfault.   Reported-by: Colin Bennett * colin AT gibibit dot com * Affects-bug: lp-783640

2011-05-17   Gabriel Paubert * paubert AT iram dot es *

	* src/hid/gtk/gui-output-events.c, src/hid/lesstif/menu.c: Lesstif +
	GTK HIDs: Ignore ISO Level3 shift modifier key This key press is found on some international keyboards (e.g.
	Spanish).  If we don't ignore it, PCB complains about the key not
	being tied to an action when it is pressed.   From the committer, Peter Clifton * pcjc2 AT cam dot ac dot uk *
	...  Thanks to Gabriel for reporting this and providing the patch
	for Lesstif. I have updated the patch to make the equivalent change
	to the GTK HID as well.   Signed-off-By: Peter Clifton * pcjc2 AT cam dot ac dot uk *

2011-05-17   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/buffer.c: buffer.c: Fix crash in SmashBufferElement The element is allocated with g_slice_new, so must be free'd with
	g_slice_free.  Broken since commit 2ce35292b9e96da38cb56878005aba20891689eb:     Convert board objects to GLists of g_slice allocated memory

2011-05-16   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/rtree.c, src/rtree.h: rtree.c: Remove unused r_substitute()
	function This function was used to update r-trees when they contained objects
	changed memory location. Since we no longer shuffle objects around
	when we delete them, this function is no longer required.

2011-05-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gl.c: GTK/GL: Draw pretty translucent polygons
	in thindraw-poly mode Eventually we need some way to configure this.. it might be nice in
	non-thindraw mode too. If people want thin-draw to gain extra speed,
	rather than have it actually slower (due to fill + outline), then a
	way to turn it off would also be useful.

2011-05-14   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gl.c: GTK/GL: Add facility to set an alpha
	multiplier for the current rendering

2011-05-14   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gl.c: GTK/GL: Refactor alpha handling Replace "alpha_mult" in set_gl_color_for_gc () with just explicitly
	calling this the "a" (alpha) value of the colour in question.

2011-05-14   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gl.c: GTK/GL: Refactor GL colour setup handling

2011-05-14   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-gl.c: hid/gtk: Remove
	unused gc->erase parameter from GDK and GL renderers

2011-05-14   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-gl.c,
	src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui.h: hid/gtk: Setup custom
	polygon renderer for the GL HID only

2011-05-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gl.c: gtk/gl: Don't set "magenta" for a NULL
	color passed to ghid_set_color The code has a strdup (name), followed by a test for name == NULL.
	If name _were_ ever NULL, the strdup would crash, so we can remove
	this test.

2011-05-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/common/hidgl.c: hid/common/hidgl.c: Use tags on circular
	contours to render them faster This lets us avoid the polygon tesselator for circular contours, and
	lets us render a different number of vertices in our appoximation
	depending upon zoom level.

2011-05-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/common/hidgl.c: hid/common/hidgl.c: Fix vertex array state
	preservation Fixes a bug with crosshair attached objects not being visible when
	the grid was rendered.   Reported-by: Colin D Bennett * colin AT gibibit dot com *
	Closes-bug: lp-780958

2011-05-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/Makefile.am, src/hid/batch/batch.c, src/hid/bom/bom.c,
	src/hid/common/hidinit.c, src/hid/common/hidnogui.c,
	src/hid/common/hidnogui.h, src/hid/gcode/gcode.c,
	src/hid/gerber/gerber.c, src/hid/gtk/gtkhid-main.c,
	src/hid/hidint.h, src/hid/lesstif/main.c, src/hid/lpr/lpr.c,
	src/hid/nelma/nelma.c, src/hid/png/png.c, src/hid/ps/eps.c,
	src/hid/ps/ps.c: Refactor application of the default hidnogui HID
	handlers.  Replace usage of apply_default_hid() just prior to registering a HID
	with an early call to the new common_nogui_init() function which
	pre- applies the defaults, rather than post-replacing NULL handlers.  As this was the last user of the apply_default_hid() function,
	remove it. Good riddance to yet another place which had to be
	updated every time a new HID member was added.  The default nogui HID is now constructed explicitly by a call to
	nogui_hid_get_hid (), which is called from hid_init(). This is
	different to the other HIDs, as the nogui "hid" is never explicitly
	registered.

2011-05-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/batch/batch.c: hid/batch: #include
	"hid/common/draw_helpers.h" which was missing Fixes a compiler warning about an implicitly declared function.

2011-05-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/lpr/lpr.c, src/hid/ps/ps.c, src/hid/ps/ps.h: hid/ps:
	Provide helper function to fill in HID members useful to other HIDs This avoids setting up the drawing routines of the lpr HID with
	apply_default_hid, which is a little opaque.

2011-05-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/common/hidinit.c: hid/common: Remove unused function
	hid_register_gui() GUIs are registered with the same API as exporter HIDs.

2011-05-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/Makefile.am: src/Makefile.am: Use AM_CFLAGS instead of
	overriding CFLAGS directly

2011-05-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c, src/hid/lesstif/main.c: Apply the
	default hidnogui HID to the GUIs as well.  This saves them having to re-implement NOOP implementations for
	functions the "nogui" HID provides a non "CRASH;" implementation
	for.

2011-05-09   Ineiev * ineiev AT users dot berlios dot de *

	* src/hid/batch/batch.c: fix batch gui

2011-05-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/search.c: search.c: Don't allow selecting pads or pins of
	locked elements The locked flag test was mistakenly being applied ot the pad or pin
	its-self, not the parent element.

2011-05-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gl.c: GTK/GL: Split out sub-compositing setup
	into a separate function.

2011-05-08   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gl.c: GTK/GL: Make the silk layer translucent

2011-05-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gl.c: GTK/GL: Sub-composite objects on each
	layer using the stencil buffer This avoids the highlight where translucent objects on a given layer
	are drawn over each other. It enables us to have a translucent silk
	screen layer and still be able to read the text.

2011-05-08   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c, src/hid.h, src/hid/common/hidnogui.c: Add end_layer()
	function to HID API to mark the end of a layer's drawing This is going to be useful for the GTK/GL renderer to manage sub-
	compositing translucent objects within each layer.

2011-05-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gl.c: hid/gtk: Enable transparent lines in GL
	renderer

2011-05-08   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/common/hidgl.c, src/hid/common/hidgl.h,
	src/hid/gtk/gtkhid-gl.c: Manage stencil bitplanes so we don't have
	to clear them every time.  Clearing the stencil buffer is a slow operation (especially on cards
	limited by fill rate (cough.. Intel.. cough), so the more clears we
	can avoid, the better.

2011-05-08   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/common/hidgl.c: hid/common/hidgl.c: Tidy up polygon
	contour tessleation Move the gluTessBeginPolygon and gluTessEndPolygon calls inside
	tesselate_contour, rather than duplicating it in each caller.  Also, fix up some comments which were out of date or inaccurate.

2011-05-08   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid.h, src/hid/common/draw_helpers.c,
	src/hid/common/hidnogui.c, src/hid/gerber/gerber.c,
	src/hid/png/png.c: HID: Remove "dicer" flag from HID structure.  We don't pay any attention to this flag - always dicing the polygons
	in our common_fill_pcb_polygon routine. HIDs which don't want diced
	polygons implement their own hook for fill_pcb_polygon.

2011-05-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/common/hidgl.c, src/hid/common/hidgl.h,
	src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-gl.c,
	src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui.h: Add raw polygons
	support for the GTK+GL HID, bypassing the no-holes dicer Uses the OpenGL stencil buffer to make drawing polygons with holes
	faster.  1. Turn Stenciling on, updates to colour buffer off 2. Clear stencil buffer to 0 3. Paint polygon holes, setting those areas of the stencil buffer to
	1 4. Switch on stencil test (== 0), turn on updates to colour buffer 5. Paint outer polygon through areas of the stencil buffer still 0 6. Clear stencil buffer, switch off stencilling.  Caveat: This function might throw up if it is used whilst drawing the mask,
	since that uses stenciling as well. We don't use polygons on the
	mask, so its not a a problem. (Mask cutouts for octagonal pins do
	work correctly).

2011-05-05   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c: Don't prematurely dismiss the progress
	dialog.

2011-05-05   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c: Improve lesstif progress dialog.  Closing the progress dialog cancels the operation.  Add a sliding
	scale that shows progress.  Make the dialog modal so you can't edit
	the pcb while autorouting.  Fix event loop to handle all pending
	events and redraw.  Fix elapsed time logic.

2011-05-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Don't auto-close progress
	dialog until commanded to We pass the cancel return value to our caller, but it is up to them
	to dismiss the progress dialog.  Utilise the response_id to determine when the dialog has been closed
	or cancelled, rather than a separate stop_loop variable (which was a
	legacy from the blocking gtk_dialog_run() this code was based upon.  Tidy up due to resulting simplifications.

2011-05-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/lesstif/main.c: hid/lesstif: Fix testing timeout value in
	lesstif_progress This looks like a typo, but was me testing different values of time
	interval between processing events.

2011-05-04   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/lesstif/main.c: hid/lesstif: Simple progress()
	implementation to present a cancel button Does not yet draw an actual progress bar, as I'm not familiar enough
	with coding for Lesstif.

2011-05-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/autoroute.c: autoroute.c: When live-drawing, only emit one via
	per location I'd accidentally put the live-draw via in a place where it would
	emit one via for every layer group - causing warnings in PCB's log
	about dropped vias.

2011-05-04   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-library-window.c: hid/gtk: Fix crash in library
	window I missed a (GList *)->data dereference when converting to GList
	object storage. Unfortunately, the parameter in question was void *
	typed, so the compiler didn't notice my mistake.

2011-05-03   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/autoroute.c: autoroute.c: Provide a progress update for the
	autorouter Provide a completion metric related to what pass the auto-router is
	processing, how many objects on its heap within a given pass it has
	processed, and how many sub-nets it has routed from the total.  The progress isn't entirely linear, but the subdivision of process
	steps means it does at least march along without too many pauses.  It is now possible to cancel the autorouting with a non-zero
	response code from the gui's progress dialog.  Tested with the GTK HID, Lesstif doesn't yet have an implementation
	for HID->progress()

2011-05-03   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Provide a simple progress
	dialog implementation

2011-05-03   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-gl.c,
	src/hid/gtk/gui-top-window.c, src/hid/gtk/gui.h: Fix mesa crash on
	startup (for some mesa versions) I'm not sure why it crashed, but it seems that providing a realize
	handler which fiddles with the GL context solves it. The underlying
	problem appears to have been fixed in later mesa versions.  Leaving this commit for the benefit users of broken mesa versions.

2011-05-03   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* configure.ac: Make --enable-gl default when building the GTK HID Lets get this feature some testing for now - we may decide to revert
	the default before the next release, depending on how things
	progress.

2011-05-03   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* configure.ac, src/Makefile.am, src/hid/common/hidgl.c,
	src/hid/common/hidgl.h, src/hid/gtk/gtkhid-gl.c, src/hid/gtk/gui.h: 
	hid/gtk: Drop in GL renderer - WOOT! Much of the generic GL drawing stuff lives in a new common helper,
	hid/common/hidgl.[ch]. Unavoidably, there is a lot of GUI specific
	setup and teardown code.  There are probably still bits of code in hid/gtk/gtkhid-gl.c which
	could be moved to a shared place if / when other HIDs wish to use GL
	rendering.  Currently only rat lines are drawn transparent, as we need to sub-
	composite each layer to avoid a confusing field of hightlights being
	drawn where line ends overlap.  configure --enable-gl now checks for the required GL, glu and
	GtkGLEext.  More good stuff to come soon! Credits:   Algorithm to calculate number of segments to use in circular   curve approximation suggested by DJ Delorie.    Thanks to Krzysztof Kościuszkiewicz for testing and debugging   some issues with the GL_SCISSOR_TEST being used.    An small team of dedicated testers who have provided feedback,   bug reports and encoragement throught the long development of   this branch.

2011-05-03   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/common/flags.c, src/hid/gtk/gtkhid-main.c,
	src/hid/lesstif/main.c, src/main.c, src/misc.c, src/misc.h,
	src/parse_y.y: Universal use of GetValue This is a patch to make all numeric code use GetValue, to unify
	parsing code and make sure everything uses the same units. Contained
	is almost a complete rewrite of GetValue to simplify code that uses
	funny units.   Reviewed-by: Peter Clifton * pcjc2 AT cam dot ac dot uk * When committing the patch from Launchpad, I rebased it to apply with
	strcasecmp and strncasecmp changed to strcmp and strncmp, as changed
	by commit 31b7309764f2e4bd40141038c30f1f38309efb4a Affects-bug: lp-772027

2011-05-03   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/gtk/gtkhid-main.c, src/hid/lesstif/main.c,
	src/hid/png/png.c, src/misc.c, src/parse_l.l, src/report.c: Add
	case-sensitivity to all unit-reading code  Reviewed-by: Peter Clifton * pcjc2 AT cam dot ac dot uk * This breaks existing behaviour for any users using capitalised units
	in scripts, but as in general, units ARE case sensitive, we should
	not support anything other than their canonical names.  Affects-bug: lp-772027

2011-05-03   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/autoroute.c: autoroute.c: Simplify some long if statements In a couple of cases, almost all the processing logic was burried
	inside an if statement checking for validity of this processing
	pass. Re-organise to test for an invalid condition, then "continue;"
	the loop if that is hit.  This reduces the nesting of some rather complex functions.

2011-05-03   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c: change.c: Fix drawing artaefacts when rotating the
	buffer In commit 0213e4791f9aa4008c8d06a48c377b338f6e1a43 converting
	{Hide,Restore}Crosshair calls to become notify_crosshair_changed, I
	mixed up two of the true / false parameters to to
	nofify_crosshair_changed.  This caused the GUI to get out of sync undrawing and redrawing the
	crosshair attached objects around the change.  Manually checking the diff from the offending commit, I don't see
	any other calls which were transposed incorrectly.   Reported-by: DJ Delorie * dj AT delorie dot com *

2011-05-02   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/lesstif/main.c: hid/lesstif: Fix dropped crosshair
	artaefacts when dragging objects.  It seems that the idle_proc redraw code assumed the crosshair was
	switched off upon entry, proceeding to redraw everything (and
	obliterate the crosshair in the process). The final show_crosshair
	(1) call only has any effect if the crosshair was notionally off
	before hand.  As a quick work-around (you could probably do it with less flicker
	with a little more logic), ensure the crosshair is turned off just
	prior to redrawing the screen - so it will switch back on correctly
	afterwards.

2011-05-01   DJ Delorie * dj AT delorie dot com *

	* src/macro.h: Fix typo in new ELEMENTARC_LOOP macro.  line -> arc

2011-05-01   DJ Delorie * dj AT delorie dot com *

	* src/insert.c: Fix polygon clears on insert.  Add the calls to update polygon clearances when a point is inserted
	into a line.

2011-05-01   DJ Delorie * dj AT delorie dot com *

	* src/file.c, src/file.h: Make file version smarter.  Restructure the FileVersion[] output to only output the actual
	needed version, in cases where a rarely used feature requires a new
	pcb.  This avoids unnecessary backwards incompatibility.

2011-05-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c: hid/gtk: Fix conversion from world to
	screen in ghid_invalidate_lr I accidentally muddled the Vx and Vy conversions routines for the
	right and top coordinates. In general, this resulted in the
	incorrect region being invalidated - manifesting as artaefacts on
	the the screen, such as when dragging objects around.  Also drop the (double) cast.. having checked, Vx and Vy take integer
	arguments. I'm not sure why the rest of this file casts to double.

2011-05-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c: hid/gtk: Rest clip region for bg_gc, as
	it is used for expose events.  We set the clip region in the redraw_region() function to clip
	drawing to the area which we intend to repaint, but we did not clear
	the clip again.  This caused expose events to be clipped to the last redraw area
	rather than the required damaged area.

2011-05-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c: hid/gtk: Remove unused variable in
	use_mask() function

2011-04-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/lesstif/main.c: hid/lesstif: Remove unused variable in
	use_mask routine

2011-04-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/mymem.c: mymem.c: Provide an optional implementation of
	g_list_free_full () This API was only added in GLib 2.28, and it is just a small
	convenience function. If an insufficient GLib version is found,
	provide our own implementation.

2011-04-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid.h, src/hid/gtk/gtkhid-gdk.c, src/hid/lesstif/main.c: 
	Remove live drawing parameters for HID->use_mask() These are no longer used by the autorouter, so lets clean the
	use_mask() interface to JUST deal with _masking_ from now on ;)

2011-04-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/autoroute.c: autoroute.c: Utilise new HID interface for debug
	drawing This gives the HID an opportunity to refuse the autorouter's
	drawing.  Both the GTK/GDK and Lesstif GUIs accept this drawing, so
	either should be suitable for use whilst debugging workings of the
	auto-router.  The PCB+GL renderer (not yet landed) needs quite a lot of setup
	calls to be made before it can allow the core do draw, hence the
	need for this notification / permissioning.

2011-04-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/autoroute.c: Fix livedraw to work with normal rendering APIs NB: This relies on the immutability of board object pointers, so
	must not be applied to older PCB code-bases which would often
	re-locate storage of board objects to keep them in a contiguous
	array.

2011-04-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/autoroute.c, src/buffer.c, src/create.c,
	src/djopt.c, src/draw.c, src/file.c, src/find.c, src/fontmode.c,
	src/global.h, src/macro.h, src/move.c, src/mymem.c, src/mymem.h,
	src/puller.c, src/rats.c, src/remove.c, src/toporouter.c: Convert
	board objects to GLists of g_slice allocated memory This enables pointers for these objects to be immutable during their
	lifetime, which is a _huge_ benefit for some operations.  Having otherwise was becoming VERY tiresome, and was a perenial
	source of bugs tripping up novice and experts of the codebase alike.  Due to the risks associated with modifying the structure being
	iterated over, this patch makes the relevant *_LOOP macros iterate
	over a shallow copy of the underlying GList. This is slight overkill
	for many cases, but until we have identified which do not modify the
	data-structures it is wise to keep as we are.

2011-04-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/puller.c: puller.c: Re-write parts to use hash tables to store
	stashed extra info This vastly simplifies some of the pointer arithmetic which was
	previously used to account for underlying location changes when
	objects moved.  Having tested this, it produces different results than before
	application.  This may be due to it zapping some underlying bug
	which has been removed in the patch, or perhaps more likely, that
	its slightly different iteration order over the lines and arcs (due
	to g_hash_table_foreach) will result in different pathologies being
	hit.

2011-04-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/djopt.c: djopt.c: Tidy up padcleaner() using loop macros

2011-04-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/djopt.c: djopt.c: Tidy up element_name_for() by using loop
	macros

2011-04-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/move.c: src/move.c: Gratuitous cosmetic changes Split from a future patch which ended up making these changes to
	help with consistency. Pre-patching here to avoid a huge delta when
	that patch lands.

2011-04-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/buffer.c: src/buffer.c: More cosmetic changes

2011-04-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/buffer.c: src/buffer.c: Gratuitous cosmetic changes Split from a future patch which ended up making these changes to
	help with consistency. Pre-patching here to avoid a huge delta when
	that patch lands.

2011-04-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/remove.c: remove.c: Gratuitous cosmetic changes s/return (NULL)/return NULL/ Split from another patch where I just couldn't resist some tidying.

2011-04-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/move.c, src/move.h: Make Move*ToLayerLowLevel() local to
	move.c No point in exporting these functions.

2011-04-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/rats.c: rats.c: Tidy up FindPad() Changes are aimed to simplify the delta of a future patch relating
	to object storage. Moves indexed addressing of object structures to
	fewer places.

2011-04-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/toporouter.c: src/toporouter.c: Tidy up escape() routine Changes are aimed to simplify the delta of a future patch relating
	to object storage. Moves indexed addressing of object structures to
	fewer places.

2011-04-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/parse_y.y: parse.y: Convert an open-coded loop to use
	ALLPOLYGON_LOOP

2011-04-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-pinout-preview.c: hid/gtk: Remove unused code from
	pinout_set_data

2011-04-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Tidy up DrawEMark Changes are aimed to simplify the delta of a future patch relating
	to object storage. Moves indexed addressing of object structures to
	fewer places.

2011-04-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/autoroute.c, src/crosshair.c, src/edif.y, src/global.h,
	src/mtspace.c, src/polygon1.c: Include glib.h from global.h To avoid compiler warnings, remove the now duplicated (or
	unecessary) #define ABS definitions from various files.  There has been a build-time dependance on GLib since the toporouter
	was added. Lets start to make use of it where it is useful.

2011-04-29   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/lesstif/main.c: hid/lesstif: Hook up debug drawing APIs

2011-04-29   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-main.c,
	src/hid/gtk/gui.h: hid/gtk: Hook up debug drawing APIs

2011-04-29   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid.h, src/hid/common/hidnogui.c: Add HID apis to handle live
	debug drawing from the core It is envisaved that this API should ONLY be used for debugging, not
	presenting a user-interface. In general, the GUIs may have their own
	special requirements for drawing the board, and this API is not
	meant to allow the core to augment or present user-visible drawing.
	This is reflected in the API naming.  Request permission for debug drawing HID *ddraw = gui->request_debug_draw (void); Returns a HID pointer which should be used rather than the global
	gui-> for making drawing calls. If the return value is NULL, then
	permission has been denied, and the debug drawing must not continue.  Flush pending drawing to the screen void ddraw->flush_debug_draw (void); May be implemented as a NOOP if the GUI has chosen to send the debug
	drawing directly to the screen.  When finished, the user must inform the GUI to clean up resources: ddraw->finish_debug_draw (void); Any remaining rendering will be flushed to the screen.

2011-04-29   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/lesstif/main.c: hid/lesstif: Ensure crosshair and mark
	updates go to the screen The "pixmap" global might be pointing at one of the backing pixmaps
	when we are called.  Does not fix any known bug, just in preparation for another patch
	relating to debug drawing which may leave pixmap pointing to the
	backing store.

2011-04-29   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c: hid/gtk: Invalidate the damaged region,
	not the whole view

2011-04-29   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/print.c: Subject: PCB / Physical unit macros patch 2: print.c This patch works correctly (i.e., no change in output) for my test
	file; about 6800 lines of postscript. The only differences were in
	the timestamps, which naturally were slightly different.  I also confirmed visually that the before and after printouts look
	the same :)  Rebased to git HEAD by Peter Clifton * pcjc2 AT cam dot ac dot uk *

2011-04-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/autoroute.c: autoroute.c: Remove a couple of completely unused
	debug routines

2011-04-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/global.h: global.h: Remove unused OutputType members Width and
	Height

2011-04-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c: Fixup usage of the never initialised, obsolete,
	Output.{Width,Height} For the stroke handling case (relating to zooming) it isn't clear
	what is correct, but for now, substitute PCB->MaxWidth and
	PCB->MaxHeight.  This may still leave stroke based zooming broken, but it was
	CERTAINLY broken before.

2011-04-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-pinout-preview.c: hid/gtk: Remove dead code (due
	to bitrot) from pinout_zoom_fit() function The code tried to compare against the uninitialised, unused
	Output.Width and Output.Height. Assuming these were initialised to
	zero by the compiler, the conditional would always cause the
	function to return FALSE.  Remove the conditional, and drop the boolean return value from this
	function, short-cutting the caller to the utilised code-path.  This removes the (long broken) feature where by the natural size (in
	pixels) of the pinout preview would be reduced if it was greater
	than 3/4 of the viewport size (in pixels) of the active PCB.

2011-04-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/global.h: Remove unused old{Obj,Line,Box}State members from
	the OutputType structure

2011-04-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c, src/main.c: main.c: Remove setup of global graphics
	contexts which are never used draw.c stashes these ones creates its own. Drop the unused ones, and
	drop the stashing in draw.c

2011-04-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/autoroute.c: autoroute.c: Use the autoroute graphics context,
	not Output.fgGC I'm aiming to confine  Output.* graphics contexts to draw.c for now.

2011-04-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/data.c, src/data.h: Remove unused global variable
	Zoom_Multiplier Along with a following commented series of numbers which git log
	suggests was originally related to pre-defined zoom ratios.

2011-04-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/macro.h: macro.h: Remove unused (obsolete) conversion macro
	TO_PCB

2011-04-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c: action.c: Replace use of obsolete conversion macro
	TO_PCB with a constant.  This changes the location tolerance in NotifyLine()'s call to
	LookupConnection() from what previously evaluated to 100 internal
	units, to a constant of one internal unit.  This is consistent with other similar calls to LookupConnection(),
	where it appears that a wide search area is not desired, so the
	smallest possible value is passed.

2011-04-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/data.c, src/data.h, src/file.c: Remove unused variables Xorig
	and Yorig

2011-04-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/macro.h: macro.h: Remove unused, obsolete conversion macros
	TO_PCB_X and TO_PCB_Y

2011-04-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c: action.c: Partially fix up some stroke handling bugs 1. Stroke event coordinates are already in PCB units, drop bogus
	conversions 2. Fix incorrect variable name

2011-04-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/file.c: file.c: Write out correct cursor location in the PCB
	file

2011-04-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/data.c, src/data.h: data.c: Remove unused globals theScreen,
	clipBox, vxl, vxh, vyl, vyh

2011-04-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c, src/print.c, src/print.h: print.c: Pass an explicit
	graphics context to PrintFab() and friends This is a step towards being able to move the active graphics
	contexts out of the global scope.

2011-04-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/global.h, src/main.c: Remove unused Output.GridGC variable

2011-04-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/rtree.c: rtree.c: Remove old X11 based debug drawing code The core doesn't do drawing any more.. and can't assume that the
	GUI's graphics contexts are actually X11 or GDK graphics context, so
	this code can't work any more - remove it.

2011-04-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/batch/batch.c, src/hid/common/extents.c,
	src/hid/gerber/gerber.c, src/hid/gtk/gtkhid-gdk.c,
	src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui.h,
	src/hid/lesstif/main.c, src/hid/png/png.c, src/hid/ps/eps.c: HIDs:
	Remove NOOP set_draw_faded implementations

2011-04-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/common/hidnogui.c: hid: Provided non-CRASH default
	implementation of HID->set_draw_faded There is no point in various HIDs providing their own NOOP
	implementation

2011-04-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid.h, src/hid/batch/batch.c, src/hid/common/extents.c,
	src/hid/common/hidnogui.c, src/hid/gcode/gcode.c,
	src/hid/gerber/gerber.c, src/hid/gtk/gtkhid-gdk.c,
	src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui.h,
	src/hid/lesstif/main.c, src/hid/nelma/nelma.c, src/hid/png/png.c,
	src/hid/ps/eps.c, src/hid/ps/ps.c: hid: Remove unused
	set_line_cap_angle API

2011-04-27   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gui.h: hid/gtk: Make
	ghid_show_crosshair() local to the GDK implementation

2011-04-27   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Invalidate the crosshair
	rather than drawing it immediately

2011-04-27   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gui-output-events.c,
	src/hid/gtk/gui.h: Revert "hid/gtk: Add hooks to tell the render
	when we start/stop drawing" This reverts commit 332cb8ddc1cc032ac29c7d2b9a0051ccc228b6da.  Since crosshair updates are now handled by notifications to the GUI,
	this isn't required for the forthcoming PCB+GL support.

2011-04-27   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-output-events.c: hid/gtk: Avoid extra crosshair
	and attached object redraws The crosshair movement is handled by a notify_crosshair_change()
	call in ghid_note_event_location().

2011-04-27   Andrew Poelstra * asp11 AT sfu dot ca *

	* globalconst.h, src/action.c, src/autoplace.c, src/buffer.c,
	src/change.c, src/const.h, src/create.c, src/djopt.c, src/find.c,
	src/hid/batch/batch.c, src/hid/gcode/gcode.c,
	src/hid/gerber/gerber.c, src/hid/gtk/gtkhid-main.c,
	src/hid/gtk/gui-drc-window.c, src/hid/gtk/gui-misc.c,
	src/hid/gtk/gui-top-window.c, src/hid/gtk/gui.h,
	src/hid/lesstif/dialogs.c, src/hid/lesstif/lesstif.h,
	src/hid/lesstif/main.c, src/hid/lesstif/styles.c,
	src/hid/nelma/nelma.c, src/hid/png/png.c, src/hid/ps/eps.c,
	src/hid/ps/ps.c, src/main.c, src/misc.c, src/parse_l.l,
	src/print.c, src/report.c, src/vendor.c: PCB / Physical unit macros
	patch Specify various constants in physical units, converting to PCB
	internal units using macros. When reporting to the user (or
	exporting), convert dimensions to physical units using macros so the
	code does not rely on details of PCB's internal coordinates in so
	many places.

2011-04-27   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Remove old commented debug printf

2011-04-27   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Remove unused function thin_callback()

2011-04-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/crosshair.c, src/crosshair.h, src/global.h,
	src/hid/lesstif/main.c: Move crosshair on / off functionality into
	lesstif HID.  Lesstif is the only GUI which turns attached objects on and off,
	when the mouse leaves the viewport, so it might as well manage it
	internally.

2011-04-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/crosshair.c, src/hid.h, src/hid/common/hidnogui.c,
	src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-main.c,
	src/hid/gtk/gui.h, src/hid/lesstif/main.c: Give the HIDs control
	over attached object (crosshair, mark) drawing This is required if a renderer doesn't want to follow the current
	drawing model where it is assumed the core can call the HID's
	drawing APIs at any arbitrary point in time.  Expose some API from crosshair.c to perform the actual drawing on
	demand, and add hooks to the HID structure to notify the GUI when it
	would previously have called the crosshair or mark drawing routines.  This allows renderers with defined setup and tear-down requirements
	around drawing to execute them before the objects are drawn.  CrosshairOn() and CrosshairOff() now simply set the Crosshair.On
	flag and call the appropriate notification hooks.  This commit replaces all HideCrosshair() and RestoreCrosshair()
	calls with the new hooks notify_{crosshair|mark}_changed(), with an
	argument specifying whether a change is about to happen (false
	argument), or has been completed (true argument).

2011-04-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c: action.c: Convert some explicit mark redrawing to
	notification

2011-04-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/crosshair.c, src/crosshair.h, src/set.c: Separate out mark
	change notification from crosshair change notification Hook it up to notify the crosshair (which also redraws the mark) for
	now.

2011-04-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/buffer.c, src/crosshair.c, src/crosshair.h,
	src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-misc.c,
	src/hid/gtk/gui-output-events.c, src/hid/lesstif/main.c,
	src/misc.c, src/set.c: Rename HideCrosshair() and RestoreCrosshair() Whist this is a tedious rename which will probably have implications
	for some plugins, it helps to clarify what is going on with the
	crosshair across forthcoming patches which put it under the control
	of the GUIs.  The old APIs are retained for backwards compatibility with plugins,
	and will print a one-shot warning for each which is called.

2011-04-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c: hid/gtk: DrawMark from
	ghid_invalidate_all() as well as DrawAttached

2011-04-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c, src/hid/gtk/gtkhid-gdk.c,
	src/hid/gtk/gui-output-events.c, src/hid/gtk/gui-top-window.c,
	src/hid/gtk/gui.h: Let the GUIs manage the crosshair across a redraw Removes several {Hide/Restore}Crosshair() calls from the GTK HID.  These are not requried any more, as they are followed by
	invalidate_all() calls which take care of the crosshair as well.  Changes to draw.c were tested not to affect Lesstif HID

2011-04-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui.h: hid/gtk: Remove duplicated prototype

2011-04-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Remove obsolete comment

2011-04-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Remove clip_box global variable in favour of a
	more targeted one Used for polygon clipping during drawing.

2011-04-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: EraseRat() should just gather the affected
	area These were missed (or incorrectly converted) in the previous patch
	series which split gathering routines from drawing routines.  Tidy up DrawRat() to be consistent with the new code in EraseRat()

2011-04-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Separate out common code for drawing holes Makes things a bit clearer

2011-04-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Remove Gathering variable This variable is no longer needed since the "Gathering" Draw*
	functions are separate from the draw_... implementations which are
	triggered by the GUI calling for a repaint of the gathered area.

2011-04-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Split "Gathering" routines from real drawing
	routines (Text) Moves code from DrawRegularText() into its only caller
	text_callback()

2011-04-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Split "Gathering" routines from real drawing
	routines (Polygons) Moves code from DrawPlainPolygon() into its only caller
	poly_callback()

2011-04-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Split "Gathering" routines from real drawing
	routines (Arcs)

2011-04-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Split "Gathering" routines from real drawing
	routines (Lines)

2011-04-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Split "Gathering" from real drawing routines
	(Rats)

2011-04-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Split "Gathering" routines from real drawing
	routines (Pads)

2011-04-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Split "Gathering" routines from real drawing
	routines (Pins + Vias)

2011-04-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Split "Gathering" from real drawing routines
	(Element Pins and Pads)

2011-04-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Split "Gathering" from real drawing routines
	(Element names)

2011-04-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Split "Gathering" from real drawing routines
	(Element Package)

2011-04-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Split "Gathering" from real drawing routines
	(Element)

2011-04-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Fold DrawHole into its only caller,
	hole_callback

2011-04-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Move DrawPlainPin and DrawPlainVia into their
	only callers Make their code part of pin_callback and via_callback.  Drop the Gathering tests within this code, as their only callers are
	within a block where Gathering is definately set.

2011-04-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/autoplace.c, src/autoroute.c, src/draw.c,
	src/draw.h, src/find.c, src/toporouter.c, src/vendor.c: draw.c:
	Remove API ClearAndRedrawOutput(), in favour of Redraw().  These do the same thing anyway.

2011-04-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/draw.c, src/draw.h, src/set.c: draw.c: Remove
	UpdateAll() API, in favour of Redraw(), which is identical

2011-04-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/draw.c, src/draw.h: draw.c: Expose local
	Redraw() function, and remove wrapper RedrawOutput() Within the one caller ActionDisplay, combine the F_ClearAndRedraw
	and F_Redraw cases which have exactly the same effect.

2011-04-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Drop unused area parameters from Redraw(...)

2011-04-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Only set Gathering during
	hid_expose_callback() Removes setting of Gathering to false prior to calling UpdateAll()
	in ClearAndRedrawOutput(), and removes setting of Gathering to true
	after calling gui->invalidate_all() in Redraw()

2011-04-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* : Regenerate test golden files for the png output hid The colour drawn for vias changed due to the fix in commit
	c095adf5ea890284cddc2730944b980ac1275109 (Build was broken due to the above commit until commit
	c9b915d7f2f49f5ebde0abeb5756b1e11e756edc)

2011-04-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Use the ON_SIDE() macro rather then open-code
	the test

2011-04-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Add a DrawPaste() helper function for paste
	layers

2011-04-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/misc.c, src/misc.h: misc.c: Add query function IsPasteEmpty()
	to query a paste layer is empty

2011-04-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c, src/macro.h: Make the ON_SIDE() macro global, not
	local do draw.c

2011-04-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/common/draw_helpers.c: hid/common: Fix
	common_thindraw_pcb_pad()'s handling of square pads I made a mistake in a logic test when simplifying this routine in
	commit 4efcedeeac06cd4d5e559a7fe0a0ee8685f2137a This caused slanted rendering of horizontal or vertical pads.

2011-04-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Rename the "screen" parameter of
	DrawLayerGroup to "drawn_area" (For consistency with other code in draw.c)

2011-04-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Use DrawPPV() where we can to save duplication

2011-04-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Change PrintAssembly() to use a layer side
	parameter Drops the "swap_ident" parameter in favour of a more explicit "side"
	parameter. Also drops the side_group parameter, as we can easily
	determine that from the requested side to draw.

2011-04-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Change DrawSilk() to use a layer side
	parameter, not SWAP_IDENT

2011-04-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c:  Make DrawPPV() always draw for non gui HIDs, rather than doing_assy The gui HIDs don't accept the assembly drawaing, so testing for
	!gui->gui will catch this case, and we can drop the doing_assy
	override for PCB->PinOn and PCB->ViaOn

2011-04-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Change DrawTop() to DrawPPV(), and teach it to
	work for any layer (PPV stands for Pins, Pads and Vias). Extend its functionality to
	work for pins and vias on any layer.

2011-04-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Rename DrawTop() "screen" parameter
	"drawn_area" For consistency with other code in draw.c

2011-04-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Fix order of farside object drawing Backside silk should be drawn before bakside pads

2011-04-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Add prototype for via_callback Fixes breakage since commit c095adf5ea890284cddc2730944b980ac1275109

2011-04-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Remove  a couple of redundant if statements The outer if statement already ensures this code-path isn't followed
	for a gui hid.. don't repeat ourselves. One statement will always
	return false, hence is dead code - the other is always true.

2011-04-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Use the via callback when drawing vias.  Since this code-path is only hit for exporters, (and the only
	difference between the pin and via callback is the drawing colour)
	it is not likely this matters, but lets be correct.

2011-04-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Add layer side parameter to DrawMask() Don't use the global variable SWAP_IDENT to choose which side to
	draw.

2011-04-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Combine front and back element and name
	callbacks Pass an integer "side" parameter to determine which is desired

2011-04-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/macro.h: Remove commented TEXT_IS_VISIBLE implementation I'm cleaning up code which uses SWAP_IDENT, and this comment scored
	a hit.

2011-04-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/change.c, src/copy.c, src/draw.c, src/draw.h,
	src/find.c, src/hid/gtk/gui-drc-window.c, src/insert.c, src/move.c,
	src/polygon.c, src/rats.c, src/remove.c, src/rotate.c,
	src/select.c, src/toporouter.c, src/undo.c: draw.c: Remove unused
	parameter from various calls:   DrawObject   DrawVia   DrawViaName   DrawLine   DrawArc   DrawText   DrawRegularText   DrawPolygon   DrawElement   DrawElementPackage   DrawElementPackageLowLevel   DrawElementName   DrawElementPinsAndPads   DrawRat   DrawPin   DrawPinName   DrawPad   DrawPadName

2011-04-23   Andrew Poelstra * asp11 AT sfu dot ca *

	* src/hid/png/png.c: hid/png: Fix incorrect um unit conversion in
	bloat parser.   (Split from a larger patch by Peter Clifton * pcjc2 AT cam dot ac
	dot uk *)

2011-04-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* globalconst.h: globalconst.h: Remove some unused constants

2011-04-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/png/png.c: hid/png: Fix segfault when no image formats are
	configured in.   Based on a patch by Felix Ruoff * Felix AT posaunenmission dot de * Catch the case where the selected image format is actually the NULL
	terminator at the end of the format list. This happens when the list
	is empty. Don't strcmp against that terminator! Closes-bug: lp-699290 (sf-2669324)

2011-04-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/png/png.c: Revert "Fix potential segfault" This reverts commit 2d2040e92d5ebb069af42567855055b096532e71.  This patch causes segfaults in the GTK and Lesstif hids, so
	reverting, as it removes the required NULL termination from an
	attribute enumeration. Any code which can't deal with an empty
	enumeration list should be fixed instead.  Reopens-bug: lp-699290 (sf-2669324) Closes-bug: lp-769336

2011-04-22   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/main.c, src/misc.c, src/polygon.c, src/polygon.h,
	src/thermal.c: Fix geometry errors caused by commit
	2d8dc8a3a3a55158b4e6278dd9f40588e4111c2d This fixes up problems from the following commit:     [PATCH] fix bug 2793480 (vias/arcs-to-polygon clearances)     frac_circle(): introduce radius_adjustment factor to make     the polygon outline the arc rather than connet points on the arc     ArcPolyNoIntersect(): compute number of segments so that     polygon diverges from the arc no more than 0.02 of     required thickness; adjust outer "arc" radius like in
	    frac_circle() The object bounding boxes for arcs, vias, lines and rounded pads
	which determine the maximum area affected by that object were no
	longer correct, leading to artaefacts when doing incremental polygon
	processing.  It also lead to missing fragments in (the non-curved + and x type
	thermals). These are also fixed up by this patch.

2011-04-21   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Tidy up hole_callback routine

2011-04-21   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Remove unnecessary pin_info struct.  The argument specifying whether to clear pins was always true in any
	case where clearPin_callback was called (the only user of this
	info).

2011-04-21   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/macro.h: macro.h: Remove unused X11 specific macros

2011-04-21   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/macro.h: macro.h: Remove unused object visibility macros

2011-04-21   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c, src/line.c, src/macro.h: Remove some old unused
	coordinate conversion macros from the core Sadly, there are still some left to expunge which are being used -
	and their usage appears broken in many cases!

2011-04-21   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* tests/golden/hid_gcode1/Makefile.am,
	tests/golden/hid_gcode10/Makefile.am,
	tests/golden/hid_gcode11/Makefile.am,
	tests/golden/hid_gcode2/Makefile.am,
	tests/golden/hid_gcode3/Makefile.am,
	tests/golden/hid_gcode4/Makefile.am,
	tests/golden/hid_gcode5/Makefile.am,
	tests/golden/hid_gcode6/Makefile.am,
	tests/golden/hid_gcode7/Makefile.am,
	tests/golden/hid_gcode8/Makefile.am,
	tests/golden/hid_gcode9/Makefile.am,
	tests/golden/hid_gerber1/Makefile.am,
	tests/golden/hid_gerber2/Makefile.am: Fix test-suite harder Fixup Makefile.am files to match renames in last commit

2011-04-21   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* tests/golden/hid_gcode1/gcode_oneline.gcode.back.cnc,
	tests/golden/hid_gcode1/gcode_oneline.gcode.bottom.cnc,
	tests/golden/hid_gcode1/gcode_oneline.gcode.front.cnc,
	tests/golden/hid_gcode1/gcode_oneline.gcode.top.cnc,
	tests/golden/hid_gcode10/gcode_oneline.gcode.back.cnc,
	tests/golden/hid_gcode10/gcode_oneline.gcode.bottom.cnc,
	tests/golden/hid_gcode10/gcode_oneline.gcode.front.cnc,
	tests/golden/hid_gcode10/gcode_oneline.gcode.top.cnc,
	tests/golden/hid_gcode11/gcode_oneline.gcode.back.cnc,
	tests/golden/hid_gcode11/gcode_oneline.gcode.bottom.cnc,
	tests/golden/hid_gcode11/gcode_oneline.gcode.front.cnc,
	tests/golden/hid_gcode11/gcode_oneline.gcode.top.cnc,
	tests/golden/hid_gcode2/out.back.cnc,
	tests/golden/hid_gcode2/out.bottom.cnc,
	tests/golden/hid_gcode2/out.front.cnc,
	tests/golden/hid_gcode2/out.top.cnc,
	tests/golden/hid_gcode3/gcode_oneline.gcode.back.cnc,
	tests/golden/hid_gcode3/gcode_oneline.gcode.bottom.cnc,
	tests/golden/hid_gcode3/gcode_oneline.gcode.front.cnc,
	tests/golden/hid_gcode3/gcode_oneline.gcode.top.cnc,
	tests/golden/hid_gcode4/gcode_oneline.gcode.back.cnc,
	tests/golden/hid_gcode4/gcode_oneline.gcode.bottom.cnc,
	tests/golden/hid_gcode4/gcode_oneline.gcode.front.cnc,
	tests/golden/hid_gcode4/gcode_oneline.gcode.top.cnc,
	tests/golden/hid_gcode5/gcode_oneline.gcode.back.cnc,
	tests/golden/hid_gcode5/gcode_oneline.gcode.bottom.cnc,
	tests/golden/hid_gcode5/gcode_oneline.gcode.front.cnc,
	tests/golden/hid_gcode5/gcode_oneline.gcode.top.cnc,
	tests/golden/hid_gcode6/gcode_oneline.gcode.back.cnc,
	tests/golden/hid_gcode6/gcode_oneline.gcode.bottom.cnc,
	tests/golden/hid_gcode6/gcode_oneline.gcode.front.cnc,
	tests/golden/hid_gcode6/gcode_oneline.gcode.top.cnc,
	tests/golden/hid_gcode7/gcode_oneline.gcode.back.cnc,
	tests/golden/hid_gcode7/gcode_oneline.gcode.bottom.cnc,
	tests/golden/hid_gcode7/gcode_oneline.gcode.front.cnc,
	tests/golden/hid_gcode7/gcode_oneline.gcode.top.cnc,
	tests/golden/hid_gcode8/gcode_oneline.gcode.back.cnc,
	tests/golden/hid_gcode8/gcode_oneline.gcode.bottom.cnc,
	tests/golden/hid_gcode8/gcode_oneline.gcode.front.cnc,
	tests/golden/hid_gcode8/gcode_oneline.gcode.top.cnc,
	tests/golden/hid_gcode9/gcode_oneline.gcode.back.cnc,
	tests/golden/hid_gcode9/gcode_oneline.gcode.bottom.cnc,
	tests/golden/hid_gcode9/gcode_oneline.gcode.front.cnc,
	tests/golden/hid_gcode9/gcode_oneline.gcode.top.cnc,
	tests/golden/hid_gerber1/gerber_oneline.back.gbr,
	tests/golden/hid_gerber1/gerber_oneline.bottom.gbr,
	tests/golden/hid_gerber1/gerber_oneline.front.gbr,
	tests/golden/hid_gerber1/gerber_oneline.top.gbr,
	tests/golden/hid_gerber2/out.back.gbr,
	tests/golden/hid_gerber2/out.bottom.gbr,
	tests/golden/hid_gerber2/out.front.gbr,
	tests/golden/hid_gerber2/out.top.gbr, tests/tests.list: Fix
	test-suite files to match component->front and solder->back rename Test-suite now passes again.

2011-04-20   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/crosshair.c: hid/common: Draw the hole outline for pins / vias
	being moved or placed

2011-04-21   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/crosshair.c: crosshair.c: Use a dummy via structure to draw
	vias being created

2011-04-20   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/crosshair.c, src/draw.c, src/global.h, src/hid.h,
	src/hid/common/draw_helpers.c, src/hid/common/draw_helpers.h,
	src/hid/common/hidnogui.c: Consolidate pin / via drawing routines,
	moving them under the HID API Adds two new HID APIs, fill_pcb_pv and thindraw_pcb_pv, splitting
	drawing code from DrawPadLowlevel() to common_fill_pcb_pv() and
	common_thindraw_pcb_pv() in hid/common/draw_helpers.c.  Octagonal vias and pins are now correctly drawn when attached to the
	cursor.

2011-04-20   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/crosshair.c, src/draw.c, src/global.h, src/hid.h,
	src/hid/common/draw_helpers.c, src/hid/common/draw_helpers.h,
	src/hid/common/hidnogui.c: Consolidate pad drawing routines, moving
	them under the HID API Adds two new HID APIs, fill_pcb_pad and thindraw_pcb_pad, splitting
	drawing code from DrawPadLowlevel() to common_fill_pcb_pad() and
	common_thindraw_pcbpad() in hid/common/draw_helpers.c.  I simplified the code somewhat as I moved it, reducing the number of
	special cases.  gui->{thindraw|fill}_pcb_pad() is called from DrawPadLowlevel(), and
	is used to replace an incomplete thindraw implementation for pads in
	XORDrawElement().  Outlines for angled pads are now drawn in their entirety when
	attached to the cursor, not just their center line, and rounded end
	pads are also now drawn correctly in this mode.

2011-04-20   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/batch/batch.c, src/hid/common/draw_helpers.c,
	src/hid/common/draw_helpers.h, src/hid/common/extents.c,
	src/hid/gcode/gcode.c, src/hid/gerber/gerber.c,
	src/hid/gtk/gtkhid-main.c, src/hid/lesstif/main.c,
	src/hid/nelma/nelma.c, src/hid/png/png.c, src/hid/ps/eps.c,
	src/hid/ps/ps.c: hid/common: Provide a helper function for HIDs to
	use drawing helpers Gives the following changes to various HIDs:   extents: now has thindraw_polygon implemented - should not be an
	  issue gcode:   now has thindraw_polygon implemented - should not
	  be an issue gerber:  now has thindraw_polygon implemented - should
	  not be an issue nelma:   now has thindraw_polygon implemented -
	  should not be an issue png:     now has thindraw_polygon implemented
	  - should not be an issue eps:     now has thindraw_polygon
	  implemented - should not be an issue ps:      now has
	  thindraw_polygon implemented - should not be an issue batch:   no
	             longer has NOP fill_pcb_polygon and thindraw_pcb_polygon routines -
	             should not be an issue, as the drawing calls the common helper
	routines use are still NOPs for the batch HID.

2011-04-20   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/common/draw_helpers.c: hid/common: Some formatting changes
	in draw_helpers.c

2011-04-20   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gcode/gcode.c, src/hid/png/png.c: Add missing HID
	structure zero initialisation for gcode and png HIDs.  Missed from commit commit d67f4335b5d4f97330448b833ea1bf04377c3a57   "Initialise the HID vtable by function, rather than as a struct
	  initialiser." I missed the memset from these two HIDs.

2011-04-19   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Fix damage area computation We should reset the left and top bounds to MAXINT, and the right and
	bottom bounds to -MAXINT. This way the correct bounds are computed
	when gathering.  The code previously every coordinate to 0, meaning that the box
	encompasing (0, 0)  up to the (max_x, max_y) would be invalidated,
	rather than (min_x, min_y) to (max_x, max_y).  No improvement is going to be seen, as both the GTK and Lesstif GUIs
	ignore the damaged bounds and repaint the whole screen each time -
	it is just for correctness.

2011-04-18   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/crosshair.c, src/crosshair.h, src/hid/lesstif/main.c: Don't
	abuse CrosshairOn() API to force a redraw.  Expose DrawAttached() to the HIDs so they can call it themselves,
	and don't have to cheat by forcing Crosshair.On to false.  Make DrawAttached() and DrawMark() a NOP if the relevant item is not
	being shown. Ie. if !Crosshair.On, both functions draw nothing. If
	!Marked.status, DrawMark() draws nothing.  A minor change is required in CrosshairOff() to XOR un-draw before
	switching the flag to off.  Not known to fix any particular bug, but it is possible that the
	crosshair should not be drawn at a given point (due to changes
	taking place inside a HideCrosshair() / RestoreCrosshair() pair.  Tested with Lesstif and GTK HIDs.

2011-04-18   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/crosshair.c, src/hid/gtk/gui-output-events.c: hid/gtk: Don't
	call CrosshairOn() when re-entering the viewport The GTK HID doesn't turn the crosshair off, so we don't turn it back
	on if we default to having it switched on in the first place. Make
	that default change, and remove the CrosshairOn() call.  (Also tested not to break the Lesstif HID).

2011-04-18   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/Makefile.am, src/hid/batch/batch.c, src/hid/bom/bom.c,
	src/hid/common/extents.c, src/hid/gcode/gcode.c,
	src/hid/gerber/gerber.c, src/hid/gtk/gtkhid-main.c,
	src/hid/lesstif/main.c, src/hid/lpr/lpr.c, src/hid/nelma/nelma.c,
	src/hid/nelma/nelma.h, src/hid/png/png.c, src/hid/png/png.h,
	src/hid/ps/eps.c, src/hid/ps/ps.c: Initialise the HID vtable by
	function, rather than as a struct initialiser.  This allows adding new items without having to update every HID.  It
	also reduces bloat for those HIDs which have a lot of zero entries.

2011-04-12   DJ Delorie * dj AT delorie dot com *

	* src/misc.c: Add t/b synonyms for group list Allow 't' as well as 'c', and 'b' as well as 's', in the groups
	string.

2011-03-31   Ineiev * ineiev AT users dot berlios dot de *

	* src/hid/png/png.c: Fix potential segfault Closes-bug: lp-699290 (sf-2669324)

2011-04-11   DJ Delorie * dj AT delorie dot com *

	* src/hid/common/flags.c: Update file names to top/bottom convention Yes, I know this will break some scripts - mine included.  I
	couldn't think of a good way to auto-detect when the old names
	should be used.

2011-04-11   DJ Delorie * dj AT delorie dot com *

	* src/draw.c: Remove (now) unused variable.

2011-04-11   DJ Delorie * dj AT delorie dot com *

	* src/draw.c: Don't draw an empty outline layer.  If the design has an outline layer, and it's empty, draw an outline
	anyway - around the whole work area.

2011-04-11   DJ Delorie * dj AT delorie dot com *

	* src/hid/ps/ps.c: Fix PS rect/outline logic PS's draw_rect was actually doing a fill_rect.  Fixed.  If the design has an outline layer, draw it in more of the cases
	where we would draw the synthetic outline.

2011-04-11   DJ Delorie * dj AT delorie dot com *

	* src/misc.c, src/misc.h: Add IsEmpty functions Add functions to test if a given layer or layer group is "empty" -
	i.e. has none of its own drawing items on it.

2011-04-11   DJ Delorie * dj AT delorie dot com *

	* src/hid/gerber/gerber.c: Fix gerber output Use the correct DRC minimums for drawn outlines on silk and copper
	layers.  Draw rectangles as unfilled, not filled.

2011-04-11   DJ Delorie * dj AT delorie dot com *

	* src/main.c: Tweak default layer stack.  Change the default layer stack to reflect a six layer board,
	allowing for 2 or 4 layer designs with the same stack.  Add an
	outline layer by default.  Change the default names from
	"component/solder" to "top/bottom" to be consistent with names used
	by popular packages.

2011-04-08   Krzysztof Kościuszkiewicz * k dot kosciuszkiewicz AT gmail dot com *

	* src/gpcb-menu.res, src/pcb-menu.res: Change menu location of "Move
	to current layer" To be consistent with other menu actions (like Flip/Flip selected):  * "Move to current layer" is now located in the Info > Key
	 bindings, * "Move selected to current layer" is now located in the
	Select menu.  Closes-bug: lp-699106

2011-04-01   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/hid/gtk/gui-dialog.c: hid/gtk: Select adequate folder in
	file-save-dialog Since now, the 'Save layout as' - dialog gives full path and
	filename in name-line, but did not switches to given path in
	folder-list (lower part of the dialog). For me, this is
	uncomfortable, e.g. if I just want to switch to another near-by -
	folder.  This solution was suggested by Krzysztof Kościuszkiewicz. Thank
	you! Closes-lp: 699491  Reviewed-by: Krzysztof Kościuszkiewicz * k dot
	kosciuszkiewicz AT gmail dot com *

2011-04-07   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/hid/gtk/gui-library-window.c: hid/gtk: expand library tree
	after filtering This patch changes the behavior of the library selection dialog.
	After filtering by name is applied the tree view of matching
	components is automatically expanded so that all leafs are
	immediately selectable.  The tree view is collapsed when the filter
	is cleared.  Patch is adapted from Krzysztof Kosciuszkiewicz's patch for gschem.  Closes-bug: lp-753643  Reviewed-by: Krzysztof Kościuszkiewicz * k
	dot kosciuszkiewicz AT gmail dot com *

2011-04-06   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-output-events.c, src/hid/gtk/gui.h: hid/gtk:
	Consolidate the mechanisms used for holding off scrollbar updates Don't duplicate mechanisms - it is confusing!

2011-04-06   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-top-window.c: hid/gtk: Remove unused variables
	from {h,v}_adjument_changed_cb()

2011-04-06   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gui-output-events.c: 
	hid/gtk: Only redraw the crosshair when necessary If we're about to repaint the screen from our backing pixmap, there
	is no point un-XOR drawing our current crosshair first.

2011-04-06   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/crosshair.c: Don't issue CrosshairOff() from the
	DestroyCrosshair() function.  We shouldn't assume we can make call GUI calls at this point.  NB: The DestroyCrosshair() function is actually unused!

2011-04-05   Ed Maste * emaste AT freebsd dot org *

	* configure.ac: Small change to get pcb to build on FreeBSD Add check for wish 8.5

2011-04-06   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c: action.c: Remove some unneded crosshair hide/restore
	calls Removed calls from various actions which should not have any effect
	on the objects drawn attached to the crosshair.

2011-04-06   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c: action.c: In ActionLoadFrom(), only hide the
	crosshair where required

2011-04-06   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c: action.c: In ActionUnselect(), only hide the
	crosshair where required

2011-04-06   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c: action.c: In ActionSelect(), only hide the crosshair
	where required

2011-04-06   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c: action.c: In ActionDisplay(), Only invalidate
	crosshair where needed Rather than wrapping the whole function in a crosshair hide/restore,
	only do it for the sub-paths which require it.

2011-04-06   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c: action.c: Combine the crosshair / restore for all
	paths in click_cb() Reduces code duplication in the different sub-paths of this routine.

2011-04-06   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/buffer.c, src/hid/gtk/gui-command-window.c,
	src/report.c: Don't undraw the crosshair attached object when
	showing dialogue prompts

2011-04-06   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c: action.c: Remove commented out line of code Left from commit 089fbaf59c78fe75475db737e7e2827cd745d570 (Initial
	C++ compatibility patch)

2011-04-03   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* : Commit hook test This commit is deliberately blank, but should close bug lp-700413
	due to the line below.  Closes-bug: lp-700413

2011-02-11   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/draw.c: Remove unused function DrawVText() used GDK; it shouldn't have been implemented this way in
	any case.  Closes-bug: lp-717294

2011-03-23   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/hid/gtk/gui-dialog-print.c: Fix warning at exporting png with
	GTK+ GUI An 'Gtk-CRITICAL'-Error was thrown on opening the png-exporter
	dialog because there is no default-string for the 'png-bloat'
	option.  Closes-bug: lp-740526

2011-03-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/crosshair.c: crosshair.c: Remove comment which is no longer
	relevant

2011-03-27   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/buffer.c, src/crosshair.c, src/crosshair.h,
	src/draw.c, src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-main.c,
	src/hid/gtk/gui-command-window.c, src/hid/gtk/gui-misc.c,
	src/hid/gtk/gui-output-events.c, src/hid/gtk/gui-top-window.c,
	src/hid/lesstif/main.c, src/misc.c, src/report.c, src/set.c: Remove
	BlockToo argument from various crosshair hide / restore functions Goodness knows what it is supposed to do, but everything appears to
	work fine without it. For the majority of cases, the argument passed
	is true.  When passed as false, the effect is to surpress drawing an attached
	selection / rubberband rectangle in the AttachedBox.state ==
	STATE_THIRD state.  Digging through the version control history, this code appears to
	have been present since the project was initially placed under CVS
	control.  The 23 places this argument was previously false are:     ActionMovePointer         -  HideCrosshair (false);         -  RestoreCrosshair (false);     EventMoveCrosshair         -  RestoreCrosshair (false);     ActionDisplay         -  RestoreCrosshair (false);     ActionFreeRotateBuffer         -  HideCrosshair(false);         -  RestoreCrosshair(false);     MoveCrosshairAbsolute         -  HideCrosshair (false);     ghid_invalidate_all         -  RestoreCrosshair (FALSE);     ScrollAction (GTK HID)         -  HideCrosshair (FALSE);         -  RestoreCrosshair (FALSE);     ghid_port_ranges_changed         -  HideCrosshair (FALSE);     ghid_note_event_location         -  RestoreCrosshair (false);     idle_proc (Lesstif HID)         -  CrosshairOn (0);     CenterDisplay         -  RestoreCrosshair(false);     ReportDialog         -  HideCrosshair (false);         -  RestoreCrosshair (false);     ReportFoundPins         -  HideCrosshair (false);         -  RestoreCrosshair (false);     ReportNetLength         -  HideCrosshair (false);         -  RestoreCrosshair (false);     SetLocalRef         -  RestoreCrosshair (false);         -  HideCrosshair (false);         -  RestoreCrosshair (false);

2011-03-27   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/crosshair.c, src/crosshair.h: Remove visibility
	overriding argument from DrawMark() Because of the places it was used, we can gaurantee this doesn't
	change any behaviour - the mark visibility status is always correct,
	so doesn't need overriding.

2011-03-27   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c: hid/gtk: g_return_if_reached() for
	receipt of gui->use_mask(HID_MASK_BEFORE) This means one less untranslated printf which is never hit. If for
	some reason the core sends us one of these - logging a warning and
	continuing is probably better than a hard abort()

2011-03-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Don't make GUI drawing calls to erase objects Changing the colour here is unnecessary (as drawing is deferred).
	Delete the gui->set_color() calls.

2011-03-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/change.c, src/find.c: Allow zero clearance pads and pins to
	touch polygons This was already supported for vias, lets be consistent.

2011-03-27   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Fix mask drawing at high zooms (only draw the
	bit on-screen) This probably papers over a bug in the GTK hid's fill_rect routine,
	as the only reason this should fix anything is because it avoids
	coordinate overflow at high zoom.  The GTK hid really ought to clip coords to the screen before
	transforming them for rendering.

2011-03-27   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Tidy up mask drawing code Since the gerber HID now supports putting the outline on various
	layers, we can also safely remove the commented out code for doing
	that in draw.c

2011-03-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Make benchmark()
	implementation suit multiple drawing models Invalidate and process updates, rather than calling redraw directly.
	This suits the coming GL renderer which will use an
	invalidate/expose model.

2011-03-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-main.c,
	src/hid/gtk/gui.h: hid/gtk: Move set_layer function into GDK
	specific code.  Not that this is particularly GDK specific, just that the GL
	renderer hopefully coming soon needs to do some extra work.

2011-03-27   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gui-output-events.c,
	src/hid/gtk/gui.h: hid/gtk: Add hooks to tell the render when we
	start/stop drawing This is necessary if the renderer requires certain state to be
	configured before its drawing calls can be operated.

2011-03-27   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gui-pinout-preview.c,
	src/hid/gtk/gui-top-window.c, src/hid/gtk/gui.h: hid/gtk: Add hooks
	for the renderer to initalise drawing widgets

2011-03-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-top-window.c: hid/gtk: Remove some unnecessary
	gtk_widget_realize() calls.

2011-03-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gerber/gerber.c: hid/gerber: Remove unused variables
	outline_trace_size and absolute Left over accidentally from commit
	35b137c3e193471e07f0873dfb149cebd059dca2

2011-03-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gui-output-events.c,
	src/hid/gtk/gui-top-window.c, src/hid/gtk/gui.h: hid/gtk: Create a
	private structure for the gdk render backend This is in an effort to isolate some of its internals from the rest
	of the GTK hid.  Also create a hook for configure events on the main drawing area to
	allow the renderer to reconfigure its-self as necessary as the area
	changes in size.

2011-03-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/Makefile.am, src/hid/gtk/gtkhid-gdk.c,
	src/hid/gtk/gui-output-events.c, src/hid/gtk/gui-pinout-preview.c,
	src/hid/gtk/gui-render-pixmap.c, src/hid/gtk/gui-top-window.c,
	src/hid/gtk/gui.h: hid/gtk: Move more GDK specific routines to
	gtkhid-gdk.c

2011-03-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gerber/gerber.c: hid/gerber: Remove option for thickness
	of auto-generated outline layer We don't mess with the thickness of the user's hand-drawn outline,
	and this option implies that we do. I cannot think of a sensible way
	to present the option without confusing the user, so lets remove it.  Whilst the previous default of 10 mil was fine, 8 mil matches the
	width used on the fab drawing, so I have changed to that value.

2011-03-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/print.c: src/print.c: Fix fab drawing width text annotation.  The text hard-coded that the outline is 10mil, in fact it is not,
	the current #define sets it at 8 mil. Report the actual value used.

2011-03-23   Ineiev * ineiev AT users dot berlios dot de *

	* src/hid/gtk/gui-misc.c: suppress annoying decimals in relative
	coordinates The threshold for non-aligned object is increased because in case of
	relative coordinates the round-off error may double.  Closes-bug: lp-699452 (sf-2117383) Closes-bug: lp-699169
	(sf-1741659)

2011-03-22   DJ Delorie * dj AT delorie dot com *

	* src/file.c, src/global.h: Save footprints as footprints.  If the user loads a footprint as a PCB (i.e. File->Load) and tries
	to save it, save only the elements in the pcb, not the whole pcb.

2011-03-22   DJ Delorie * dj AT delorie dot com *

	* src/misc.c, src/misc.h: Fix mkdir() in plugins.  Plugins include misc.h without having a valid config.h, which meant
	they'd get a build error.  This patch moves the error check into
	pcb's misc.c, which always has a config.h, and lets plugins have a
	MKDIR() macro that uses pcb's detected values.

2011-03-22   DJ Delorie * dj AT delorie dot com *

	* src/hid/gerber/gerber.c: Add copy-outline mode New gerber export options to copy the outline layer onto one or more
	other layers.  Some fabs want the outline separate; others want it
	on a "working" layer.

2011-03-22   DJ Delorie * dj AT delorie dot com *

	* src/misc.c: Allow space between value and units in GetValue().

2011-03-22   Ineiev * ineiev AT users dot berlios dot de *

	* src/polygon.c: simplify an expression return to the form written in d5d894d977e610 (lost in
	2d8dc8a3a3a551)

2011-03-06   Ineiev * ineiev AT users dot berlios dot de *

	* src/action.c, src/const.h, src/crosshair.c, src/gpcb-menu.res,
	src/hid/gtk/gui-misc.c, src/misc.c, src/misc.h, src/pcb-menu.res,
	src/set.c, src/set.h: (GTK HID) fix annoying decimals When in metric grid mode, the coordinates are displayed with
	irregular tails of nines, e.g. "116.9998 43.9999" when the grid is
	set to 1mm.  The fix includes using more precise metric-to-imperial and crosshair
	calculations and fitting crosshair values into metric grids.  To address the issue in a really reliable way we need at least one
	more separate variable, to explicitly mark the grid as metric (as
	opposed to the displayed units); this flag should also be saved in
	PCB files.  First reported by Kai-Martin Knaak.  Closes-bug: lp-699452 (sf-2117383) Closes-bug: lp-699169
	(sf-1741659)

2009-11-27   Ineiev * ineiev AT users dot berlios dot de *

	* doc/pcb.texi: fix sections hierarhy

2010-12-07   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/action.c, src/buffer.c, src/djopt.c, src/fontmode.c,
	src/hid/gtk/gui-top-window.c, src/move.c: Cleanup action
	documentation Add missing documentation * Display(ToggleLockNames) * Display(ToggleOnlyNames) * Select(Object) Remove invalid documentation * Connection(Measure) * Display(Scroll, Direction) * Display(Step, direction, amount, units) Cosmetic modifications: * dots at end of sentences * capital letter at start of sentences * remove some curious signs at the beginning of some lines.  * fix a couple of typos Closes-bug: lp-699506

2011-03-12   DJ Delorie * dj AT delorie dot com *

	* src/misc.h: Make io.h inclusion conditional on the mingw case.

2011-01-23   Bob Paddock * bobpspam AT gmail dot com *

	* configure.ac, m4/m4_ax_func_mkdir.m4, src/hid/common/hidinit.c,
	src/hid/gtk/gui-config.c, src/misc.h: mkdir() takes only one
	argument under WIN32.  Add check whether mkdir() is mkdir or _mkdir, and whether it takes
	one or two arguments.  WIN32 mkdir takes one argument and POSIX
	takes two.  Use MKDIR() macro from misc.h everyplace to get correct behavior
	depending on platform.

2011-01-23   Bob Paddock * bobpspam AT gmail dot com *

	* configure.ac, src/action.c, src/hid/png/png.c, src/main.c: Use
	rand() in place of random().  The 'random', 'srandom', functions are those from BSD derived
	UNIX's, and may not be available under WIN32.  The 'rand' and
	'srand' functions are required by the ANSI standard.  rand(): Return a random integer between 0 and RAND_MAX inclusive.
	random(): Return a random long integer between 0 and RAND_MAX
	inclusive.  Standard MinGW stdlib.h only supports rand() and RAND_MAX is limited
	to the 32 bit value of 32767, which is significantly smaller than
	that returned by random().  This turncation of range should not
	effect usage in our application.  Added srand( time(NULL) ) to main.c to set the seed.

2010-12-31   Bert Timmerman * bert dot timmerman AT xs4all dot nl *

	* po/LINGUAS: Added an entry for the Dutch translation in LINGUAS.

2010-12-31   Bert Timmerman * bert dot timmerman AT xs4all dot nl *

	* po/nl.po: First issue of the Dutch translation.

2011-02-14   Krzysztof Kosciuszkiewicz * k dot kosciuszkiewicz AT gmail dot com *

	* src/hid/gtk/gui-library-window.c: hid/gtk: handle CTRL-C in
	library window Handle CTRL-C keypress in library window and copy name of the
	selected component into the default GTK clipboard.  The change facilitates workflow where one browses footprints in pcb
	and copies component names into gattrib or gschem.

2011-03-10   Felix Ruoff * Felix AT posaunenmission dot de *

	* doc/pcb.texi: Describe layer groupings in GTK+ GUI Add information to the documentation where the 'Edit Layer Grouping'
	option can be found in the GTK+ GUI.  Closes-bug: lp-699175

2011-03-07   Kai-Martin Knaak * kmk AT lilalaser dot de *

	* doc/pcb.texi: expand the regexp appendix in pcb manual  * Add special character "|" to concatenate  * Add special character $" to denote the end of a string  * Mention the special meaning of brackets.   * Make the table of examples conform to         "example -> description"  rather than the other way round.   * Add examples for the use of "|", "[]" and "{}".  Closes-bug: lp-723931

2011-01-31   Markus Hitter * mah AT jump-ing dot de *

	* gts/.gitignore, tests/.gitignore: Clean up "git status" output.  Closes-bug: lp-710719

2011-02-25   Stephen Ecob * silicon dot on dot inspiration AT gmail dot com *

	* src/draw.c: better heuristics for paste openings Prohibit paste windows wider than mask ones (suggested by Kai-Martin
	Knaak).  Suppress zero width paste windows (suggested by DJ Delorie).  Discussed on
	http://www.seul.org/pipermail/geda-user/2011-February/052413.html Closes-bug: lp-718342

2011-02-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/autoroute.c: Fix auto-router - we need to actually increment
	the dir variable! Was broken accidentally in commit
	5f0f788dc12a10a3c01ade7cf00d5ed63922ca47 (Initial C++ compatibility patch)

2011-02-21   Ineiev * ineiev AT users dot berlios dot de *

	* src/polygon.c: fix polygon regression Introduced by 2d8dc8a3a3a55158b4e6278dd9f40588e4111c2d Reported by Kai-Martin Knaak

2011-02-19   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: Fix solder mask drawing glitch in pcb Applied patch from lp-699498 by rdrehmel Closes-bug: lp-699498

2011-02-10   DJ Delorie * dj AT delorie dot com *

	* src/strflags.c: Use onsolder for text, not auto.  The flags table wasn't using onsolder for text, which meant the
	default "auto" was used for it, which doesn't make sense.  This
	makes text on the solder side use the "onsolder" name instead.

2011-01-27   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c: Conditionally use "class" or "c_class"
	depending on the compiler language.  The X11 headers define some classes differently based on whether
	they're being used for C or C++, so we have to make our access to
	them conditional also.

2011-01-27   DJ Delorie * dj AT delorie dot com *

	* src/hid/batch/batch.c: C++ compatibility for the batch HID.  Just a keyword rename (xor).

2011-01-27   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/dialogs.c, src/hid/lesstif/lesstif.h,
	src/hid/lesstif/main.c, src/hid/lesstif/menu.c,
	src/hid/lesstif/styles.c: C++ compatibility for the lesstif HID.  Minor changes - casts, consts, keyword renames, so that the lesstif
	HID can be compiled as C or C++.

2011-01-27   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/change.c: change.c: Restore and clear to polygons when
	changing hole sizes This is more consistent with other code-paths and is useful if the
	thermal gemoetry were to depend in on the hole size (which it
	doesn't currently, but used to do before the clipper branch).

2011-01-24   Markus Hitter * mah AT jump-ing dot de *

	* configure.ac: configure.ac: remove the now obsolete test for
	gethostname().  No longer required since commit
	00c556b02dfa0113eab62b894eff4cf5d55b8e5f  Reviewed-by: Peter Clifton * pcjc2 AT cam dot ac dot uk *
	Affects-bug: lp-703914

2011-01-23   Markus Hitter * mah AT jump-ing dot de *

	* doc/gs/fb-blinker.pcb, doc/gs/fb-led-5.pcb, doc/gs/fb-led.pcb,
	doc/gs/fb-smt.pcb, doc/gs/term-annulus-1.pcb,
	doc/gs/term-clearance-1.pcb, doc/gs/term-element-1.pcb,
	doc/gs/term-pad-1.pcb, doc/gs/term-pin-1.pcb,
	doc/gs/term-platedhole-1.pcb, doc/gs/term-tented-1.pcb,
	doc/gs/term-thermal-1.pcb, doc/gs/term-thickness-1.pcb,
	doc/pad.pcb, doc/puller.pcb, doc/thermal.pcb, example/LED.pcb,
	example/LED2.pcb, tests/inputs/bom_general.pcb,
	tests/inputs/gcode_oneline.pcb, tests/inputs/gerber_oneline.pcb,
	tutorial/tut1.pcb: Remove all date, user and host comments on all
	test and sample files.  These items are no longer written, so sample files shouldn't contain
	them either. Usually, this was line 2...4.   Reviewed-by: Peter Clifton * pcjc2 AT cam dot ac dot uk *
	Affects-bug: lp-703914

2011-01-23   Markus Hitter * mah AT jump-ing dot de *

	* src/file.c: src/file.c: don't write user name or date to the
	stored layout file.  Notes from Peter Clifton:   The consensus from bug lp-703914 was that that recording the
	  username, data and host which produced the file is unnecessary and
	  causes version control clashes which are otherwise unnecessary.   Reviewed-by: Peter Clifton * pcjc2 AT cam dot ac dot uk *
	Closes-bug: lp-703914

2011-01-22   Bob Paddock * bobpspam AT gmail dot com *

	* src/action.c: Compiling with MinGW requires cast to const for
	_spawnvp to compile without warning.

2011-01-22   Bob Paddock * bobpspam AT gmail dot com *

	* src/hid/gcode/gcode.c, src/hid/nelma/nelma.c: Add missing
	Message() prototype to remove warning about same.

2011-01-22   Bob Paddock * bobpspam AT gmail dot com *

	* src/polygon1.c: Initialize min_dist to zero before using in if().

2011-01-23   Newell Jensen * pillar2012 AT gmail dot com *

	* configure.ac, src/action.c, src/autoplace.c, src/autoroute.c,
	src/change.c, src/create.c, src/dbus-pcbmain.c, src/draw.c,
	src/drill.c, src/edif.y, src/file.c, src/find.c, src/free_atexit.c,
	src/global.h, src/heap.c, src/hid.h, src/hid/bom/bom.c,
	src/hid/common/actions.c, src/hid/common/draw_helpers.c,
	src/hid/common/extents.c, src/hid/common/flags.c,
	src/hid/common/hid_resource.c, src/hid/common/hidinit.c,
	src/hid/common/hidnogui.c, src/hid/gcode/gcode.c,
	src/hid/gerber/gerber.c, src/hid/gtk/gtkhid-gdk.c,
	src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-command-window.c,
	src/hid/gtk/gui-config.c, src/hid/gtk/gui-dialog-print.c,
	src/hid/gtk/gui-dialog-size.c, src/hid/gtk/gui-dialog.c,
	src/hid/gtk/gui-drc-window.c, src/hid/gtk/gui-library-window.c,
	src/hid/gtk/gui-log-window.c, src/hid/gtk/gui-misc.c,
	src/hid/gtk/gui-netlist-window.c, src/hid/gtk/gui-output-events.c,
	src/hid/gtk/gui-pinout-preview.c, src/hid/gtk/gui-top-window.c,
	src/hid/gtk/gui-utils.c, src/hid/gtk/gui.h, src/hid/nelma/nelma.c,
	src/hid/png/png.c, src/hid/ps/eps.c, src/hid/ps/ps.c, src/insert.c,
	src/intersect.c, src/main.c, src/misc.c, src/move.c, src/mtspace.c,
	src/mymem.c, src/netlist.c, src/parse_l.l, src/parse_y.y,
	src/polygon.c, src/polygon1.c, src/puller.c, src/rats.c,
	src/rats.h, src/report.c, src/rtree.c, src/toporouter.c,
	src/undo.c, src/vector.c, src/vendor.c: Initial C++ compatibility
	patch Doesn't cover lesstif or batch hids.  Makes source code build
	without warnings on C, and build with warnings on C++.

2011-01-23   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/netlist.c: Add header for Draw() prototype.  Silences a warning building the lesstif hid.

2011-01-23   DJ Delorie * dj AT delorie dot com *

	* src/edif.y: FindContext() takes an int, not a pointer.

2011-01-14   Markus Hitter * mah AT jump-ing dot de *

	* INSTALL: INSTALL: add instructions on how to create configure.  Closes-bug: lp-702484

2011-01-07   Jared Casper * jaredcasper AT gmail dot com *

	* configure.ac: Heed and remove warning issued by autoconf 2.68.  Starting in autoconf 2.68, "the macros AC_PREPROC_IFELSE,
	AC_COMPILE_IFELSE, AC_LINK_IFELSE, and AC_RUN_IFELSE now warn if the
	first argument failed to use AC_LANG_SOURCE or AC_LANG_PROGRAM to
	generate the conftest file contents." Closes-bug: lp-700180  Reviewed-by: Peter Clifton * pcjc2 AT cam dot ac *

2009-02-20   Ineiev * ineiev AT users dot sourceforge dot net *

	* src/hid/gtk/gui-output-events.c: hid/gtk: Fix disappearing
	reference mark Fixes the following symptoms (Bug sf-1882970 reported by Steven
	Michalske): (0) when the cursor leaves the window,   the mark disappears (with attached objects);   when the cursor enters again, the mark   is redrawn only if there are any attached objects; (1) When there are no attached objects,   the mark disappears on button press, but is not   redrawn again when button press and release form   a click.   (Commit message edited by Peter Clifton * pcjc2 AT cam dot ac dot
	uk *)  Reviewed-by: Peter Clifton * pcjc2 AT cam dot ac dot uk * Closes-bug: lp-699244 Closes-bug: lp-699453

2011-01-11   DJ Delorie * dj AT delorie dot com *

	* src/hid/lpr/lpr.c, src/hid/ps/ps.c: Fix postscript page scaling Calculate page sizes *after* selecting the page, not before.

2011-01-10   DJ Delorie * dj AT delorie dot com *

	* src/misc.c: Calculate text bounding boxes based on that actual
	drawn glyphs.  Previously, a text's bounding box was calculated based on overall
	font metrics, not the actual glyphs.  This meant that text clearing
	a polygon would have far more space around it than called for.

2011-01-10   DJ Delorie * dj AT delorie dot com *

	* src/file.c: Make new PCB active during parsing Set the global PCB pointer to the "new" pcb while it's being loaded.
	Some of the creation functions use the DRC values in PCB to compute,
	for example, bounding boxes.  Before, it used whatever was hanging
	around in the previous PCB (or the default values).

2011-01-09   DJ Delorie * dj AT delorie dot com *

	* Makefile.am, configure.ac, gts/.gitignore, gts/Makefile.am,
	gts/NOTES, gts/bbtree.c, gts/boolean.c, gts/cdt.c, gts/container.c,
	gts/curvature.c, gts/edge.c, gts/eheap.c, gts/face.c, gts/fifo.c,
	gts/graph.c, gts/gts-private.h, gts/gts.h, gts/heap.c,
	gts/hsurface.c, gts/iso.c, gts/isotetra.c, gts/kdtree.c,
	gts/matrix.c, gts/misc.c, gts/named.c, gts/object.c, gts/oocs.c,
	gts/partition.c, gts/pgraph.c, gts/point.c, gts/predicates.c,
	gts/predicates.h, gts/psurface.c, gts/refine.c, gts/rounding.h,
	gts/segment.c, gts/split.c, gts/stripe.c, gts/surface.c,
	gts/triangle.c, gts/tribox3.c, gts/vertex.c, gts/vopt.c,
	src/Makefile.am, src/gts/.gitignore, src/gts/NOTES,
	src/gts/bbtree.c, src/gts/boolean.c, src/gts/cdt.c,
	src/gts/container.c, src/gts/curvature.c, src/gts/edge.c,
	src/gts/eheap.c, src/gts/face.c, src/gts/fifo.c, src/gts/graph.c,
	src/gts/gts-private.h, src/gts/gts.h, src/gts/heap.c,
	src/gts/hsurface.c, src/gts/iso.c, src/gts/isotetra.c,
	src/gts/kdtree.c, src/gts/matrix.c, src/gts/misc.c,
	src/gts/named.c, src/gts/object.c, src/gts/oocs.c,
	src/gts/partition.c, src/gts/pgraph.c, src/gts/point.c,
	src/gts/predicates.c, src/gts/predicates.h, src/gts/psurface.c,
	src/gts/refine.c, src/gts/rounding.h, src/gts/segment.c,
	src/gts/split.c, src/gts/stripe.c, src/gts/surface.c,
	src/gts/triangle.c, src/gts/tribox3.c, src/gts/vertex.c,
	src/gts/vopt.c: Add top-level build changes to enable C++
	compilation This patch moves GTS (gts.sourceforce.net) out of the src/ tree and
	gives it its own Makefile, and changes src/Makefile.am so that C++
	compilation is used if configure requests it.  ./configure --enable-build-with-cxx ./configure
	--disable-build-with-cxx (the default is disable at the moment) Makefiles with these lines will use C++ if the user requests it:  CC = @CC_OR_CXX@  CFLAGS = @CC_OR_CXX_FLAGS@

2011-01-07   DJ Delorie * dj AT delorie dot com *

	* src/buffer.c: Support far-side polygons when converting buffer to
	element.

2011-01-07   DJ Delorie * dj AT delorie dot com *

	* src/action.c: Fix command-injection bug in Import() Use "--" before the list of schematics, to prevent the src list from
	containing other gnetlist options (or arbitrary guile code)

2011-01-07   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-top-window.c: hid/gtk: Fix prelight state for
	layer button to show current status One of the ways we identify whether a layer is switched on or off is
	by changing the background colour of the GtkToggleButton
	representing that layer.  Fix the prelight (mouse-over) background style to match the current
	button state, so as to give immediate feed-back when the user
	presses the button, and make the interface less confusing.  Closes-bug: lp-699150

2010-12-28   Felix Ruoff * Felix AT posaunenmission dot de *

	* src/hid/gtk/gui-command-window.c, src/hid/gtk/gui-dialog-size.c,
	src/hid/gtk/gui-misc.c, src/hid/gtk/gui-output-events.c,
	src/hid/gtk/gui-top-window.c: hid/gtk: Modify window title to match
	the GNOME Human Interface Guidelines Modifies the title of the main window as suggested in the GNOME HIG:

	(http://library.gnome.org/devel/hig-book/nightly/windows-primary.html)The following will be shown there:  - A star (*) if the layout has unsaved changes (this patch also    removes this sign from the statusbar, where it currently is)  - The name of the layout, if set in the config-dialog    ('Put layout name on the window title bar')  - The filename (in braces, if layout name is shown)  - The string " - PCB" Closes-bug: lp-699509  Acked-by: Peter Clifton * pcjc2 AT cam dot ac
	dot uk * (Also modified commit message)

2011-01-05   DJ Delorie * dj AT delorie dot com *

	* src/select.c: Fix "select pads on hidden far side" If an SMT pad is on the far side of the board, and the far side
	layer is not visible, do not select that pad.  Exception: if that
	pad is part of an element which *is* on the visible side, the pad is
	selected as part of selecting the whole element.  But, elements on
	the far side (the common case) won't have their pads selected when
	those pads aren't visible.

2011-01-04   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c: Allow zoom-out-past-board for Lesstif The lesstif GUI has been modified two ways: 1. You may zoom out "past" the board, making the board smaller than
	the window.  Note that the crosshair is still limited to the board's
	extents.  2. You may pan the board so that edges need not be on the edge of
	the window, such as centering an edge for inspection.  Note that the smallest the board can be is 1/10th the window size.
	While this is arbitrary, it's easily changed if needed, and avoids
	problems with miniscule boards (and thus maxiscule coordinate
	systems).  The 'v' key still zooms the board to fit, but now centers the board
	in the window rather than placing it at the upper left.

2011-01-04   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/netlist.c: ResetConncetions -> ResetConnections Typo.

2011-01-04   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/menu.c: Fix lesstif segfault in key handling.  When a key handler calls an action, the key table might change
	before the action returns (via nested key handlers), so save a
	pointer to the table we're parsing to ensure it will be around when
	we return.

2011-01-04   DJ Delorie * dj AT delorie dot com *

	* lib/geda.inc: Add 80-pin headers.  Add 80 pin DIP and Ribbon 0.1" header macros to the usual list.

2010-12-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-netlist-window.c,
	src/hid/gtk/gui.h: hid/gtk: Fix warping pointer to correct location
	from netlist window We weren't updating the pointer location after having panned the
	connection into the center of the screen.  Also fixes the open-coded panning code to work for flipped views.
	The patch is pretty horrible at best, but appears to fix the issue.  Unfortunately the locical call to use (the "Center" action) cannot
	be made through the generic action code as we need to specify the
	location explicitly. We could perhaps export the Centre action
	function, or refactor it as a wrapper around a helper function which
	we would then export and call.  I aim to eventually rework the GTK HID's coordinate transforms
	(including flipped views), event handling, view panning and pointer
	warping in order to give greater sepeatation between the renderer
	agnostic parts of the HID and the renderer. This will be needed for
	the 3D portions of the PCB+GL branch.  It seems most sensible to start refactoring from a state where the
	existing code at least functions correctly (even if it isn't
	pretty), rather than work in fixes as I refactor.

2010-12-27   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-main.c: hid/gtk:
	Remove unused Vx2 and Vy2 functions from gtkhid-{main,gdk}.c

2010-12-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-output-events.c: hid/gtk: Remove unused file scope
	variables event_x and event_y

2010-12-27   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Compute warp pointer offset
	without reading current position This is closer to the way the old code which used the an
	XWarpPointer call worked, and makes the two code-paths where we warp
	the pointer consistent. Also, remove some unnecessary comments which
	were more relevant to explain why we previously had too
	implementations.

2010-12-27   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Fix "Center" action in a
	couple of ways We need to update the adjustments together otherwise the center
	action will only work on one axis at a time.  Fix typo for out-of bounds check which mixed width and height.

2010-12-27   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* configure.ac, src/hid/gtk/gtkhid-main.c: hid/gtk: Clean up mouse
	warping code now we require a later GTK version Remove the X11 specific implementation and remove some comments in
	the GDK one which were more relevant to explain why we previously
	had two implementations.

2010-12-27   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-dialog.c: Cleanup conditional code now we require
	a later GTK version

2010-12-27   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* configure.ac: Bump required GTK version in configure.ac test to
	2.12 This is required, as we utilise some of the newer APIs.  NB: GTK+ 2.12.0 was released in September 2007

2010-12-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui.h: hid/gtk: Remove unused DRAW_Z, VIEW_Z macros

2010-12-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-output-events.c: hid/gtk: Don't avoid panning when
	further X11 events are pending Since we are using motion hints, we should not get bogged down with
	motion events, so we should probably just act upon them.

2010-12-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-output-events.c, src/hid/gtk/gui-top-window.c,
	src/hid/gtk/gui.h: hid/gtk: Use motion notify events to avoid too
	rapid pointer events Not fixing a specific problem - just a backport from the GL branch.

2010-12-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/find.c, src/find.h, src/hid/gtk/gui-netlist-window.c,
	src/hid/lesstif/netlist.c, src/rats.c, src/select.c: Revert undo
	changes relating to RatFindHook calls This reverts commit 1aac06b665330507ca42f380e38f32875a979cd9          and commit d3b508ca272b7d89aa27f552ab78943f9bed27f9.  I made a mistake by assuming the undo data saved by the RatFindHook
	(when looking up nets to select) was redundant. I had presumed this
	since the flags being set are reset again before we finish
	processing.  What actually happens, is that further processing sets the SELECTED
	flag on the FOUND objects. Undo data is saved for the SELECTED flag
	addition, which stores the previous flags of the object. When an
	undo is performed, it also restores the FOUND flag we wanted to keep
	unset.  In order to get back to our original state, we need the RatFindHook
	to store undo information for when the FOUND flag was initially set.  The ResetConnections() call after the RatFindHook should still be ok
	not saving undo information, as it only touches object flags which
	will be restored anyway by the undo data now saved by the
	RatFindHook.  NB: Revert was manually modified to retain an indenting change in
	find.c and to add the required changes to select.c, which had
	additions using the RatFindHook API since the above reverted commits
	were made.

2010-12-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/find.c, src/report.c, src/set.c: Remove Draw()
	call from ResetFound*() Let the caller do it This allows multiple changes to be grouped into one repaint
	operation.  Use this where appropriate, such as the Netlist lookup
	functions.

2010-12-23   Martin Kupec * martin dot kupec AT kupson dot cz *

	* src/action.c, src/const.h, src/select.c: Add NetByName to the
	select action options v2: Check Net name appropriately v3: Ensure we set the changed flag  Reviewed-by: Peter Clifton * pcjc2 AT cam dot ac dot uk *

2010-12-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/find.c, src/find.h, src/hid/gtk/gui-netlist-window.c,
	src/hid/lesstif/netlist.c, src/rats.c: find.c: Remove "undo"
	parameter to RatFindHook Since all callers pass false for the "undo" parameter since the last
	commit, remove it from the function prototype.  NB: The file-global variable "User", which it previously set can be
	assumed to be false, as it defaults to false - and is restored after
	any code which temporarily sets it to true.

2010-12-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-netlist-window.c, src/hid/lesstif/netlist.c: We
	don't need the RatFindHook to save undo state when doing netlist
	lookup We already save undo information to get to a known state when
	resetting the FOUND flags. Since we later reset back to this state,
	we don't need to save undo data.

2010-12-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-netlist-window.c, src/hid/lesstif/netlist.c: Fix
	netlist selection to save undo information for wiped "FOUND" flags When we wipe the found flags on objects, we should also queue them
	for redraw - this fixes that too, as the ResetConnections() argument
	controls both redraw AND saving undo data.

2010-12-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-netlist-window.c, src/hid/lesstif/netlist.c: 
	Remove unneeded Undo serial number save / restore in netlist lookup The RatFindHook function does not call anything which will increment
	the Undo serial number, so the save / restore calls are not
	required.

2010-12-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/autoroute.c, src/find.c, src/find.h,
	src/hid/gtk/gui-netlist-window.c, src/hid/lesstif/netlist.c,
	src/rats.c, src/report.c, src/set.c, src/toporouter.c: Fix broken
	undo handling for ResetFound*() and ResetConnections() Many callers have this idiom:   SaveUndoSerialNumber ();   ResetFoundPinsViasAndPads (AndDraw);   RestoreUndoSerialNumber ();   ResetFoundLinesAndPolygons (AndDraw); The intent is to squash the two operations into one undo operation.
	The ResetFound* functions DO increment the Undo serial number but
	ONLY if that particular function makes a change.  Assume for the example that the first ResetFound* call makes some
	change and increments the serial number. This is then reset by the
	caller. If the second ResetFound* call doesn't find anything, there
	is no overall increment to the serial number.  Move the undo serial number handling out of the ResetFound* calls,
	and let the callers increment the serial number if desired. To
	facilitate this, return a boolean value from these functions to
	indicate whether any changes were made which could be undone.  For convenience, expose previously static find.c function
	ResetConnections() in order to avoid repeating Undo handling in each
	caller to the two ResetFound* functions which are often called
	together.

2010-12-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/hid/gtk/gui-netlist-window.c,
	src/hid/lesstif/netlist.c, src/select.c: select.c: Remove Draw()
	call from SelectConnection Make callers responsible for calling the final Draw(), to avoid
	multiple redraws if other operations are to occur, such as changing
	"FOUND" flags on objects after making the selection.

2010-12-23   Patrick Bernaud * patrickb AT chez dot com *

	* src/free_atexit.h: Fix substitutions for leaky_*alloc functions

2010-12-22   Tibor Palinkas * geda AT igor2 dot repo dot hu *

	* src/hid/gtk/gui-top-window.c: hid/gtk: Use leaky_* functions for
	deliberate leaks in ghid_ui_info_append Allocate cached temporary memory with the leak_* memory allocation
	wrapers which allow these to be freed at exit.

2010-12-22   Tibor Palinkas * geda AT igor2 dot repo dot hu *

	* src/free_atexit.c, src/free_atexit.h: free_atexit.c: Add
	leaky_calloc() function for deliberately leaked calloc's Stores a pointer to the calloc'd memory to be free'd at exit of the
	program. Returned memory must not be free'd manually.

2010-12-22   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/report.c: report.c: Fix missing return value

2010-12-22   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/toporouter.c: toporouter.c: Make inline functions "static
	inline" gcc builds break for CFLAGS="-g" only builds (no -O2). Inlineing is
	only performed when optimisation is enabled, and unless we make all
	local inlined functions "static inline", it does not emit the
	non-inlined assembly for them, resulting in undefined symbols at
	link time.

2010-12-22   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gtkhid-main.c,
	src/hid/gtk/gui-output-events.c, src/hid/gtk/gui.h: hid/gtk: Move
	more gdk specific drawing routines to gtkhid-gdk.c

2010-12-22   Tibor Palinkas * geda AT igor2 dot repo dot hu *

	* src/Makefile.am, src/free_atexit.c, src/free_atexit.h, src/main.c: 
	Add leaky_{malloc,realloc} functions for deliberate non-free'd
	allocations These are to be used for local allocations made and cached for the
	lifetime of the program (never free'd). Typically, these are stored
	in a static char * variable (or similar) within a function.  The leaky_*() functions store the addresses of all memory they
	allocate, and for debugging builds, free it upon exit of the
	program, thus allowing leak detectors such as valgrind to ignore our
	deliberate "leaks".  The memory returned by leaky_*() must not be free'd.  Build system and PCB integration, and leaky_atexit.c reindenting by
	 Peter Clifton * pcjc2 AT cam dot ac dot uk *

2010-12-21   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/parse_l.l: parse_l.l: Fix warning implicit definition of
	function ‘CreateBeLenient’ Warning was introduced in commit
	e8dd18a2f7b83c6108d2c9398903d4be92e22d4c The required prototype was
	added to create.h, but create.h was not included in parse_l.l Note to developers: Please "make clean" and build with "make -s" before pushing changes.
	This kind of bug is really easy to catch, and I just recently spent
	a log of effort cleaning up PCB's compile so we can catch real bugs! Pretty please?

2010-12-20   Martin Kupec * martin dot kupec AT kupson dot cz *

	* src/action.c: action.c: Change macro ARG, to return NULL instead
	of 0 When the argument number requested does not exist, return NULL, not
	0, as this is more in keeping with the type (char *) normally
	returned.   Commit message modified by Peter Clifton * pcjc2 AT cam dot ac dot
	uk *

2010-12-20   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* : commit 7392b020deca9ef155f3b1449f1ad8fac6d6083b  Author: Peter
	Clifton * pcjc2 AT cam dot ac dot uk * Date:   Mon Dec 20 13:54:41
	2010 +0000

2010-12-20   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/crosshair.c, src/search.c, src/search.h: Improve grid snapping
	heuristics

2010-12-19   DJ Delorie * dj AT delorie dot com *

	* src/create.c, src/create.h, src/parse_l.l: Allow via copper to
	overlap; preserve illegal vias from file.  Reduce "overlapping via" tests to check for overlapping drills, not
	overlapping copper.  If a file being loaded has "illegal" vias, load
	them anyway - the check only happens at create time, if the user
	figures out a way around it, preserve it.

2010-12-16   DJ Delorie * dj AT delorie dot com *

	* src/rats.c: Further work on rats patch.  Add a lot of comments to clarify what's happening in that function
	(the previous patch was bogus because the function re-uses a
	structure in an unintended way).  Fixed the logic to be mew
	paranoid.

2010-12-16   DJ Delorie * dj AT delorie dot com *

	* src/rats.c: Fix rats bug (SF 3137324) When adding rats from a netlist, we want to skip nets with too few
	connections, not netlists with too few nets.

2009-02-20   Ineiev * ineiev AT users dot sourceforge dot net *

	* src/report.c: report object coordinates in selected units SF patch 1621915 HOW TO TEST load a pcb; Ctrl-R on objects of different types; the
	reported units should be either mm or mils according to selected
	units 04 Oct 2010: merged with Joerg Wunsch's patch 2995918 "Add
	human-readable info to polygon report"

2010-12-12   Ineiev * ineiev AT users dot berlios dot de *

	* src/polygon.c: [PATCH] fix bug 2793480 (vias/arcs-to-polygon
	clearances) frac_circle(): introduce radius_adjustment factor to make the
	polygon outline the arc rather than connet points on the arc ArcPolyNoIntersect(): compute number of segments so that polygon
	diverges from the arc no more than 0.02 of required thickness;
	adjust outer "arc" radius like in frac_circle()

2010-12-11   DJ Delorie * dj AT delorie dot com *

	* src/file.c: Check for special name "(local)" to mean "." When expanding a tree of footprints, we want the symbolic name
	"(local)" to mean the "." subdir.  Now that we check for chdir()
	failures, we can no longer "just work" because the chdir didn't
	change directories.

2010-12-11   David Dandar * ddandar AT users dot sourceforge dot net *

	* src/action.c: Let RealignGrid align grid to a pin or pad snap.  SF patch 2476262: Realign grid has been broken for a while. Darn mm and mil mix
	components were killing me. I got desperate and fixed it, but I'm
	not sure if it's the right fix. It does work though. Hope this
	helps.

2010-12-11   Seb James * seb AT esfnet dot co dot uk *

	* src/rats.c: SF patch 1674895: This crash occurs in rats.c, around line 610 in the function
	DrawShortestRats() where CreateNewRat() is called with some
	arguments which don't exist.  It occurred for me when I tried to "optimize rats nest" on an
	invalid design.  There's no check in DrawShortestRats() that the firstposition and
	secondposition pointers are not NULL.  firstposition->X (and Y) and
	secondposition->X (and Y) are passed as arguments to CreateNewRat().
	It is possible in some cases that firstposition and secondposition
	are not reset from 0 in the code preceding the call to
	CreateNewRat(). In these cases a segfault will occur.

2010-10-09   Cesar Strauss * cstrauss AT not2005 dot cea dot inpe dot br *

	* configure.ac, src/action.c: Check for the _spawnvp function and
	use it if present.

2010-10-09   Cesar Strauss * cstrauss AT not2005 dot cea dot inpe dot br *

	* src/.gitignore: Ignore generated files on Windows.

2010-12-07   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/buffer.c, src/command.c, src/create.c,
	src/drill.c, src/file.c, src/find.c, src/hid/common/flags.c,
	src/hid/gerber/gerber.c, src/hid/gtk/gtkhid-gdk.c,
	src/hid/gtk/gui-dialog-size.c, src/hid/gtk/gui-top-window.c,
	src/hid/lesstif/main.c, src/hid/lesstif/menu.c,
	src/hid/lesstif/styles.c, src/intersect.c, src/main.c, src/misc.c,
	src/mymem.c, src/mymem.h, src/netlist.c, src/parse_l.l,
	src/parse_y.y, src/rats.c, src/remove.c, src/report.c, src/undo.c: 
	Remove My* memory allocation routines. Just use the standard APIs
	directly This means the following changes:   1.  Replace all calls to MyCalloc()  with calls to calloc()   2.  Replace all calls to MyMalloc()  with calls to malloc()   3.  Replace all calls to MyRealloc() with calls to realloc()   4.  Replace all calls to SaveFree()  with calls to free()   5a. Where the MYFREE(x) macro is used and its pointer clearing
	      side- effect is required, call free (x); and (x) = NULL; directly.    5b. Where the MYFREE(x) macro is used, and (x) is immediately re-       assigned, or its location free'd or zero'd, skip the (x) =
	      NULL;   6. Replace all calls to MyStrdup() with calls to the STRDUP(x)
	     macro, which expands to (((x) != NULL) ? strdup (x) : NULL).  NB: The previous commit already replaced various known "safe" calls
	    of MyStrdup() with strdup(), when the argument is known to be
	non-NULL.    1,2,3 and 6. mean that we discard the following features of the   mymem.c allocators:     7. Logging messages when MEM_DEBUF defined     8. Logic to assign 1 unit of memory if 0 is requested     9. Allocation failure handling via MyFatal() -> EmergencySave()  With feedback from Stephen Ecob * silicon dot on dot inspiration AT
	gmail dot com * 7. Is old debug code which is rarely (if ever) used. Current debug
	   tools such as Valgrind can do a much better job of memory debugging
	now.  8. This is really papering over the possibility of a caller bug, and    should never have been included in the first place.  9. This is unlikely to actually ever save someone from loosing their
	PCB.  Patch created with the assistance and testing of  Stephen Ecob *
	silicon dot on dot inspiration AT gmail dot com *

2010-12-07   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/buffer.c, src/copy.c, src/create.c, src/file.c,
	src/fontmode.c, src/main.c, src/misc.c, src/move.c, src/netlist.c,
	src/rats.c: Convet some "safe" usage of MyStrdup to plain strdup These cases are ones where we know the caller will not risk passing
	a NULL string to duplicate.  Patch created with the assistance and testing of  Stephen Ecob *
	silicon dot on dot inspiration AT gmail dot com *

2010-12-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/create.c: Ensure CreateNewText() returns NULL if called with
	NULL text.  Ensuring that text will not be NULL allows us to replace the
	MyStrdup call with a simple strdup.

2010-12-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/file.c: file.c: c Attempt to handle failure of
	GetWorkingDirectory() and chdir() Report the error to the user if any GetWorkingDirectory or chdir
	call fails. Add attempts to change back to the original working
	directory on error paths.  Ideally, these functions would be re-implemented to operate without
	changing the current working directory at all.

2010-12-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/change.c: Plug some memory leaks of strings
	returned from gui->prompt_for()

2010-12-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/vendor.c: vendor.c: Fix memory leak and unused variable in
	ActionLoadVendorFrom() Also, don't bother testing x != NULL before calling free (x).

2010-12-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/common/hidnogui.c: hid/common: Fix / re-write
	nogui_{prompt_for,fileselect,confirm_dialog}() Fixes some pretty nasty bugs in these functions: 1. These functions must return allocated memory, strdup will do
	nicely.  2. fgets will insert the newline character into the buffer, so we
	   need to check if we just got a '\r' or '\n' as our first character,
	    not just '\0' when deciding whether to return the default string or
	not.  3. DO NOT strcpy a the default string...     we don't know if it will overflow our buffer 4. For the "fileselect" case, return NULL if the user didn't give us
	   a filename, and the caller didn't specify a default string. Prompt
	   for will return strdup (""), equivalent to what it previously did.

2010-12-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/batch/batch.c: hid/batch: Use hidnogui as a default base
	hid to avoid code duplication

2010-12-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c: action.c: Mark some strings as translateable in
	ActionImport()

2010-12-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/misc.c, src/misc.h, src/mymem.c, src/mymem.h: Make the strings
	passed to AttributePutToList and MyStrdup (const char *) Silences some compiler warnings when using const char * strings.

2010-12-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/lesstif/dialogs.c, src/hid/lesstif/main.c,
	src/hid/lesstif/menu.c, src/hid/lesstif/netlist.c,
	src/hid/lesstif/styles.c: hid/lesstif: Revert some Boolean->bool
	type changes as required by Xt* APIs This is a partial revert of commit
	ad5eb5a165442be38624aa622beeb57dc1d2afbd For consistency, I have also reverted the changes of True->true and
	False->false when calling  X11 APIs.

2010-12-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/lesstif/dialogs.c: hid/lesstif: Use an intervening size_t
	casts to aovid compiler warnings This is to avoid the compiler warning us what we already know.. that
	we are passing an integer value cast into what might be a different
	sized pointer. (On 64 bit builds).

2010-12-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/batch/batch.c: hid/batch: Add some missing header files
	for prototypes

2010-12-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/Makefile.am, src/hid/batch/batch.c, src/hid/common/hidinit.h,
	src/hid/gcode/gcode.c, src/hid/gerber/gerber.c, src/hid/lpr/lpr.c,
	src/hid/nelma/nelma.c, src/hid/png/png.c, src/hid/ps/eps.c,
	src/hid/ps/ps.c: hid/common: Provide a header to define
	hid_parse_command_line() Avoids having each caller having to pull it in with an extern
	declaration.

2010-12-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/Makefile.am, src/hid/batch/batch.c, src/hid/common/actions.h,
	src/main.c: hid/common: Provide a header file to define
	print_actions() Avoids having each caller having to pull it in with an extern
	declaration.

2010-12-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/batch/batch.c: Fix function prototypes and dummy return
	values for batch HID Most of these are dummy functions, but we should get the prototypes
	right! Also, return 0 from dummy functions which are supposed to
	return an integer.  Fixes various compiler warnings.

2010-12-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid.h, src/hid/batch/batch.c, src/hid/common/hidnogui.c,
	src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-dialog.c,
	src/hid/gtk/gui.h, src/hid/lesstif/dialogs.c,
	src/hid/lesstif/lesstif.h: HID: Make arguments to the prompt_for
	method const char *, not char * Avoids compiler warnings calling gui->prompt_for() with a const char
	*

2010-12-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c: Rename "r" variables used in calls to GetValue() to
	be more descriptive A purely cosmetic change.

2010-12-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c: action.c: Fix data types in GetValue calls We passed an (int *) rather than a (bool *) in ActionImport() and
	parse_layout_attribute_units()

2010-12-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/misc.c, src/misc.h: Change unmodifed parameters to GetValue to
	const char * Silences some compiler warnings in action.c

2010-12-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/autoroute.c: autoroute.c: #if 0 out an unused static function
	add_clearance() Silences compiler warning.

2010-12-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/djopt.c: djopt.c: #if 0 out an unused static function
	nudge_corner() Silences a compiler warning.

2010-12-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/buffer.c: buffer.c: Declare variables before code in
	ActionFreeRotateBuffer() Avoids compiler warning "ISO C90 forbids mixed declarations and
	code"

2010-12-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/change.c: change.c: Remove unused variable in
	ChangeElementText()

2010-12-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c: Remove unused variables in ActionElementList() and
	ActionImport()

2010-12-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c: Add missing return value in ActionImport()

2010-12-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/rtree.c: Silence used function warning for __r_tree_is_good()
	(Non-debug builds) __r_tree_is_good() and its helper functions are only used when
	debugging, and are called from assert() macros. If "NDEBUG" is
	defined, these expand to nothing, and the function is not called.  Wrap __r_tree_is_good() and its helper, __r_tree_node_is_good() with
	#ifndef NDEBUG

2010-12-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/file.c: file.c: The "elapsed" variable in LoadPCB is debugging
	only Silence compiler warning by moving it inside the #ifdef DEBUG

2010-12-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/flags.c: flags.c: Avoid compiler warning when casting our
	OffsetOf value Strictly, our OffsetOf calculation "could" return a number as large
	as the pointer size on the system - so the compiler will complain
	when we squash it directly into an int. Casting via a size_t will
	avoid the warning.  Our structure offsets are small, so this is safe - if somewhat ugly.

2010-12-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/toporouter.c: Toporouter: Comment unused debug variable Silences compiler warning

2010-12-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/gts/pgraph.c: gts: Comment some unused variables left as
	placeholders Silences compiler warnings

2010-12-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/gts/edge.c: gts: Add cast to silence compiler warning

2010-12-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/parse_l.l, src/res_lex.l: *.l: Add #define YY_NO_INPUT to
	avoid defining unused "input()" function Silences compiler warnings

2010-12-09   Stephen Ecob * silicon dot on dot inspiration AT gmail dot com *

	* src/buffer.c: Fix SmashBufferElement(), broken by fixing a memory
	leak in FreeDataMemory() Commit 466b0183758ef3ca44623c43de60a233b175d2ad broke
	SmashBufferElement() by changing FreeDataMemory() (which
	SmashBufferElement() calls via ClearBuffer()).  SmashBufferElement()
	depended on the memory leak of Data->Element in FreeDataMemory().  This patch removes the dependence on the leak.   Commit-message-reformatted-by: Peter Clifton * pcjc2 AT cam dot ac
	dot uk *

2010-12-07   Stephen Ecob * silicon dot on dot inspiration AT gmail dot com *

	* src/misc.c, src/mymem.c: Fixed some memory leaks associated with
	the global PCB structure.

2010-11-28   DJ Delorie * dj AT delorie dot com *

	* src/djopt.c: Store is_pad flag for each line rather than trying to
	deduce if a line is a pad or not.

2010-11-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* : commit 093a606b182229c8e28118ace1be7d6b6ad5cf7f  Author: Peter
	Clifton * pcjc2 AT cam dot ac dot uk * Date:   Fri Nov 26 03:26:08
	2010 +0000

2010-11-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon1.c: Various speedups to the polygon code.  Attempt to fix polygon slowness by avoiding the need to create a
	completely new polygon for each boolean operation. This mostly
	relies upon r-tree searches to find contours to operate on - rather
	than searching each in turn.  We avoid labelling all of the "A" polygon's contours, use the
	contour r-trees to dynamically search the required data.  Added code to reparent holes which end up in the wrong polygon piece
	after inserting a new hole in InsertHoles. This means we don't have
	to dump every potental hole we encounter in the holes insersion
	queue, hopefully leading to better dynamic update performance.  At this point, polygon performance has finally seen a net gain.  HOWEVER: Due to differences in the order of polygon operations, the          data-structures resulting from a boolean polygon operation          may be sorted differently.           In certain contrived cases, where a polygon is clipped into          identically sized pieces, the resulting piece of polygon          which PCB will keep and use on the board is different after          this commit.

2010-11-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon1.c: Use heap structure to insert holes quicker in
	InsertHoles()

2010-11-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polyarea.h, src/polygon.c, src/polygon1.c: Optimise polygon
	operations by keeping an rtree of POLYAREA contours Attempt to speed up the intersect() routine using this rtree rather
	than generating a new one at each call.  Due to the increased overheads of keeping an r-tree up to date,
	there is a significant overall slow-down at this point in the patch
	series.

2010-11-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon1.c: Use rtree of countours when computing an
	intersection NOTE: This is more complex than the existing code, and on its own,       actually slows things down a little.        The intention is that the r-tree should be maintained
	      continually, so it doesn't need to be recreated with each call
	to intersect().

2010-11-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon.c: polygon.c: Accumulate vias and lines into batches
	before subtracting them Accumulate polygons to clear from lines and pins in batches, then
	clear from the polygon. Not quite sure why, but this _really_ seems
	to speed up loading very complex boards. (e.g. 50sec -> 10sec for
	one example).  Possibly this is because withing the assembled batches, it is
	cheaper to produce a more unified contour (touching lines), and the
	complex contours of the main polygon are broken less frequently.  It isn't quite clear why this helps so much for pins / vias (which
	won't usually touch each-other), however it changes a 50sec load
	time to 10 sec.  This could perhaps be because any contours which
	are smashed by clearance of closely spaced vias / pins now only
	incurr the penalty of breaking the main contour once every batch
	(100 vias / pins).  Batch sizes (20 for lines, 100 for pins / vias) aren't necessarily
	optimal! Also, clear pins and vias last...  There is a chance these objects are simpler, and just end up as
	holes in the main polygon, rather than causing a contour
	intersection. This means it is cheaper to add them last.  If we add them first, and make the polygon complex, objects (usually
	lines) which pierce the polygon's outer contour cause all the holes
	to be removed and queued for re-insersion after the new contour is
	constructed.

2010-11-07   DJ Delorie * dj AT delorie dot com *

	* lib/geda.inc: Add more ACY, ACPY, ALF, RCY, RCYP, JUMPER, and
	HEADER macros to fill in the gaps.

2010-11-07   DJ Delorie * dj AT delorie dot com *

	* src/toporouter.c: Comment out code to dump toporouter surfaces.

2010-09-29   DJ Delorie * dj AT delorie dot com *

	* NEWS: Update NEWS from ChangeLog

2010-09-29   DJ Delorie * dj AT delorie dot com *

	* ChangeLog: Update ChangeLog from git logs.

2010-09-29   DJ Delorie * dj AT delorie dot com *

	* po/POTFILES.in: Fix for distcheck errors.

2010-09-29   DJ Delorie * dj AT delorie dot com *

	* src/action.c: Make new text clear polygons

2010-09-20   DJ Delorie * dj AT delorie dot com *

	* src/parse_l.l: Don't print "can't open ./default_font for reading"
	all the time

2010-09-19   DJ Delorie * dj AT delorie dot com *

	* src/file.c, src/parse_l.l: Wrap more messages in debug Messages about where fonts were found, or how many milliseconds it
	takes to load a file, are not normally needed.  Wrap them in DEBUG
	conditionals.

2010-09-14   DJ Delorie * dj AT delorie dot com *

	* src/hid/png/png.c: If we don't use the outline to clip, don't draw
	it either.

2010-09-14   DJ Delorie * dj AT delorie dot com *

	* src/hid/png/png.c: Fix bug tracker # 3064887 PNG exported all black in photo mode if the "outline" was exactly
	the board size, because the left/bottom edges were clipped leaving a
	big hole.  With this patch, we do two things: 1. Detect a non-trivial outline, and only do outline processing if
	found.  Thus, a rectangular outline exactly the size of the board is
	just ignored - no black border on the output image.  2. Any outline line that's drawn exactly on the bottom/right edge is
	brought in by half a pixel to ensure it's drawn in the resulting
	image.

2010-09-13   DJ Delorie * dj AT delorie dot com *

	* src/action.c: Avoid divide-by-zero Check for a zero dispersion before computing it.

2010-09-11   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/thermal.c: thermal.c: Initialise flags of the LineType object
	in square_therm() Keeps valgrind quiet about conditionals based upon uninitialised
	variables.. must be a good thing.

2010-09-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/autoplace.c, src/autoroute.c, src/buffer.c,
	src/copy.c, src/create.c, src/crosshair.c, src/data.h, src/djopt.c,
	src/draw.c, src/file.c, src/find.c, src/flags.c,
	src/hid/batch/batch.c, src/hid/common/extents.c,
	src/hid/common/flags.c, src/hid/gcode/gcode.c,
	src/hid/gerber/gerber.c, src/hid/gtk/gtkhid-main.c,
	src/hid/gtk/gui-config.c, src/hid/gtk/gui-output-events.c,
	src/hid/gtk/gui-top-window.c, src/hid/lesstif/dialogs.c,
	src/hid/lesstif/main.c, src/hid/lesstif/menu.c,
	src/hid/nelma/nelma.c, src/hid/png/png.c, src/hid/ps/eps.c,
	src/hid/ps/ps.c, src/line.c, src/macro.h, src/misc.c, src/move.c,
	src/polygon.c, src/print.c, src/puller.c, src/rats.c, src/rtree.c,
	src/rubberband.c, src/search.c, src/select.c, src/toporouter.c: 
	Split usage of "max_layer" into max_copper_layer and max_group  PCB has an equal number of layer groups as copper layers, so the
	"max_layer" #define'd variable has been used throught the codebase
	to delimit iteration over both layer groups, and layers.  This makes it hard for people reading the codebase to identify
	whether a given loop is over layers or layer groups (since the
	counter variable is often fairly terse or indescript). Confusingly,
	in some of the code, layer groups indexes are stored in a variable
	called "layer".  To aid understanding of the code, this commit removes the max_layer
	variable (#define'd to (PCB->Data->LayerN)), and replaces it with
	two similarly #define'd variables, "max_copper_layer" and
	"max_group".  This commit also introduces convenience macros:   #define solder_silk_layer (max_copper_layer + SOLDER_LAYER)   #define component_silk_layer (max_copper_layer + COMPONENT_LAYER) Which make the code intention much clearer for a common case of the
	old max_layer variable usage.

2010-09-10   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c: Fix lesstif SwapSides magic layer option.  If the first layer in the layer group is silk, the swap sides key
	won't auto-toggle the solder and component groups, nor properly
	activate them if it does.  Add code to find a visible *copper* layer
	in the layer group and use that.

2010-09-09   Ineiev * ineiev AT gmail dot com *

	* src/find.c: find.c: Add RATLINE_TYPE to switch statement in
	BuildObjectList Part of Ineiev's patch from:
	http://archives.seul.org/geda/user/Nov-2009/msg00456.html  Modified-by: Peter Clifton * pcjc2 AT cam dot ac dot uk *

2010-09-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/find.c: Fix crash due to uninitalised variable in DRC check
	Bug #3033772 Andrew Armenia  noted that the second pointer returned from
	BuildObjectList(), "object_type_list" would be left uninitialised if
	the object type was not encountered. A subsequent call to free() in
	DRCFind() would then cause memory corruption.  The issue was originally reported by Ineiev:
	http://archives.seul.org/geda/user/Nov-2009/msg00456.html That patch addresses the lack of a RATLINE_TYPE in the
	BuildObjectType function, but does not prevent a segfault for other
	unknown types.

2010-09-08   DJ Delorie * dj AT delorie dot com *

	* src/misc.c: Fix arc bounding box math.  Calculations for Arc bounding boxes weren't taking into account the
	wide range of possible starting arcs.  This patch uses modulus to
	force angles into canonical forms and iterates through quadrants to
	capture the full extents of each arc.

2010-09-08   DJ Delorie * dj AT delorie dot com *

	* src/parse_y.y: Fix typo in parse_y.y A typo in parse_y.y was causing the documentation to be corrupted.

2010-09-07   DJ Delorie * dj AT delorie dot com *

	* src/hid/gtk/gtkhid-main.c, src/hid/lesstif/main.c: Fix layer
	visibility logic for some boards.  If the Groups() line listed the c/s layer before the copper layer,
	disabling silk would also disable the copper.  This change searches
	the entire layer group looking for any layer that might need to be
	drawn, and uses that as the exemplar instead of blindly choosing the
	first layer in the list.

2010-09-01   DJ Delorie * dj AT delorie dot com *

	* src/gpcb-menu.res, src/pcb-menu.res: Add import settings to menus At the bottom of the Settings menu, add a submenu for import
	settings for placing new elements.

2010-09-01   DJ Delorie * dj AT delorie dot com *

	* src/action.c: Store units for import::disperse If the user specified the dispersement as "123mm" for example, store
	that string as-is for convenience.

2010-09-01   DJ Delorie * dj AT delorie dot com *

	* src/misc.c: Enhance GetValue Allow cm and in as units.  Allow the units to be part of the value
	string or separate.

2010-09-01   DJ Delorie * dj AT delorie dot com *

	* src/action.c: Add new-part-location to import Adds import::newX, import::newY, and import::disperse attributes.
	These determine where new parts are located when they're added to
	the layout, including some random variation to keep them from being
	all on exactly the same spot.  Parameters were added to Import() to
	set these:  In @code{Import()} is called with @code{setnewpoint} then the
	location of new components can be specified.  This is where parts
	show up when they're added to the board.  The default is the center
	of the board.   @table @code  @item Import(setnewpoint) Prompts the user to click on the board somewhere, uses that point.
	If called by a hotkey, uses the current location of the crosshair.   @item Import(setnewpoint,mark) Uses the location of the mark.  If no mark is present, the point is
	not changed.   @item Import(setnewpoint,center) Resets the point to the center of the board.   @item Import(setnewpoint,X,Y,units) Sets the point to the specific coordinates given.  Example:
	  @code{Import(setnewpoint,50,25,mm)}  @end table Note that the X and Y locations are stored in attributes named
	  @code{import::newX} and @code{import::newY} so you could change
	 them manually if you wished.   Calling @code{Import(setdisperse,D,units)} sets how much the newly
	placed elements are dispersed relative to the set point.  For
	example,  @code{Import(setdisperse,10,mm)} will offset each part
	randomly up to 10mm away from the point.  The default dispersion is
	1/10th of the smallest board dimension.  Dispersion is saved in the
	  @code{import::disperse} attribute.

2010-09-01   DJ Delorie * dj AT delorie dot com *

	* src/misc.c, src/misc.h: Add AttributeRemove functions Add AttributeRemoveFromList() and the wrapper AttributeRemove()

2010-08-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-top-window.c: hid/gtk: Remove unused colour
	allocation for "BlackPixel"

2010-08-28   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-top-window.c: hid/gtk: Remove unused extern HID
	ghid_hid from gui-top-window.c

2010-08-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Remove the unused "Erasing" flag / counter This variable tracks whether the object being drawn is to be erased.
	It is never actually tested, so remove it.

2010-08-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Initialise integer counters with 0, not
	"false".  For the "doing_assy" flag, fix its type to "bool" rather than "int".

2010-08-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Remove "HaveGathered" parameter from
	DrawLineLowLevel() This is superflous, as it is only passed as TRUE when the Gathering
	variable it overrides is known to be FALSE anyway.

2010-08-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/data.c, src/data.h, src/draw.c: Remove unused global variable
	"render", and "extern bool RedrawOnEnter" The "render" variable was set and reset, but was not used anywhere.

2010-08-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-output-events.c: hid/gtk: Track previous state of
	crosshair attachements when undrawing For correctness - this doesn't necessarily fix any rendering bugs.

2010-08-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-utils.c: hid/gtk: Simplify ghid_draw_area_update() If the rect passed is NULL, we can simply pass that on to
	gdk_window_invalidate_rect() which will invalidate the whole area.

2010-08-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-utils.c, src/hid/gtk/gui.h: hid/gtk: Remove unused
	functions relating to string display Removes ghid_string_markup_extents() and ghid_string_markup()

2010-08-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-utils.c: hid/gtk: Remove unused
	ghid_draw_area_clear() function

2010-08-15   DJ Delorie * dj AT delorie dot com *

	* src/hid/gtk/gui-top-window.c: Merge GTK attributes.  Since the new help system only allows one attribute (i.e. command
	line) list per HID, combine the two GTK lists into one.

2010-08-15   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c, src/hid/lesstif/menu.c: Merge lesstif
	attributes.  Since the new help system only allows one attribute (i.e. command
	line) list per HID, combine the two Lesstif lists into one.

2010-08-15   DJ Delorie * dj AT delorie dot com *

	* src/main.c: Print all command line options with help.  Keep track of which attributes we've printed as part of the HID
	help.  After that, print any remaining attributes we know about that
	we haven't already printed.

2010-08-15   DJ Delorie * dj AT delorie dot com *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-top-window.c: Export
	GTK attributes.  The new help system uses export attribute lists for help, so the
	Lesstif HID needs to export them.

2010-08-15   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c: Export lesstif attributes.  The new help system uses export attribute lists for help, so the
	Lesstif HID needs to export them.

2010-08-15   DJ Delorie * dj AT delorie dot com *

	* src/action.c: Check for NULL element name when adding attributes.  When setting element attributes, if the element is as yet unnamed,
	use an "unnamed element" title instead of segfaulting.

2010-08-15   Robert Spanton * rspanton AT zepler dot net *

	* po/ru.po, src/hid/gtk/gui-dialog.c: Add a keyboard shortcut to
	pcb's "close without saving" option This patch adds a keyboard mnemonic to the "close without saving"
	option in the close confirmation dialog box.

2010-08-15   DJ Delorie * dj AT delorie dot com *

	* src/action.c: Update Import() docs Fix capitalization.  Mention that elements that should be removed
	are left, but selected, after an Import.

2010-08-15   DJ Delorie * dj AT delorie dot com *

	* src/buffer.c, src/gpcb-menu.res, src/pcb-menu.res: Add
	FreeRotateBuffer to the Menu Modify FreeRotateBuffer() to prompt the user if no angle is passed.
	Add an entry to the menus to call it that way.

2010-08-10   kai-martin * kmk AT bibo dot iqo dot uni-hannover dot de *

	* src/action.c: modified: action.c (fix element name position on
	import schematic)

2010-08-14   DJ Delorie * dj AT delorie dot com *

	* tools/gnet-pcbfwd.scm: Quote strings Quote all strings that might contains commas or close parens, to
	avoid syntax errors when those names are passed to actions.

2010-08-03   DJ Delorie * dj AT delorie dot com *

	* src/select.c: Don't select silk on the far side if the far side is
	not shown The logic for determining if a layer was "on" didn't take into
	account that the two silkscreen layers are handled differently.
	Thus, if you tried to select shown silk, you would select hidden
	silk on the other side too, unknowingly moving that around.  With this patch, silk on the far side is only selected if the far
	side ("invisible" side) is shown.

2010-06-06   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/const.h, src/crosshair.c, src/flags.c,
	src/gpcb-menu.res, src/hid/gtk/gui-icons-mode-buttons.data,
	src/hid/gtk/gui-misc.c, src/hid/gtk/gui-output-events.c,
	src/hid/gtk/gui-top-window.c, src/hid/lesstif/main.c,
	src/pcb-menu.res, src/set.c: Introduce POLYGONHOLE_MODE for creating
	holes in polygons Having selected polygon hole mode, the first click selects which
	polygon to cut a hole in. A second click defines the start point of
	the hole contour. The tool then behaves in a similar way to the
	polygon drawing tool, with the hole ending when the start point is
	re-clicked.  To avoid creating illegal polygons, the hole drawn is subtracted
	from a representation of the original polygon with the
	poly_Boolean_free().  This consolidates any contours it intersects
	with and prevents the user defining contours which intersect each
	other. (Although we don't currently prevent the the user drawing
	self-intersecting contours).  The resulting POLYAREA is re-processed into PolygonType objects,
	potentially more than one - if the hole drawn bisects the original
	polygon. To keep undo operations simple, these are added as
	completely new objects and the original polygon is deleted - along
	with its ID.

2010-06-06   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon.c, src/polygon.h: Expose APIs for creating POLYAREA
	from PolygonType objects and back The PolygonPoly() API wraps polygon.c's original_poly() function,
	whilst PolyToPolygonsOnLayer() converts the passed POLYAREA and all
	those linked to it into discrete PolygonType objects on the board.

2010-06-06   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/autoroute.c, src/buffer.c, src/copy.c,
	src/create.c, src/create.h, src/crosshair.c, src/file.c,
	src/file.h, src/global.h, src/insert.c, src/insert.h, src/mymem.c,
	src/mymem.h, src/parse_l.l, src/parse_y.y, src/polygon.c,
	src/polygon.h, src/remove.c, src/report.c, src/undo.c, src/undo.h: 
	Support holes in input polygons (incl. file-format addition) PCB file-format date is now 20100606, and files saved with this or
	greater PCB version will not load with older versions of PCB.  If a
	particular board doesn't make use of the polygon hole feature, the
	PCB revision date in the file can be manually reset to 20070407.  The file-format addition is as follows. Previously, a polygon would
	be specified as a series of coordinates, such as: Layer(1 "component") (   Polygon("clearpoly")   (     [6000 6000] [81000 6000] [81000 59000] [6000 59000]   ) ) This commit introduces the ability to specify negative contours
	which form holes in the polygon shape, e.g.: Layer(1 "component") (   Polygon("")   (     [6000 6000] [81000 6000] [81000 59000] [6000 59000]     Hole (       [76000 55000] [76000 38000] [58000 38000] [58000 55000]     )     Hole (       [10000 10000] [10000 28000] [27000 28000] [27000 10000]     )   ) ) The winding order of the contours specified in the file does not
	matter, since PCB will automatically invert the order of the points
	as necessary (as it always did with the outer contour).  Hole contours should not intersect or self-intersect (although this
	isn't checked for at load time). Hole contours must not intersect
	the polygon's outer contour.  Technical details: The PolygonType structure has a number of new fields, the critical
	ones being an array of indices defining the start of hole contours.  (PolygonType *)->HoleIndex[n] The number of hole contours is stored in (PolygonType
	*)->HoleIndexN, and the maximum allocated memory for indices in
	(...)->HoleIndexMax.  The first hole contour starts at the point
	given by (...)->Points[(...)->HoleIndex[0]], and continues until the start of
	the next contour, or the last point defined.  By storing all polygon points (including holes) in the existing
	array (...)->Points[], existing code which operates on the polygon as a
	whole, e.g. translation and rotation, can operate without change.  For other operations, determining wrap-around to operate within the
	same contour requires more computation. Some helper functions have
	been introduced in polygon.c to aid this, next_contour_point() and
	prev_contour_point(). Where applicable, these have been used to
	simplify existing code which used ad-hoc wrap-around code.  polygon_point_idx() computes the array index of a point in a polygon
	from its PointTypePtr address. This is used to replace a search
	idiom used in a number of places. polygon_point_contour() returns
	the number of the contour a given point index belongs in, 0 for the
	outer contour, 1 for the first hole etc..  Undo: Undo with holes has become a little more complex. The undo for a
	point removal must now record which contour the point came from.
	This is determined by the index of the removed point, and a new
	boolean flag "last_in_contour", indicating if the point was at the
	end of its contour.  This flag is passed to InsertPointIntoObject(),
	which uses it to disambiguate inserting a point at an index on the
	boundary of two contours.  Undo operations for removing hole contours "cheat" by saving a copy
	of the whole polygon into the undo buffer rather than attempting to
	describe the operation as a delta change to an existing polygon.
	When undoing, the object IDs are swapped to keep them consistent.

2010-06-05   Jared Casper * jaredcasper AT gmail dot com *

	* src/hid/gtk/gui-log-window.c: Add missing return statement.

2010-06-05   Jared Casper * jaredcasper AT gmail dot com *

	* src/gpcb-menu.res, src/pcb-menu.res: Fix Bug #2717258, Lock mode
	with F12.  Binds F12 to lock mode in the default gcpb-menu.res and pcb-menu.res
	files, bringing them inline with existing documentation.

2010-06-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/crosshair.c, src/hid/lesstif/main.c: Revert some "True" ->
	"true" string changes These were inadvertently changed by the mechanised Boolean -> bool
	replacement in commit ad5eb5a165442be38624aa622beeb57dc1d2afbd

2010-06-05   Robert Spanton * rspanton AT zepler dot net *

	* src/action.c, src/action.h, src/autoplace.c, src/autoplace.h,
	src/autoroute.c, src/autoroute.h, src/box.h, src/buffer.c,
	src/buffer.h, src/change.c, src/change.h, src/clip.c, src/clip.h,
	src/command.c, src/copy.c, src/copy.h, src/create.c, src/create.h,
	src/crosshair.c, src/crosshair.h, src/data.c, src/data.h,
	src/djopt.c, src/draw.c, src/draw.h, src/drill.c, src/file.c,
	src/file.h, src/find.c, src/find.h, src/flags.c, src/global.h,
	src/gts/gts.h, src/hid/gerber/gerber.c,
	src/hid/gtk/gui-command-window.c, src/hid/gtk/gui-dialog-size.c,
	src/hid/gtk/gui-drc-window.c, src/hid/gtk/gui-library-window.c,
	src/hid/gtk/gui-misc.c, src/hid/gtk/gui-netlist-window.c,
	src/hid/gtk/gui-output-events.c, src/hid/gtk/gui-top-window.c,
	src/hid/lesstif/dialogs.c, src/hid/lesstif/library.c,
	src/hid/lesstif/main.c, src/hid/lesstif/menu.c,
	src/hid/lesstif/netlist.c, src/hid/lesstif/styles.c,
	src/hid/nelma/nelma.c, src/insert.c, src/insert.h, src/line.c,
	src/main.c, src/misc.c, src/misc.h, src/move.c, src/move.h,
	src/mtspace.c, src/mtspace.h, src/mymem.c, src/netlist.c,
	src/parse_l.l, src/parse_y.y, src/polygon.c, src/polygon.h,
	src/polygon1.c, src/rats.c, src/rats.h, src/remove.c, src/remove.h,
	src/report.c, src/rotate.c, src/rtree.c, src/rtree.h,
	src/rubberband.c, src/search.c, src/search.h, src/select.c,
	src/select.h, src/set.c, src/set.h, src/thermal.c,
	src/toporouter.c, src/undo.c, src/undo.h, src/vendor.c,
	src/vendor.h: Change all Booleans to bool.  c99 provides bool.  Declaring Boolean adds some obscurity to the
	code, and could also miss out on some machine-specific
	optimisations.  This patch removes the definition of Boolean, and changes all
	instances of it to bool.  If you've come across this commit because it's causing you issues
	when rebasing on mainline pcb, then you should find the following
	script useful.  You can use it to rewrite all of your local commits
	to use bool instead of Boolean like so: 	git filter-branch --tree-filter rename-bool.sh HEAD...${HASH} Replacing ${HASH} with the latest commit that's in mainline.  if [ ! -f src/autoplace.c ]     then     echo "This doesn't look like the PCB source directory."     echo "Cowardly exiting to avoid causing misery!"     exit fi chg_bool () {     FNAME=$1     ADDR=$2     sed -i -e "${ADDR}s/\bBoolean\b/bool/g" "$FNAME"     sed -i -e "${ADDR}s/\bTrue\b/true/g" "$FNAME"     sed -i -e "${ADDR}s/\bFalse\b/false/g" "$FNAME" } find -name '*.[ch]' | while read f do     chg_bool "$f" done find -name '*.[yl]' | while read f do     # Replace first '%%' line with __TMP_MARKER_     sed -i -e '0,/^%%/s/^%%/__TMP_MARKER_/' "$f"     # Replace in section before the first '%%'     chg_bool "$f" "0,/^__TMP_MARKER_/"     # Replace in section after the last '%%'     chg_bool "$f" "/^%%/,$"     # Remove the temporary marker:     sed -i -e 's/^__TMP_MARKER_/%%/' "$f" done

2010-06-03   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/file.c, src/parse_y.y: Refer to git, not cvs when reading a
	file from newer PCB.

2010-06-02   Sergey Alyoshin * alyoshin dot s AT gmail dot com *

	* po/LINGUAS, po/ru.po: Add Russian translation

2010-06-02   Sergey Alyoshin * alyoshin dot s AT gmail dot com *

	* po/POTFILES.in: Add source files with localized strings to .po
	generation

2010-06-02   Sergey Alyoshin * alyoshin dot s AT gmail dot com *

	* src/hid/gtk/gui-keyref-window.c, src/rats.c: Adjust punctuation
	and capitalisation of some messages

2010-06-02   Sergey Alyoshin * alyoshin dot s AT gmail dot com *

	* src/gpcb-menu.res: Add top level menu to localization

2010-06-02   Sergey Alyoshin * alyoshin dot s AT gmail dot com *

	* src/gpcb-menu.res, src/pcb-menu.res: String unification and white
	space cleanup String Rip up selected auto-routed tracks unified, so it can be
	translated as one string. Also some white spaces at end of line
	removed.

2010-06-02   Sergey Alyoshin * alyoshin dot s AT gmail dot com *

	* src/hid/common/actions.c: Localize need coord message before
	output

2010-06-02   Sergey Alyoshin * alyoshin dot s AT gmail dot com *

	* src/action.c, src/change.c, src/create.c,
	src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-command-window.c,
	src/hid/gtk/gui-config.c, src/hid/gtk/gui-top-window.c,
	src/hid/ps/ps.c: Add strings to localization

2010-06-02   Sergey Alyoshin * alyoshin dot s AT gmail dot com *

	* src/global.h, src/hid/gtk/gui.h: Move internationalization macros
	to one header

2010-06-02   Sergey Alyoshin * alyoshin dot s AT gmail dot com *

	* autogen.sh: Add rule to extract localized stings from .res files

2010-06-02   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c: hid/gtk: Don't call gdk_draw_points()
	when we have no grid points to draw Fixes this warning seen when zooming close in on a course grid
	setting: Gdk-CRITICAL **: gdk_draw_points: assertion `(points != NULL) &&
	(n_points > 0)' failed

2010-06-02   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon1.c: Fix node_label() function to work with
	self-intersection Rather than just giving up if we encounter our own edges in the CVC
	list at first, skip them until we either run out of edges, or find
	one belonging to the other polygon.  I'm not 100% sure this is the correct fix, but it "seems to work".  Test-case: Layer(1 "component") (   Line[60000 70000 60000 90000 4000 2000 "clearline"]   Line[80000 60000 80000 90000 4000 2000 "clearline"]   Line[90000 90000 90000 50000 4000 6000 "clearline"]   Line[60000 40000 80000 60000 4000 6000 "clearline"]   Polygon("clearpoly")   (     [10000 10000] [140000 10000] [140000 140000] [10000 140000]   ) )

2010-06-02   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon1.c: Fix the polygon touching contour test in
	poly_ChkContour The following test-cases were used to help verify the changes: This polygon forms a self-touching shape like this: \|  However, the right-hand edge does NOT have a node at the
	junction.  /|  This previously caused it to fail the
	    self-intersection test.  It should be reported as good.  Polygon("")   (     [85000 50000] [85000 90000] [83000 90000]     [83536 63535] [85000 59999] [83535 56464]   ) This polygon forms a self-intersecting shape like this:  |/  (The vertical section is a straight line with no node in the
	 middle) /|   It must be reported as bad.  Polygon("")   (     [85000 50000] [85000 90000] [83000 90000]     [83536 63535] [85000 59999] [89535 56464]   ) This polygon self-intersects, and must be reported as bad: Polygon("")   (     [160000  50000] [160000  90000] [170000 100000]     [180000 120000] [180000 150000] [160000 150000]     [160000 120000] [170000 100000] [180000  90000]     [180000  50000]   ) This polygon self-touches, and should be reported as good: Polygon("clearpoly")   (     [120000  50000] [120000  90000] [130000 100000]     [120000 120000] [120000 150000] [140000 150000]     [140000 120000] [130000 100000] [140000  90000]     [140000  50000]   )

2010-06-02   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon1.c: Fix poly_ComputeInteriorPoint() to work correctly
	for holes The step where the algorithm finds a convex node to start from must
	take into account whether the polygon vertices are ordered as a hole
	or an outer contour. We now correctly compute a point inside the
	hole, rather than possibly outside it.  This fixes an assertion on the following test-case. Prior to this
	commit, the incorrect "interior" point tested for the concave hole
	happens to lie inside the polygon's other hole, causing it to fail
	an assert during processing.  Layer(2 "solder") (   Line[340000 160000 183700 108000 1500 3000 "clearline"]   Line[92000 121000 120000 90000 1500 3000 "clearline"]   Line[270000 90000 120000 90000 1500 3000 "clearline"]   Polygon("clearpoly")   (     [40000 40000] [320000 40000] [320000 200000] [40000 200000]   ) ) The bug was created in my attempt to speed up poly_ContourInContour:
	commit 3d0a8bd1dae0816d364a774bf9b958faf2983ec7

2010-05-11   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon1.c: Speed up poly_ContourInContour() test by computing
	interior point NB: This introduces a behaviour change in the boundary case, that
	two identical contours will now be considered to be inside each
	other.  First perform a test on an arbitrary boundary node (proving that the
	contour being testing for "insideness" is not outside the other
	contour. (This cannot not conclusively prove the contour is inside).  In many cases, this simple node test gives enough evidence to return
	0 for the ContourInContour test computing and testing an interior
	point.  Rather than checking each exterior point, compute a strictly
	interior point (not on the boundary), and test that against the
	second contour.  Benchmarked to improve performance over other fixes for the buggy
	test.  Example board load (CPU) times for a complex board:   21.50 (buggy contour_in_contour - single node point test)   24.43 (brute-force node point tests)   21.79 (single node test, then internal point test)

2010-05-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon1.c: Fix poly_ContourInContour() test not to return
	TRUE for touching contours This test could previously return true for touching contours, such
	 as: __________....  |_________ |  : :........ ||  : ::  /\  : ||  :
	Note that the bounding box of A is inside that of B, :: /  \ :/  \ :
	such that initial bounding box checks won't reject the ::/ A  \/  B
	\:   possibility of A being inside B.  ::\    /\    /: :: \  / :\  /
	: ::..\/..:.\/..: When testing for insideness, the first point on A's contour is
	picked.  In this case, unfortunately being the touching X point
	between the two contours. This point (correctly) returns as being
	inside B - and the false presumption is that the whole A contour is
	inside B.  This commit introduces an unfortunately slow, but more robust test,
	where we check each node in A for whether it is inside B. We return
	as soon as we find an A node outside B, however this means the test
	is VERY much slower for the case where A _is_ inside B.

2010-05-11   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon1.c: Add comment explaining assumptions for
	poly_ContourInContour function Also, document its buggy boundary condition where the arbitrary
	point chosen to test happens to be a common node shared between two
	separate contours (which the test should return FALSE for).

2010-05-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* configure.ac: Make --enable-dbus default for the GTK and Lesstif
	HIDs

2010-05-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/main.c: Allow running of action scripts when running PCB as an
	exporter

2010-05-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon1.c: Improve dump_poly() output Make it print each contour of a POLYAREA, and move the NEXT PLINE
	and NEXT POLY messages inside the loops interating over these
	structures.

2010-05-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-output-events.c: hid/gtk: Add tool-tip to identify
	element, pin and net when hovering

2010-05-09   DJ Delorie * dj AT delorie dot com *

	* src/gpcb-menu.res, src/pcb-menu.res: Clarify the meaning of keys
	bound to SetValue() Clarifies that keys which are bound to SetValue change the styles,
	not the existing objects, so they really affect *new* objects.

2010-05-04   DJ Delorie * dj AT delorie dot com *

	* src/hid/png/png.c: Fix PNG bloat for drills.  Keep track of when the GC is doing an erase or drill, and invert the
	bloat for holes.

2010-04-23   DJ Delorie * dj AT delorie dot com *

	* src/hid/gtk/gtkhid-main.c: Allow for only one confirm button.  The GTK confirm_dialog() hook now supports the user passing only one
	button.  Before, if you passed just "ok" it would create two OK
	buttons.

2010-04-23   DJ Delorie * dj AT delorie dot com *

	* src/change.c: Add hint about :MinClearGap(Selected,=10,mil) Add a hint to the user about how to change the clearance of a group
	of objects.

2010-04-23   DJ Delorie * dj AT delorie dot com *

	* src/change.c, src/change.h: Handle attempts to change clearance on
	polygons.  If the user attempts to change the clearance between polygons and
	objects within the polygon by pressing 'k' over the *polygon*,
	notice that attemp and tell the user how to accomplish what they
	want.

2010-04-12   Kai-Martin Knaak * kmk AT lilalaser dot de *

	* doc/extract-docs: expand the syntax of documentating comments This is part of the effort to derive the command line option entries
	in the manual dynamically from the source. The expanded syntax
	allows for more control on the actual headings rendered in the
	manual.  1) accept keys enclosed in quotation marks ("). This allows for
	multiple word nodes in the documentation.  2) strip leading digits of the key after sort. This allows to
	control the order of nodes from the source.

2010-04-16   Jared Casper * jaredcasper AT gmail dot com *

	* doc/pcb.texi, doc/thermal.pcb: Fix pr2136131. Clarify image of
	thermal in doc.  Also added some text about changing the style of thermal using
	shift-click in the sections that talk about it.

2010-03-18   Jared Casper * jaredcasper AT gmail dot com *

	* src/hid/common/actions.c: Check action name at registration.  Prevent actions with spaces and '(' in their names from being
	registered; these will cause ambiguity and problems in
	hid_parse_actionstring.

2010-03-18   Jared Casper * jaredcasper AT gmail dot com *

	* doc/pcb.texi, src/action.c, src/hid.h, src/hid/batch/batch.c,
	src/hid/common/actions.c, src/hid/common/hid_resource.c,
	src/hid/gtk/gui-command-window.c, src/hid/gtk/gui-top-window.c,
	src/hid/lesstif/main.c, src/hid/lesstif/menu.c, src/main.c: 
	Consolidate hid action parsing.  - Create a common routine hid_parse_command, which handles both
	action script style "action(arg1, arg2);" and command entry style
	"action arg1 arg2".  This is done by making a static
	hid_parse_actionstring function, which takes a boolean to determine
	whether or not it should accept command entry style strings.
	hid_parse_actions functions as it currently does, only accepting
	action script style, but does so by calling hid_parse_actionstring
	with TRUE.  - Use hid_parse_command across all hids for user command entry,
	removing command_parse in lesstif/main.c and batch/batch.c.  - Added extra error handling to common hid_actionv to match
	lesstif_call_action and remove lesstif_call_action.

2010-04-05   Dan McMahill * dan AT mcmahill dot net *

	* src/toporouter.c: Fix some "mixed declarations and code" issues.

2010-04-04   Ineiev * ineiev AT gmail dot com *

	* src/misc.c: Fix "Request for bounding box of unsupported type
	1024" Tracker bug # 2893717

	https://sourceforge.net/tracker/?func=detail&atid=538811&aid=2893717&group_id=73743

2010-04-03   DJ Delorie * dj AT duopoly dot delorie dot com *

	* src/hid/lesstif/dialogs.c: Fix doc typo

2010-04-03   Stuart Brorson * sdb AT cloud9 dot net *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-dialog.c: Open
	schematic file chooser dialog if PCB name is not set.  (cherry picked from commit 209e1031656f58ffe40189d93893457975c4042f)

2010-04-03   DJ Delorie * dj AT duopoly dot delorie dot com *

	* src/hid/lesstif/dialogs.c: Implement lesstif ImportGUI()

2010-04-03   DJ Delorie * dj AT duopoly dot delorie dot com *

	* src/action.c: Add missing newline.

2010-04-03   DJ Delorie * dj AT duopoly dot delorie dot com *

	* src/action.c: Let the GUI deal with choosing schematics.  If the PCB is as yet unnamed, or if the pcb name doesn't correspond
	to a schematic file, have Import() call ImportGUI() to let the user
	tell PCB what to do.  Note: corresponding HID changes are separate commits.

2010-04-03   DJ Delorie * dj AT duopoly dot delorie dot com *

	* src/misc.c, src/misc.h: Add AttributePut functionality.  Add the logic to put arbitrary attributes into a PCB.

2010-04-03   Stuart Brorson * sdb AT cloud9 dot net *

	* src/file.h: Remove conflicting declaration of ParseLibraryTree.  This is a static function declared in file.c.  Therefore I took it
	out of file.h.

2010-04-03   Stuart Brorson * sdb AT cloud9 dot net *

	* src/action.c: Place components in middle of board instead of at
	0,0.

2010-03-01   Stuart Brorson * sdb AT cloud9 dot net *

	* src/action.c, src/buffer.c, src/change.c, src/copy.c,
	src/create.c, src/file.c, src/file.h, src/global.h, src/main.c: 
	Support for footprints not in subdirectories Added tons of debug spew to various files to aid in program tracing
	Also, modify library loading stuff in file.c to allow footprints to
	live directly in library directory (rather than only one level
	down).

2010-04-02   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/png/png.c: When built with less than all of the graphic
	formats that the png exporter supports, don't segfault anymore.  The
	problem is an array is defined differently at compile time but the
	default value for the format was constant and a ways into the array.
	Problem reported by jean on irc.

2010-04-01   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-top-window.c: Inform the user where (what file or
	compiled in defaults) the menu config came from.  Should help with
	some of the gpcb-menu.res versus pcb-menu.res and the
	./gpcb-menu.res versus ~/.pcb/gpcb-menu.res confusion which comes up
	from time to time.

2010-04-01   DJ Delorie * dj AT delorie dot com *

	* src/report.c: Return non-fail for ReportAllNetLengths()

2010-04-01   DJ Delorie * dj AT delorie dot com *

	* src/report.c: Record the calculated length in Report(NetLength)

2010-03-24   Dan McMahill * dan AT mcmahill dot net *

	* : commit d9e4279e4c0af142bc776bdd4a3b905388ce6b5a  Author: Dan
	McMahill * dan AT mcmahill dot net * Date:   Wed Mar 24 17:38:17
	2010 -0400

2010-03-22   anthonix * anthonix AT anthonix-desktop dot (none) *

	* : commit 6081daa8966c8c83bb734789c38dd5c42dd97443  Author:
	anthonix * anthonix AT anthonix-desktop dot (none) * Date:   Mon Mar
	22 12:38:01 2010 +1300

2010-03-21   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/menu.c: Fix Typo

2010-03-20   anthonix * anthonix AT anthonix-desktop dot (none) *

	* src/toporouter.c: Toporouter: Speccut bug fix

2010-03-20   anthonix * anthonix AT anthonix-desktop dot (none) *

	* : commit 1ee723379413c20973bdad27b1e1cf1d722cf3d1  Author:
	anthonix * anthonix AT anthonix-desktop dot (none) * Date:   Sat Mar
	20 19:45:05 2010 +1300

2010-03-19   Anthony M. Blake * anthonix AT anthonix dot resnet dot scms dot waikato dot ac dot nz *

	* : commit e45f4e8d15f2c30f8ccb37de5b0bfa801fca572c  Author: Anthony
	M. Blake * anthonix AT anthonix dot resnet dot scms dot waikato dot
	ac dot nz * Date:   Fri Mar 19 16:25:38 2010 +1300

2010-03-18   Dan McMahill * dan AT mcmahill dot net *

	* tests/run_tests.sh: Missed the copyright bump when adding the
	gcode compare routines a few weeks back.

2010-03-18   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac, tests/golden/Makefile.am,
	tests/golden/hid_png2/Makefile.am,
	tests/golden/hid_png3/Makefile.am, tests/tests.list: Add tests for
	--outfile and --dpi arguments to the PNG exporter

2010-03-13   Kai-Martin Knaak * kmk AT lilalaser dot de *

	* README, doc/pcb.texi, src/main.c, win32/Readme.txt: replaces
	"pcb.sourceforge.net" with "pcb.gpleda.org"

2010-03-14   Stuart Brorson * sdb AT cloud9 dot net *

	* src/hid.h, src/hid/common/actions.c: Apply patch from Patrick
	Bernaud: Add function to register single action.  The possibility to register a single action has been introduced with
	commit 337fa8ba8094cee1ed291cec7bf29895ac7c9d72 but then reverted
	later when changing way of passing context to action callback.

2010-03-14   Stuart Brorson * sdb AT cloud9 dot net *

	* src/hid/common/actions.c: Apply patch from Patrick Bernaud: Modify
	HID actions storage.  It removes the HID_ActionNode structure and directly store
	registered actions in an array of HID_Action*.  It also provides a nicer way of making sure the array is sorted and
	the code for binary search within the array has been removed in
	favor of a call to bsearch().

2010-03-14   Stuart Brorson * sdb AT cloud9 dot net *

	* src/main.c: Apply patch from Patrick Bernaud:  Set 'exporter'
	global variable before printing defaults.  In print_defaults(), when the HID to print defaults is not a gui,
	set 'exporter' global variable prior to calling HID's
	get_export_options() callback.

2010-03-14   Stuart Brorson * sdb AT cloud9 dot net *

	* src/main.c: Apply patch from Patrick Bernaud:  Rewrite function
	that print HID options.  The previous version of usage_hid() had a strange search for gui HID
	attributes through 'hid_attr_node' rather than requesting them
	directly from the HID.  As a result it was calling the get_export_options() callback on
	exporter without prior setting of the exporter global variable.

2010-03-14   Stuart Brorson * sdb AT cloud9 dot net *

	* src/hid/gtk/gui-dialog-print.c: Apply patch from Patrick Bernaud:
	gtkhid: Avoid use of 'exporter' when testing for exporter
	availability.

2010-03-14   Stuart Brorson * sdb AT cloud9 dot net *

	* src/hid/gtk/gui-dialog-print.c: Apply patch from Patrick Bernaud:
	gtkhid: Set and unset global variable 'exporter' when printing.  The GTK hid was not setting the global variable 'exporter' before
	exporting the layout in ghid_dialog_print(): exporter HID relying on
	this variable being set were lost.

2010-03-14   Stuart Brorson * sdb AT cloud9 dot net *

	* src/hid.h, src/hid/common/actions.c, src/hid/lesstif/menu.c: Apply
	patch from Patrick Bernaud:  Provide context to callbacks of actions
	through global variable.  Providing a context to action is necessary for scripting languages
	(for example). To do so, a global variable ('current_action') is
	being defined: it is saved, set and restored when running the
	callback of an action in a way similar to what PCB already does with
	HIDs.  The callback function may access the action it belongs to and cast
	it the way it wants to extract information from a potentially
	extended HID_Action structure.

2010-03-14   Stuart Brorson * sdb AT cloud9 dot net *

	* src/hid/common/actions.c: Apply patch from Patrick Bernaud: Sort
	actions by references in 'all_actions'.  Previously, when building 'all_actions', a copy of every HID_Action
	was performed for each action. Now it builds 'all_actions' with
	pointers to the actual HID_Action structures (without reallocating).

2010-03-14   Stuart Brorson * sdb AT cloud9 dot net *

	* src/hid.h, src/hid/common/actions.c, src/hid/hidint.h,
	src/hid/lesstif/menu.c: Apply patch from Patrick Bernaud: Revert
	"single-action register/deregister".  This reverts commits 337fa8ba8094cee1ed291cec7bf29895ac7c9d72 and
	b274cf8fe9c8caf5bcd4edc28935c88cf5bab7f4 before the introduction of
	a new context passing scheme for actions.

2010-03-14   Stuart Brorson * sdb AT cloud9 dot net *

	* src/hid.h: Apply patch from Patrick Bernaud:  Fix comment for
	global variable 'gui' in hid.h.  hid_start_gui() does not exist. The variable is instead set in
	main() and hid_expose_callback().

2010-03-14   Stuart Brorson * sdb AT cloud9 dot net *

	* src/draw.c: Apply patch from Patrick Bernaud: Modify
	DrawSpecialPolygon() prototype to not take a pointer on HID.  DrawSpecialPolygon() was the only function to take a HID as
	parameter.  Every other draw function works on the current HID
	through global variable 'gui'.

2010-03-14   Stuart Brorson * sdb AT cloud9 dot net *

	* src/hid/gtk/gui-dialog-print.c: Apply patch from Patrick Bernaud:
	Support HID_Mixed options in attribute dialog Since an HID_Mixed attribute is the combination of a real and an
	enum, reuse the code for HID_Enum to provide a combo box next to the
	spin button for the real part.

2010-03-14   Stuart Brorson * sdb AT cloud9 dot net *

	* src/hid/common/hidinit.c, src/hid/gtk/gui-config.c, src/main.c: 
	Apply patch from Patrick Bernaud.  Modified code to not abort on HID_Mixed attributes. Th gtk HID is
	modified to understand such an attribute (though the attribute
	dialog has still no support for them), the lesstif HID is unchanged.

2010-03-14   Stuart Brorson * sdb AT cloud9 dot net *

	* src/main.c: Applying patch from Patrick Bernaud.  HIDs with a name too long were breaking alignement in usage() as the
	code requested insertion of a tab after the name even for HID names
	already exceeding the length of the tabulation.  This is similar to how usage_attr() already does alignment of name
	and help text.

2010-03-13   Dan McMahill * dan AT mcmahill dot net *

	* : commit b75d1fe8d42c138ae499898db5b926948b73f767  Author: Dan
	McMahill * dan AT mcmahill dot net * Date:   Sat Mar 13 09:08:06
	2010 -0500

2010-03-12   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gcode/gcode.c: Remove invalidate_wh from the new gcode HID
	too.

2010-03-11   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/global.h, src/main.c, src/misc.c: Remove Settings.init_done
	variable and its usage This variable was previously used to allow action scripts run prior
	to loading the GUI to avoid GUI startup if they executed a "Quit"
	action.  The requirement dates back prior to the HID split, where the "Quit"
	action would cause PCB to call gtk_main_quit(), an operation which
	is illegal if the GUI main loop was not yet started. The init_done
	flag was used in QuitApplication(), both to determine whether the
	GUI had started, and if not - to note that the GUI should not be
	initialised later. (Instead of calling gtk_main_quit()).  With the HID split, the QuitApplication() function was changed to
	call exit(0) rather than gtk_main_quit(), so this dance isn't
	necessary at all now.. in either case, we can just exit the
	application immediately.

2010-03-11   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/global.h: Remove unused HistorySize field from the settings
	structure

2010-03-11   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c, src/hid.h, src/hid/batch/batch.c,
	src/hid/common/hidnogui.c, src/hid/gtk/gtkhid-main.c,
	src/hid/lesstif/main.c: Remove unused "last" parameter from HID
	"invalidate_lr" method

2010-03-11   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid.h, src/hid/batch/batch.c, src/hid/bom/bom.c,
	src/hid/common/extents.c, src/hid/common/hidnogui.c,
	src/hid/gerber/gerber.c, src/hid/gtk/gtkhid-main.c,
	src/hid/lesstif/main.c, src/hid/lpr/lpr.c, src/hid/nelma/nelma.c,
	src/hid/png/png.c, src/hid/ps/eps.c, src/hid/ps/ps.c: Remove unused
	HID method invalidate_wh() invalidate_lr and invalidate_all are sufficient APIs for our needs.

2010-03-11   Dan McMahill * dan AT mcmahill dot net *

	* data/pcb.desktop.in: Revert "As silly as it seems to group any
	sort of scientific or EDA" I've pushed really hard to sort this nonsense out, and this patch is
	not in my opinion suitable for applcation. gEDA, gerbv and PCB all
	deliberately omit the Education category.. this is not where we need
	to fix this issue.  I strongly object to putting bogus categories into our apps.  If
	Debian want to patch these in, let them.  This reverts commit b402a144e19225f0648189bca6fbfad95d046047.

2010-03-11   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/ps/ps.c: Fix an obvious bug in the previous commit.
	Caught by harry.

2010-03-11   Dan McMahill * dan AT mcmahill dot net *

	* data/pcb.desktop.in: As silly as it seems to group any sort of
	scientific or EDA software under "Education", this appears to be the
	standard documented by
	http://standards.freedesktop.org/menu-spec/1.0/apa.html Noted in
	patch #2889228 by Ahmed El-Mahmoudy.

2010-03-11   Dan McMahill * dan AT mcmahill dot net *

	* data/pcb.desktop.in: "Encoding" is deprecated.
	http://standards.freedesktop.org/desktop-entry-spec/1.0/apc.html
	Noted in patch #2889228

2010-03-10   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.am: It is gcode/hid.conf not gcode/gcode.conf that
	needs to be distributed.  Also put this file in the correct sorted
	location.

2010-03-10   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: Add missing AC_PROG_MKDIR_P check.

2010-03-10   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.am: Fix building outside of the source tree with
	dependency tracking disabled.  In that case some directories need to
	be manually created.  Fixes bug #2889226.

2010-03-10   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/ps/ps.c: In the rectangle fill code fix a bug in swapping
	of the coordinates.  It doesn't appear that this code path is
	encountered much.

2010-03-10   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/ps/ps.c: Add DSC to the postscript outputs to keep certain
	windows based postscript viewers a little happier.  Patch supplied
	in patch #2700352 by Bob Paddock.

2010-03-10   Dan McMahill * dan AT mcmahill dot net *

	* INSTALL, configure.ac: The gcode exporter used libgd so make sure
	we check for it and document that we need it.  Noted by Patrick
	Bernaud in bug #2967313

2010-03-10   Dan McMahill * dan AT mcmahill dot net *

	* tests/inputs/Makefile.am: Make sure the simple gcode test layout
	makes it into the distfile.

2010-03-10   Dan McMahill * dan AT mcmahill dot net *

	* : commit 802576013b5d780cd87caafa31c694279ee2dc4f  Author: Dan
	McMahill * dan AT mcmahill dot net * Date:   Wed Mar 10 13:15:26
	2010 -0500

2010-03-09   Stephen Ecob * silicon dot on dot inspiration AT gmail dot com *

	* src/djopt.c: Fix Freckles The autorouter sometimes ends a trace just past a pad.  The
	optimizer cuts this trace at the pad center, leaving a tiny trace
	left over.  This tiny trace is a "freckle" and it inhibits mitering.
	Check for such freckles and remove them.

2010-03-09   Dan McMahill * dan AT mcmahill dot net *

	* tests/run_tests.sh: Make the xy file check actually do something.

2010-03-09   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac, tests/golden/Makefile.am,
	tests/golden/hid_gcode1/Makefile.am,
	tests/golden/hid_gcode1/gcode_oneline.gcode.back.cnc,
	tests/golden/hid_gcode1/gcode_oneline.gcode.drill.cnc,
	tests/golden/hid_gcode1/gcode_oneline.gcode.front.cnc,
	tests/golden/hid_gcode10/Makefile.am,
	tests/golden/hid_gcode10/gcode_oneline.gcode.back.cnc,
	tests/golden/hid_gcode10/gcode_oneline.gcode.drill.cnc,
	tests/golden/hid_gcode10/gcode_oneline.gcode.front.cnc,
	tests/golden/hid_gcode11/Makefile.am,
	tests/golden/hid_gcode11/gcode_oneline.gcode.back.cnc,
	tests/golden/hid_gcode11/gcode_oneline.gcode.drill.cnc,
	tests/golden/hid_gcode11/gcode_oneline.gcode.front.cnc,
	tests/golden/hid_gcode2/Makefile.am,
	tests/golden/hid_gcode2/out.back.cnc,
	tests/golden/hid_gcode2/out.drill.cnc,
	tests/golden/hid_gcode2/out.front.cnc,
	tests/golden/hid_gcode3/Makefile.am,
	tests/golden/hid_gcode3/gcode_oneline.gcode.back.cnc,
	tests/golden/hid_gcode3/gcode_oneline.gcode.drill.cnc,
	tests/golden/hid_gcode3/gcode_oneline.gcode.front.cnc,
	tests/golden/hid_gcode4/Makefile.am,
	tests/golden/hid_gcode4/gcode_oneline.gcode.back.cnc,
	tests/golden/hid_gcode4/gcode_oneline.gcode.drill.cnc,
	tests/golden/hid_gcode4/gcode_oneline.gcode.front.cnc,
	tests/golden/hid_gcode5/Makefile.am,
	tests/golden/hid_gcode5/gcode_oneline.gcode.back.cnc,
	tests/golden/hid_gcode5/gcode_oneline.gcode.drill.cnc,
	tests/golden/hid_gcode5/gcode_oneline.gcode.front.cnc,
	tests/golden/hid_gcode6/Makefile.am,
	tests/golden/hid_gcode6/gcode_oneline.gcode.back.cnc,
	tests/golden/hid_gcode6/gcode_oneline.gcode.drill.cnc,
	tests/golden/hid_gcode6/gcode_oneline.gcode.front.cnc,
	tests/golden/hid_gcode7/Makefile.am,
	tests/golden/hid_gcode7/gcode_oneline.gcode.back.cnc,
	tests/golden/hid_gcode7/gcode_oneline.gcode.drill.cnc,
	tests/golden/hid_gcode7/gcode_oneline.gcode.front.cnc,
	tests/golden/hid_gcode8/Makefile.am,
	tests/golden/hid_gcode8/gcode_oneline.gcode.back.cnc,
	tests/golden/hid_gcode8/gcode_oneline.gcode.drill.cnc,
	tests/golden/hid_gcode8/gcode_oneline.gcode.front.cnc,
	tests/golden/hid_gcode9/Makefile.am,
	tests/golden/hid_gcode9/gcode_oneline.gcode.back.cnc,
	tests/golden/hid_gcode9/gcode_oneline.gcode.drill.cnc,
	tests/golden/hid_gcode9/gcode_oneline.gcode.front.cnc,
	tests/inputs/gcode_oneline.pcb, tests/run_tests.sh,
	tests/tests.list: Add testsuite entries to test the gcode export HID
	and all of its command line options.

2010-03-09   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gcode/gcode.c: Remove RCSID.  We don't use those anymore.

2010-03-09   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gcode/gcode.c: Change options like 'drill depth' to
	'drill-depth' as a space in a command line option is non-standard.
	Also be consistent with having or not having a "." at the end of the
	option help strings.

2010-03-09   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gcode/gcode.c: Remove unix2dos system() call.  It was not
	needed.

2010-03-09   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gcode/trace.c: Get rid of compiler warnings.

2010-03-09   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gcode/gcode.c: Get rid of some gcc warnings.

2010-03-09   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gcode/gcode.c: C++ style comments -> C style comments

2010-03-09   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.1: Fix nroff error.   Noted in sf patch #2889227 by Ahmed
	El-Mahmoudy.

2010-03-09   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: add the gcode exporter to the export hid list

2010-03-09   Dan McMahill * dan AT mcmahill dot net *

	* INSTALL: add notes about what libs may be needed (none) for the
	gcode exporter.

2010-03-09   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gcode/auxiliary.h, src/hid/gcode/bitmap.h,
	src/hid/gcode/curve.c, src/hid/gcode/curve.h,
	src/hid/gcode/decompose.c, src/hid/gcode/decompose.h,
	src/hid/gcode/gcode.c, src/hid/gcode/gcode.h,
	src/hid/gcode/lists.h, src/hid/gcode/potracelib.h,
	src/hid/gcode/trace.c, src/hid/gcode/trace.h: indent to conform to
	the coding style used by pcb.

2010-03-09   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.am: gcode_lists.h should depend on gcode sources, not
	png sources.

2010-03-09   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gcode/auxiliary.h, src/hid/gcode/bitmap.h,
	src/hid/gcode/curve.c, src/hid/gcode/curve.h,
	src/hid/gcode/decompose.c, src/hid/gcode/decompose.h,
	src/hid/gcode/gcode.c, src/hid/gcode/gcode.h,
	src/hid/gcode/hid.conf, src/hid/gcode/lists.h,
	src/hid/gcode/potracelib.h, src/hid/gcode/trace.c,
	src/hid/gcode/trace.h: Apply sf patch 2948711 from Alberto Maccioni
	which adds a g-code exporter.

2010-03-08   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: When building the docs have configure check for
	epsf.tex being in the TeX installation.  Problem noted by Kai-Martin
	Knaak and the method for checking suggested by Peter Clifton.

2010-03-02   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* configure.ac: Fix test for whether to rebuild the shipped
	pcblib-newlib library ${top_srcdir} is a Makefile variable, we need $srcdir in
	configure.ac

2010-03-02   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* lib/Makefile.am: Fix make distcheck by removing regenerated newlib
	footprints The generated newlib files need to be removed by make distclean if
	they are being updated by the build process. If the files aren't
	being updated, we should not delete them as they were originally
	distributed with the source tarball.

2010-03-02   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* tools/Makefile.am: Fix distribution of gnet-pcbfwd.scm in the dist
	tarball Use the dist_ prefix to make this simple, so our installed targets
	are now listed in dist_..._DATA, rather than ..._DATA and
	EXTRA_DIST.

2010-03-01   DJ Delorie * dj AT delorie dot com *

	* src/parse_y.y: Allow empty attribute values.  The STRING token is NULL when an empty string is indicated, but
	empty attributes are different than missing attributes, so if a
	STRING is NULL, store an empty string instead.

2010-02-28   DJ Delorie * dj AT delorie dot com *

	* src/change.c: Fix bogus cast to BoxType Instead of casting, which hides real bugs, pass the address of the
	bounding box itself.

2010-02-24   DJ Delorie * dj AT delorie dot com *

	* src/action.c: Add more flexibility to the import::make option.  New attributes: make::outfile - the intermediate action file make::target - the
	makefile target to call (defaults to outfile or pcb_import)
	make::makefile - adds -f to make Added more documentation too.

2010-02-24   DJ Delorie * dj AT delorie dot com *

	* src/buffer.c: Check both FOO and FOO.fp for footprints.

2010-02-24   DJ Delorie * dj AT delorie dot com *

	* src/action.c: Check for NULL names.

2010-02-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/main.c: Use strdup to copy environment strings into our
	settings structure.  getenv returns a const char * which is part of the environment and
	must not be free'd.

2010-02-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/main.c: Fix default gnetlist executable name to be "gnetlist" The old value "defgnetlist" appears to have been a mistake.

2010-02-22   Jared Casper * jaredcasper AT gmail dot com *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-library-window.c,
	src/hid/gtk/gui-log-window.c, src/hid/gtk/gui-netlist-window.c,
	src/hid/gtk/gui.h: hid/gtk: Prevent extra windows from showing
	unnecessarily Prevent the library, log, and netlist windows in the GTK HID from
	being shown unless explicitely requested.  This is done by splitting
	ghid_*_window_show into ghid_*_window_create, which creates all the
	resources for the window, and ghid_*_window_show, which actually
	shows the window (and optionally "presents" it, which pulls it to
	the foreground and gives it focus).  Since the NetlistShow action no longer actually shows the netlist
	window, but sets the node/net that is shown in the window (if and
	when it is visible), this patch also adds NetlistPresent which
	presents the netlist window.  This can be added to the
	FindConnections menu item to restore the behavior of bringing up the
	netlist window on a find.  Added an action LogShowOnAppend() which can restore the old behavior
	that the log window is shown whenever something is appended to it
	(currently off by default).

2010-02-22   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: Document that it is pcb-menu.res for the lesstif HID
	and gpcb-menu.res for the GTK+ HID.

2010-02-19   Dan McMahill * dan AT mcmahill dot net *

	* lib/m4lib_to_newlib.sh: Add some quoting to handle the case where
	there are spaces in some of the directory names.  As noted by peque on irc, this script failed when the build
	directory was located somewhere that had a space in a directory
	name.  Adding the extra quotes fixes that.

2010-02-16   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c: Revert an unintended change.

2010-02-16   Ineiev * ineiev AT gmail dot com *

	* src/global.h: Fix broken build due to missing struct members Looks like a part of commit ef2efdd2a18a744eb715ffc1278aace1a2cded46
	was omitted by mistake.

2010-02-07   Ineiev * ineiev AT gmail dot com *

	* src/find.c, src/search.c: Fix bugs in the arc intersection
	routine. Bug #2942582 This bug resulted in various false identificaton of connectivity
	between arcs and other object. Notes from Ineiev's emails: So I built a montecarlo; fixed some ugly unrealistic cases like thin
	arc merged in bloat and arc->Delta<-360; ran the test program
	(aat.c) several hours on different machins; that discovered no
	errors, though the number of points was not very high (a thousand or
	slightly more): the reference functions are really slow.  That resulted in arc.bis.patch. I tested it also with already
	mentioned teardropped OSDCU.pcb and t1.pcb. Then, eliminate two
	precision losses.  I feel I ought to stop here: the patch fixes many more bugs than
	originally reported.

2010-02-13   Dan McMahill * dan AT mcmahill dot net *

	* : commit ef2efdd2a18a744eb715ffc1278aace1a2cded46  Author: Dan
	McMahill * dan AT mcmahill dot net * Date:   Sat Feb 13 12:41:35
	2010 -0500

2010-02-11   DJ Delorie * dj AT delorie dot com *

	* src/action.c, tools/gnet-pcbfwd.scm: Fix pcb forward annotation
	bugs Finish rename of pcblf -> pcbfwd, handle pcb-has-no-name case.

2010-02-09   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac, src/action.c: When mkdtemp() is available use it
	instead of tmpnam() for creating temp file names to be used by
	gnetlist or make.

2010-02-06   Dan McMahill * dan AT mcmahill dot net *

	* src/misc.c: Remove some gcc warnings about unitialized variables.  Remove some gcc warnings about uninitialized variables.  The logic
	was such that if the variables weren't ever assigned to somethign
	then they also would not have been accessed but by getting rid of
	this warning, we increase the chances of paying attention to other
	warnings which may indicate real bugs.

2010-02-06   Dan McMahill * dan AT mcmahill dot net *

	* src/misc.c: Add missing return on an action function which is
	supposed to return an int.

2010-02-06   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gtkhid-main.c: Remove some gcc warnings.  Use GPOINTER_TO_INT(), GINT_TO_POINTER() and remove a couple of
	unused variables to eliminate some gcc warnings.

2010-02-06   Dan McMahill * dan AT mcmahill dot net *

	* src/netlist.c: In functions returning non-void, give a return
	value for returns.

2010-02-06   Dan McMahill * dan AT mcmahill dot net *

	* src/file.h: Add missing prototype for sort_netlist() which is
	called in netlist.c.

2010-02-06   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac, src/action.c: Remove some gcc warnings.  Add missing headers for fork(), execvp(), wait().  Also remove a
	couple of unused variables.

2010-02-01   DJ Delorie * dj AT delorie dot com *

	* src/hid/gtk/gui-netlist-window.c, src/hid/lesstif/netlist.c: 
	Rename NetlistChanged() to avoid conflicts Rename the existing static NetlistChanged() functions in the Gtk and
	Lesstif HIDs to avoid conflicts with the core global
	NetlistChanged() function.

2010-02-01   DJ Delorie * dj AT delorie dot com *

	* src/hid/png/png.c: swap png bloat too When computing the bloat offsets for filled rectangles, apply the
	bloat after sorting the Y coordinates but before swapping them if
	we're printing the solder side.

2010-02-01   DJ Delorie * dj AT delorie dot com *

	* src/hid/png/png.c: Fix drawn circles When drawing a "line" that's zero length, check for rounded ends
	(circle) vs square ends (square).

2010-01-31   DJ Delorie * dj AT delorie dot com *

	* src/action.c, src/data.h, src/hid.h, src/misc.h, src/netlist.c,
	src/rats.c, src/undo.c, tools/Makefile.am, tools/gnet-pcbfwd.scm,
	tools/gnet-pcblf.scm: Changed element/netlist syntax as follows: ElementList(start) ElementList(need,...) ElementList(done) Netlist(freeze) Netlist(add,...) Netlist(thaw) Hooked all NetlistChanged() actions into a wrapper that checks for
	frozen.

2010-01-29   DJ Delorie * dj AT delorie dot com *

	* src/gpcb-menu.res, src/pcb-menu.res: Add import to gtk menu,
	change lesstif menu to match.

2010-01-29   DJ Delorie * dj AT delorie dot com *

	* tools/Makefile.am, tools/gnet-pcblf.scm: Add the new netlister.  Adds the new script-based netlister and the install rules.  Note
	that this installs PCB's netlister in gEDA's data directory.
	Unusual, but it's the best way to keep pcb in sync with its own
	netlister.

2010-01-01   DJ Delorie * dj AT delorie dot com *

	* src/action.c, src/global.h, src/gpcb-menu.res, src/hid.h,
	src/hid/batch/batch.c, src/hid/bom/bom.c,
	src/hid/common/hidnogui.c, src/hid/gtk/gtkhid-main.c,
	src/hid/lesstif/dialogs.c, src/hid/lesstif/lesstif.h,
	src/hid/lesstif/main.c, src/hid/lesstif/xincludes.h,
	src/hid/lpr/lpr.c, src/hid/nelma/nelma.c, src/hid/png/png.c,
	src/hid/ps/eps.c, src/hid/ps/ps.c, src/pcb-menu.res: Add attribute
	editor GUI to gtk and lesstif.  Attributes(Layout|Layer|Element) Attributes(Layer,layername) Let the user edit the attributes of the layout, current or given
	layer, or selected element.

2009-12-27   DJ Delorie * dj AT delorie dot com *

	* src/action.c, src/misc.c, src/misc.h, src/pcb-menu.res: Add
	Import() action Add an action to import schematics into the pcb.  It allows for a
	list of schematics to be specified in the action or in the pcb, as
	well as supporting using a Makfile instead of gnetlist.

2009-12-27   DJ Delorie * dj AT delorie dot com *

	* src/draw.c: Undo an accidental change.

2009-04-21   DJ Delorie * dj AT delorie dot com *

	* src/action.c, src/buffer.c, src/buffer.h, src/change.c,
	src/change.h, src/create.c, src/draw.c, src/file.c,
	src/hid/lesstif/main.c, src/misc.c, src/misc.h, src/netlist.c: 
	Work-in-progress for LF: netlist importing

2010-01-01   DJ Delorie * dj AT delorie dot com *

	* src/hid/png/png.c: Check for empty layers.  If you have a four-layer board but the inner layers are empty, photo
	mode dies.  This checks for at least the more common case, but
	further work to protect against *any* empty layer is warranted.

2010-01-01   DJ Delorie * dj AT delorie dot com *

	* src/hid/png/png.c: Fix photo-mode mask layer.  The addition of mask support to PNG export broke photo mode; this
	patch undoes the mask support when photo mode is enabled.

2009-12-27   DJ Delorie * dj AT delorie dot com *

	* src/hid/png/png.c, src/misc.c: Add support for specifying
	soldermask and solderside from the command line Added "solderside" and "mask" as valid layers for --layer-stack.
	Also added "silk" as an alias for "elements".  Added mask support to
	the PNG exporter so that it draws soldermask properly.  Also added
	support to PNG for showing the board from the solder side, and
	removed some leftover cruft from when it was copied from the PS hid.

2009-12-22   anthonix * anthonix AT anthonix-desktop dot (none) *

	* src/toporouter.c: Toporouter: Removed superfluous debug function

2009-12-22   anthonix * anthonix AT anthonix-desktop dot (none) *

	* src/toporouter.c, src/toporouter.h: Toporouter: A few fixes The main fix is in the 'special cut' code, which had a tricky corner
	case to deal with. The special cut code has also been commented in
	the critical spots.  There are a few other minor fixes, and a couple of heuristic
	changes.

2009-12-13   DJ Delorie * dj AT delorie dot com *

	* src/action.c: Handle NULL strings when replacing elements.  Sometimes, when you're building a board from the library, elements
	won't have values for their strings.  When replacing those elements,
	replicate the NULL pointer rather than trying to strup it.

2009-12-07   Chitlesh GOORAH * chitlesh dot goorah AT gmail dot com *

	* doc/refcard.tex: Update the quick reference  From: Chitlesh GOORAH * chitlesh dot goorah AT gmail dot com * To:
	gEDA user mailing list Hello there, The current layout of the PCB command reference PDF document (the
	one currently being shipped) is broken. It looks like it on life
	support.  http://chitlesh.fedorapeople.org/pcb/refcard_old.pdf I've updated only the layout of refcard.tex
	http://chitlesh.fedorapeople.org/pcb/refcard.tex to give
	http://chitlesh.fedorapeople.org/pcb/refcard.pdf . Unfortunately, I
	don't have enough time currently to update it to the latest key
	shortcuts. Can you guys please apply it to the next release ? I hope
	someone will update it in the meantime, else I'll dig into it next
	year.  Chitlesh

2009-11-25   Dan McMahill * dan AT mcmahill dot net *

	* src/main.c: In the -h (help) output, mention which gui the gui
	options are for.

2009-11-25   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi:  Rather than having @code{Pcb} all over, refer to
	 the program name with @pcb{}.  To help keep how we refer to and mark up the name of the program,
	define a macro at the start and use it all over.  Also change some of the "for X11" text since pcb really runs on what
	ever windowing system gtk (X11 or windows) or lesstif (X11 for this
	one) runs on.

2009-11-23   Dan McMahill * dan AT mcmahill dot net *

	* : commit c81b2d09b281a357910759a373bd8e8bdc4b3cd1  Author: Dan
	McMahill * dan AT mcmahill dot net * Date:   Mon Nov 23 21:16:36
	2009 -0500

2009-11-15   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c: hid/gtk: Add a guard against GC's being
	passed from another HID Various other HIDs have this check.

2009-11-15   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-gdk.c, src/hid/gtk/gui.h: hid/gtk: Move
	definition of the device context inside gtkhid-gdk.c Keep it private to the drawing routines.

2009-11-15   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: hid/gtk: Remove unused HID
	"ghid_extents"

2009-11-15   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/Makefile.am, src/hid/gtk/gtkhid-gdk.c,
	src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-top-window.c,
	src/hid/gtk/gui.h: hid/gtk: Move various gdk drawing routines into a
	new file gtkhid-gdk.c This separates some of the drawing code so it could be replaced more
	easily.  Pretty much a straight move at this point, but renamed the static
	function "draw_grid()" to ghid_draw_grid() now it is no longer local
	to gtkhid-main.  Removed all #include not required to build in gtkhid-main.c and
	gtkhid-gdk.c

2009-11-15   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c, src/hid.h, src/hid/gtk/gtkhid-main.c,
	src/hid/lesstif/main.c: Add SL_RATS layer ID to tell the GUI we're
	drawing rats Also, let the GUI decide whether it wants to draw rats or not,
	rather than have the core test PCB->RatsOn directly.

2009-11-15   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c, src/draw.h: draw.c: Apply const qualifier to DrawLayer
	and DrawSilk bounds This keeps the compiler happier.

2009-11-15   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/crosshair.c: By popular(*) request, Make the cross-hair snap
	to the center of pads * Popular.. or vocal?, I'm not sure.  If more people don't like the new behaviour, there is always git
	revert.  There was of course, a third possibility - adding support to snap to
	pad end-points _and_ their centers. I rejected this because of
	"nearly" square pads - it becomes difficult to know if you've picked
	up the center of the pad, and many of those asking for
	snap-to-center wanted it in order to pick up and align components by
	their pads.  NB: Optimised rat-lines still go to the edge of pads, as this can
	    often look less cluttered. Rat-lines drawn to the center of a pad
	    will work correctly, and remain on the pad center until the next
	    time "optimise" is run on the rats-nest.

2009-11-15   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/find.c, src/rubberband.c: Add support for rat-lines ending at
	the center of pads Optimised rats are still located at the edges of pads, but the rat
	connection checking code will now also accept rats ending at the
	center of a pad.

2009-11-14   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.h: draw.h: Remove ClearPin prototype missed in last
	commit

2009-11-14   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Don't clear pins / vias from polygons... it is
	already done! Our polygons already the required holes for pins, vias, pads etc..
	so don't waste drawing clearances twice. This looks to be a legacy
	from the way PCB used to draw polygons.

2009-11-14   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/common/draw_helpers.c, src/polyarea.h, src/polygon.c,
	src/polygon1.c: polygons: Tag circular contours so they can be
	special-cased when drawing.  Tagging circular contours allows GUIs (if they wish) to draw
	circular holes in polygons more accurately, and potentially faster -
	depending on whether they use mask based rendering or rely on the
	dicer.  When zoomed far out (and using a mask based scheme), the drawing
	routine can use a lower vertex count approximation to the contour -
	leading to rendering speed improvements. This is used to reasonable
	effect in the experimental OpenGL branch.  Modify hid/common/draw_helpers.c to use these tags when thin-drawing
	polygon contours with common_thindraw_pcb_polygon(). This allows the
	GUI to change the level of detail rendered with zoom, and serves to
	test this feature.  DRC checking and output are still done using the fixed resolution
	approximation present in the polygon contour, so in this respect -
	it makes rendering somewhat unfaithful to the final output.

2009-11-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: draw.c: Draw all vias, pins and pads under the mask
	layer This fixes an issue where the rendering of a partially masked via is
	inaccurate. The down-side is that partially, or completely masked
	vias become obscured by the mask drawn above them.  If the user is previewing the mask rendering, it is probably best
	that they see an accurate representation - even if this means hiding
	vias.

2009-11-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: Fix thindraw mask drawing for pins, including
	octagonal ones We need to set the line-width for round pins when in thin-draw and
	clearing the mask.  We need to tell DrawSpecialPolygon() whether we need thin-draw or
	not depending on whether we're clearing the mask or not. We don't
	need to set the line-width outside of DrawSpecialPolygon(), since it
	sets it its-self.  Fix DrawSpecialPolygon() to set the line width and cap style on the
	correct GC.

2009-11-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/common/draw_helpers.c: hid/common: Control update of
	NoHoles cache based on clip region If at least 50% of the bounding box of a polygon is within the clip
	region, compute the whole NoHoles polygon and cache it for later
	rendering.  If less of the polygon is within the clip region, just compute what
	we need to draw the piece we've been asked for.

2009-11-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/common/draw_helpers.c: hid/common: Fix memory leak in
	polygon NoHoles clipping routine poly_CopyContour creates the edge tree, as does ContourToPoly(),
	which overwrite the one created in poly_CopyContour().  Replace call to ContourToPoly() with a discrete alternative without
	the poly_PreContour() call.  Also, don't try to poly_Free() the output of poly_Boolean_free() in
	an error condition. poly_Boolean_free() re-uses the A input polygon
	for its output, so attempting to free that might be dangerous.  poly_Boolean_free() should free its inputs (and any partial output)
	if it encounters an error.

2009-11-12   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/common/draw_helpers.c: hid/common: Clip no-holes polygon
	pieces before calling fill_contour This avoids integer overflow in some HIDs (GTK, Lesstif?) when
	drawing at high zoom level. Such overflow would lead to incorrectly
	drawn polygons.  It is possible that a similar bug could effect thin-drawn polygons,
	but that has not manifested its-self so far. If we were to clip
	these in the future, we need to be careful to extend the clip region
	slightly off-screen, so the outlines are not drawn.  Ideally we would clip these vertices using a Sutherland-Hodgman
	clipping algorithm, then we could simply discard edges which are
	clipped completely.

2009-11-12   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c, src/hid/common/flags.c, src/hid/gerber/gerber.c,
	src/hid/png/png.c, src/hid/ps/ps.c, src/print.c: Use strcmp() for
	special layer names, rather than strcasecmp() Before commit 086aa491fae18f1ec72da047b772fa3510f72d0b, we were
	using strcmp() and strcasecmp() in different places. That commit
	changed to strcasecmp(). Lets choose to keep the more restrictive
	option for now, which reduces the number of "magic" layer names PCB
	supports.

2009-11-12   Patrick Bernaud * b-patrick AT wanadoo dot fr *

	* src/hid/gtk/gui-top-window.c: hid/gtk: Fix strncat length when
	building accelerator string. (CODE!) (Oops, I pushed an empty patch last time - Peter Clifton) Commit d6b396c4a34bb619c8e91da1e9cd9bd27ff54657 was not enough:
	strncat() must be given the remaining length of buffer to ensure it
	does not overflow. Plus it now emits a message in the unlikely case
	of a too small buffer for an accelerator.

2009-11-12   Patrick Bernaud * b-patrick AT wanadoo dot fr *

	* : hid/gtk: Fix strncat length when building accelerator string.  Commit d6b396c4a34bb619c8e91da1e9cd9bd27ff54657 was not enough:
	strncat() must be given the remaining length of buffer to ensure it
	does not overflow. Plus it now emits a message in the unlikely case
	of a too small buffer for an accelerator.

2009-11-12   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c, src/find.c, src/polygon.c: Correct rendering and
	connectivity checks for zero clearance pads and pins NB: These areren't technically allowed by PCB, but it is nice that
	when a user hacks zero clearance in their PCB file, that we: a) Draw polygons without any cleared gaps in the output b) Correctly determine that these objects will be connected to the
	polygon

2009-11-12   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c, src/hid/gerber/gerber.c, src/hid/ps/ps.c: Use
	strcasecmp when looking for the "outline" or "route" layer A some cases previously used strcmp, leading to inconsistencies in
	our handling of these "special" layers.

2009-11-12   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon.c: polygon.c: Remove unused #define COARSE_CIRCLE 0

2009-11-12   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon.c: Speed up unsubtraction from polygons when objects
	are deleted This process worked by adding a new "blob" of polygon to cover in
	the hole made by the object being deleted. If this "blob"
	intersected the contour of the original polygon, it would cause the
	polygon's contour to be damaged. To avoid this, the unsubract code
	would always clip the resulting polygon against the original
	(pristine) polygon contour.  Unfortunately.. this clipping operation is gauranteed to intersect
	the contour of the polygon - a very expensive operation, since all
	holes inside the polygon (many on a complex board) have to be
	re-processed.  This speed-up is achieved by reversing the order of operation. The
	"blob" to be added to the polygon is first clipped against the
	pristine contour (a relatively cheap operation). This then allows us
	to add the new clipped blob to the more complex polygon on the board
	without worry that the contour may be compromised.

2009-11-12   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/file.c: file.c: Add profiling of CPU seconds consumed during
	file load This information is useful to benchmark the load of complex boards
	which consume a lot of CPU cycles clipping polygons during loading.  Adding this upstream will allow me to gain information from users
	describing load slowness, without having a copy their design.

2009-11-11   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/ps/ps.c: hid/ps: Don't use diced polygons for postscript
	output This speeds up postscript output on boards with complex polygons.  It has the added advantage for some postscript and pdf readers that
	there are no accidental gaps rendered between pieces of the diced
	polygon due to non-global anti-aliasing in their renderer.

2009-11-11   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon.c: Play with number of line segments in line caps By changing from 36 lines-segments per circle to 40, we create a
	symmetry at 45 degrees - a common angle for lines on a circuit board
	to intersect at. This avoids building additional complexity in the
	polygons which are cut by these intersections.

2009-11-11   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon.c: Fixup frac_circle to avoid repeating a vertex the
	caller will add Before we were getting self-intersecting polygons in some cases, a
	big no-no. One less vertex should be added than the expected
	(CIRC_SEGS / range), since the caller adds the last vertex.

2009-11-11   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon1.c: polygon1.c: #ifdef DEBUG_ALL_LABELS build
	print_labels() Avoids warnings when building with DEBUG defined, but without
	DEBUG_ALL_LABELS.

2009-11-11   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon1.c: polygon1.c: Tidy up poly_Valid debug print
	routines to match pline_dump Avoids a superfluous line: %d %d 10 10 ""] at the beginning of each output block.

2009-11-11   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon1.c: polygon1.c: Fixup pline_dump() (debug code) to
	match correct edge state The old code would mistakenly annotate with the edge state for the
	next edge. From polygon1.c: /* note that a vertex v's Flags.status represents the edge defined
	 by * v to v->next (i.e. the edge is forward of v)  */

2009-11-11   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/polygon1.c: Re-write node_label() to only label the edge being
	passed as its argument.  Breifly, the old code tried to walk the entire CVCList labeling
	multiple edges. The new code tries only to label the argument vertex
	i.e. the forward ('N') edge from this vertex. It tries to look
	counter-clockwise just one edge which will give the answer in most
	cases. If that fails it looks further into the CVCList until it can
	find the answer, then stops. The code is much simpler because we
	know that the edge we are labeling is always departing the
	cross-vertex point.  (Futher comments and original bug diagnosis by Peter Clifton) This prevents "double labeling", where the old routine could label
	any edges which intersect at the vertex passed to node_label().  This fixes a bug discovered by Stefan Salewski, where certain boards
	could trigger an assert failure when PCB was built with debugging.  The bug, it would seem - is relating to the way (and order) we were
	labeling edges of polygon contours: 2 |/\     In this diagram, x is on the outer contour of our polygon,
	x  |    and is in fact two vertices at the same point, lets denote
	|\/     these as |\ and |/ 1 The labelling algorithm works up from point 1, gets to |\, whereupon
	it gets the CVCList for the spatial point x - which contains |\ AND
	|/ along with the (shared) edges from the clipping contour.  node_label is called with the |\ vertex, but in the process of
	scanning the CVCList at this point, it also checks for SHARED edges.
	It _only_ checks shared edges against the |\ vertex, NOT the |/ one.  During this pass, the | edge coming from the |/ vertex gets
	mis-labelled as "OUTSIDE", where is should eventually get labelled
	"SHARED" BUG: We then skip over calling node_label with the |/ vertex, since | has
	already been labelled. We next get to point 2.  Point 2 looks at the | edge, and declares it to be "INSIDE". (It
	should already have been labelled "SHARED" by this point, so
	node_label doesn't know any better.  The | edge is already labelled "OUTSIDE" when we go to label it
	"INSIDE".. assertion fail.  This commit avoids missing the correct labelling of shared edges, by
	ensuring we never label any edges in advance of calling node_label
	for them.

2009-11-11   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon1.c: Reindent polygon1.c with "indent" This is a painful one for me to push, as it will certainly cause
	rebase misery against all my local branches.  Oh well... got to be done!

2009-11-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/file.c: file.c: Don't walk off the end of a string in
	string_cmp() We need to check that we don't advance past the terminating \0 in
	the string.

2009-11-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon1.c: polygon1.c: Fix some printf format arguments in
	DEBUG sections %ld is for long int, and we are passing int, so use %d

2009-11-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-dialog.c, src/hid/gtk/gui-top-window.c: hid/gtk:
	Don't pass non-literat format argument to printf style functions.

2009-11-09   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-top-window.c: Pass correct length to strncat We need to pass "sizeof (string) - 1", due to the NULL pointer.

2009-11-08   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* win32/Makefile.am, win32/build_pcb, win32/pcb.nsi.in:  win32:
	 Install Readme.txt in @docdir@ Also removes unnecessary fiddling with pkgdatadir which was
	responsible for creating an empty directory $datadir/pcb-$VERSION/ Adjusted pcb.nsi.in to match new location of Readme.txt, but have
	not test-built the Win32 package due to non-availablility.   Adjusted build_pcb to put @docdir@ at ${pcb_inst}/doc, as this fits
	the rest of the win32 build better.

2009-11-07   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* example/Makefile.am, example/libraries/Makefile.am,
	tutorial/Makefile.am:  Install examples under @docdir@ This is what distro packaging scripts have been doing anyway, so
	save them the work by moving our defaults.   Suggested by Chitlesh GOORAH * chitlesh dot goorah AT gmail dot com
	*

2009-11-07   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* example/LED, example/LED.NET, example/LED.net, example/LED.pcb,
	example/LED2, example/LED2.pcb, example/Makefile.am: examples: Add
	".pcb" extension to "PCB(2)", move "LED.NET" to "LED.net"  ".pcb" change suggested by Chitlesh GOORAH * chitlesh dot goorah AT
	gmail dot com * ".net" change was my doing, to match our registered
	mime-types

2009-11-06   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/lesstif/main.c: lesstif: Remove errornous & operator in
	free () call GCC spotted this one.

2009-11-05   Dan McMahill * dan AT mcmahill dot net *

	* README.snapshots: Fix some details on branching and pushing a
	local branch.

2009-11-03   Dan McMahill * dan AT mcmahill dot net *

	* README.snapshots: Update how to release files on sourceforge since
	it has all changed.

2009-11-03   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: Welcome to pcb-1.99z (decision time is looming)

2009-11-03   Dan McMahill * dan AT mcmahill dot net *

	* : commit 7f38f164addcbfc0a9873d2e0782f921f2d005c9  Author: Dan
	McMahill * dan AT mcmahill dot net * Date:   Tue Nov 3 17:56:38 2009
	-0500

2009-11-03   Dan McMahill * dan AT mcmahill dot net *

	* utils/git2cl: Be more agressive about obfuscating email addresses.

2009-11-03   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/batch/batch.c, src/move.c: Fix mistaken use of MAX_LAYER
	instead of max_layer.  (Why this wasn't obvious, I can't possibly imagine ;)) Bug relates to batch HID, and move of text items onto the solder
	layer.

2009-11-02   Dan McMahill * dan AT mcmahill dot net *

	* NEWS: Add a few more news item for the upcoming release.

2009-11-02   Dan McMahill * dan AT mcmahill dot net *

	* : commit ccd37c7db665e3b0f15bc5377a54f89ba997296d  Author: Dan
	McMahill * dan AT mcmahill dot net * Date:   Mon Nov 2 22:24:29 2009
	-0500

2009-09-22   Ineiev * ineiev AT users dot berlios dot de *

	* src/file.c, src/global.h, src/mymem.c, src/parse_y.y: add
	attributes to layers Fix memory leaks of attributes

2009-10-30   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac, doc/Makefile.am, lib/Makefile.am: Provide better
	support for building from anoncvs sources.  There were a few conditionals which turned on additional portions of
	the makefiles if it was determined that the build was from sources
	obtained via git.  Expand this to also detect if sources were from
	CVS since we still support anonymous cvs for tracking sources.

2009-10-29   Dan McMahill * dan AT mcmahill dot net *

	* README.snapshots: Add some missing 'git push' to the instructions.

2009-10-29   Dan McMahill * dan AT mcmahill dot net *

	* NEWS: Add some last minute news items for 20091101

2009-10-29   Dan McMahill * dan AT mcmahill dot net *

	* README.snapshots: Recommend using the -O (obfuscate email
	addresses) option to git2cl

2009-10-29   Dan McMahill * dan AT mcmahill dot net *

	* utils/git2cl: Teach git2cl how to obfuscate email addresses.  Also
	add a --help.

2009-10-29   Dan McMahill * dan AT mcmahill dot net *

	* : commit dc0cdd25a1e490e7288622e9bcb5efd1f253c9cb  Author: Dan
	McMahill * dan AT mcmahill dot net * Date:   Wed Oct 28 22:58:43
	2009 -0400

2009-10-28   Dan McMahill * dan AT mcmahill dot net *

	* README.snapshots: Take a first pass at updating the release
	documentation for git instead of cvs.

2009-10-28   Dan McMahill * dan AT mcmahill dot net *

	* NEWS: Update the target release date for the next snapshot

2009-10-22   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon.c: Pass r_NoHolesPolygonDicer a POLYAREA *, not a
	PLINE * No functional changes to callers of NoHolesPolygonDicer() The allows state in the POLYAREA to be passed into the recursive
	dicer. This is needed in order to maintain an up to date r-tree of
	contours in the POLYAREA.

2009-10-22   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon1.c: Fix bug with polygon boolean operation PBO_XOR (I
	think!) If the contour in A is outside of B, it should be kept. It seems
	this case may have been missed.  PCB does not use the PBO_XOR operation, so it is difficult to test
	whether this is correct or not.

2009-10-21   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/global.h, src/polyarea.h, src/polygon1.c: Make rtree_t type
	available to polygon1.c This saves a load of casting, and helps the compiler doing its job
	catching programming errors.

2009-10-21   Jared Casper * jaredcasper AT gmail dot com *

	* src/hid/gtk/gui-top-window.c: Fix a bug in gtk hid which caused
	layer buttons to get confused (sourceforge bug 1988951) In ghid_layer_enable_buttons_update, the layer_buttons array was
	being indexed using a counter which stoped at the current max_layer,
	which was wrong.  Changed this to use the constants LAYER_BUTTON_*.  Also made the handling of the silk and rats buttons match the
	(slightly more correct) handling of the other buttons in
	layer_enable_button_cb.

2009-10-21   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/create.c, src/global.h, src/hid/common/draw_helpers.c,
	src/mymem.c, src/polygon.c, src/polygon.h: Add cache for "noholes",
	diced versions of polygons

2009-10-21   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/common/draw_helpers.c, src/polygon.c: Give callback from
	NoHolesPolygonDicer ownership of the returned contour This means callers of NoHolesPolygonDicer() should call
	poly_FreeContours on the contour they are passed (if they do not
	wish to retain it).

2009-10-21   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polyarea.h, src/polygon1.c: Replace poly_Clear(POLYAREA *)
	function with poly_FreeContours(PLINE **) The poly_Clear function only clears the contours of the polygon
	anyway, so make a more explicitly named function to do this work,
	and pass the contours directly.  This will be useful should we want to deal with a series of contours
	separately from a POLYAREA object.

2009-10-21   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/create.c, src/strflags.c: Fix "newfullpoly" flag
	test and save its state into the .pcb file.  The flag controlling this behaviour is kept up to date as a PCB
	flag, not something which is updated in Settings.FullPoly. Change
	the test accordingly.  Added a PCB flag "newfullpoly" to save this state in the .pcb file.  NOTE: "full" polygons severly break connectivity checking, as the
	      code always treats broken up pieces of the polygon as being
	connected.        It _might_ have been better to leave this support broken - so       users don't inadvertently create polygons with the "fullpoly"
	      flag.  TODO: Consider removing, hiding or adding warnings to this feature.

2009-10-20   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-output-events.c: hid/gtk: Remove unused function
	in_draw_state()

2009-10-19   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/common/actions.c: hid/common: Fix dereference bug in
	hid_find_action().  We want to check context for being NULL, not *context.

2009-10-19   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/common/actions.c: hid/common: Don't walk off end of string
	whilst parsing.  Fixed a bug where the action parser would walk off the end of a
	string when given an action without a "(" in it, e.g. "benchmark".

2009-10-17   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/find.c: Tidy up IsPolygonInPolygon No functional changes

2009-10-17   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/global.h, src/polygon1.c, src/rtree.c: Add some annotations to
	help optimise branch prediction.  Macros G_LIKELY and G_UNLIKELY were taken from GLib (LGPL 2), and
	renamed without the G_ prefix.  This hasn't had much discernable effect

2009-10-17   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon1.c: Rework iteration over contours in "intersect" to
	improve performance We don't need to be using an r_tree search to determine if a
	contour's bounding box hits anything in another contour. Just
	compare the bounding boxes directly, then continue to the more
	expensive testing.  Rather than counting the vertices of each POLYAREA then swapping to
	ensure we loop over the the small one, wait until we've worked out
	which contours we're comparing. Rather than swapping, we just choose
	which to loop over. This saves us time in the case where the larger
	intersecting contour belongs to the polygon with fewer vertices.  In one case, this change reduced a complex board's load time from
	~140 seconds to ~70.

2009-10-14   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/.gitignore: Add dbus-introspect.h to src/.gitignore dbus-introspect.h is a generated file.

2009-09-14   Dan McMahill * dan AT mcmahill dot net *

	* : commit 7ae3210e58b682577bbae1ff4d8ffc89a6666ad9  Author: Dan
	McMahill * dan AT mcmahill dot net * Date:   Mon Sep 14 07:20:50
	2009 -0400

2009-09-11   DJ Delorie * dj AT delorie dot com *

	* src/misc.c: Fix "Design Rule Checker moves elements and traces off
	grid"  Patch from Ineiev * ineiev AT gmail dot com * to keep the grid from
	changing just because DRC ran.

2009-08-29   Bert Timmerman * bert dot timmerman AT xs4all dot nl *

	* src/hid/batch/batch.c: gEDA-dev: [pcb patch] Correction of the pcb
	homepage url in the batch HID Hi, Subject says it all.  Kind regards, Bert Timmerman.  >From 54b7d8e1d7704c1f467e0711f94dc564cc0a2c6d Mon Sep 17 00:00:00
	2001  From: Bert Timmerman * bert dot timmerman AT xs4all dot nl *
	Date: Sat, 29 Aug 2009 21:57:22 +0200 Subject: [PATCH] Correction of
	the pcb homepage url in the batch HID.

2009-08-14   Bert Timmerman * bert dot timmerman AT xs4all dot nl *

	* src/misc.c: gEDA-dev: pcb [PATCH] Correction of the geda homepage
	url and wiki url in the about dialog window.  Hi all, Here is another one :) Kind regards, Bert Timmerman.  >From c383fc1aabfcefb3c688bb5274f08874c86e7a8a Mon Sep 17 00:00:00
	2001  From: Bert Timmerman * bert dot timmerman AT xs4all dot nl *
	Date: Fri, 14 Aug 2009 00:33:26 +0200 Subject: [PATCH] Correction of
	the geda homepage url and wiki url in the about dialog window.

2009-08-13   Bert Timmerman * bert dot timmerman AT xs4all dot nl *

	* src/misc.c: Correction of the pcb homepage url in the about dialog
	window.

2009-03-31   Bert Timmerman * bert dot timmerman AT xs4all dot nl *

	* src/hid/gtk/gui-dialog.c: Apply filters to load filechooser
	dialogs. [1988982] [2686963] Applies filters to the filechooser dialogs when loading layouts,
	layouts (to buffer), elements (to buffer) and netlists.  Default behaviour is to not filter in the filechooser dialog.
	Choosing a predefined filefilter in the filechooser dialog filters
	on registered mime types, lowercase and uppercase file extensions.
	Predefined filters are selected upon the action chosen in the "File"
	pulldown menu.

2009-08-04   Peter TB Brett * peter AT peter-b dot co dot uk *

	* README.cvs, README.git: Replace 'README.cvs' with 'README.git'.
	[2810417] Provide information on how to use git to access the PCB repository.
	Fixes bug #2810417.

2009-08-04   Peter TB Brett * peter AT peter-b dot co dot uk *

	* doc/.gitignore: Add some generated .texi files to doc/.gitignore.

2009-08-01   Uwe Hermann * uwe AT hermann-uwe dot de *

	* doc/gs/fb-blinker.texi, doc/gs/fb-smt.texi: gEDA-user: [PATCH]
	s/pj-102.fp/pj102.fp/ in PCB tutorial Replace pj-102.fp filename with pj102.fp to make the PCB example
	work.

2009-07-30   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/png/png.c: Do not try to call gdImageCreate() on a 0x0
	sized image.  This hopefully addresses some of the segfaults seen recently with
	the latest version of gd.  If a brush size scales to give a size of
	0 then bump it up to a single pixel.

2009-07-29   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/png/png.c: Check return codes from the various gd
	allocation functions.  Check returns codes for gdImageCreate(), gdImageColorAllocate(), and
	gdImageColorAllocateAlpha() calls to check for problems.

2009-07-27   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c: Don't disperse locked elements.  When dispersing elements do not disperse locked elements.  Locked
	elements often times are mechanical and really should not be moved.
	Noted by Levente Kovacs on gEDA-user.

2009-07-07   anthonix * anthonix AT anthonix-desktop dot (none) *

	* : commit 2f80c6fc0c4aa1b7b5bb85d0d45f8415564dbe68  Author:
	anthonix * anthonix AT anthonix-desktop dot (none) * Date:   Tue Jul
	7 02:21:33 2009 +1200

2009-07-02   Dan McMahill * dan AT mcmahill dot net *

	* po/POTFILES.in: add src/toporoute.c add src/toporoute.c which lets this pass 'make distcheck' again.

2009-07-03   anthonix * anthonix AT anthonix-desktop dot (none) *

	* src/toporouter.c, src/toporouter.h: Toporouter: ROAR

2009-06-27   anthonix * anthonix AT anthonix-desktop dot (none) *

	* : commit ffb17f87f0d5c4e06574750f36a15e51f4ff89d3  Author:
	anthonix * anthonix AT anthonix-desktop dot (none) * Date:   Sat Jun
	27 11:27:55 2009 +1200

2009-06-25   Dan McMahill * dan AT mcmahill dot net *

	* : commit b17582ba2e192f42cd87d8466f16ea48fbde0d5b  Author: Dan
	McMahill * dan AT mcmahill dot net * Date:   Thu Jun 25 22:58:29
	2009 -0400

2009-06-26   anthonix * anthonix AT anthonix-desktop dot (none) *

	* : commit 889ee4f3a223c90d376c68524bce75423ef776bc  Author:
	anthonix * anthonix AT anthonix-desktop dot (none) * Date:   Fri Jun
	26 13:56:48 2009 +1200

2009-06-26   anthonix * anthonix AT anthonix-desktop dot (none) *

	* src/toporouter.c, src/toporouter.h: Toporouter: One pass
	curvilinear wiring

2009-06-25   Dan McMahill * dan AT mcmahill dot net *

	* tests/run_tests.sh: When using the gerber HID, always use
	--fab-author to make the resuls repeatable.  Always use the --fab-author flag to the gerber HID to avoid many
	false failures which would occur when different users try to run the
	testsuite.  Also fix a minor glitch when building from a read-only
	source tree while here.

2009-06-24   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.am, configure.ac: Top level configure stuff for the
	testsuite.  Add top level configure stuff missed in the previous few commits for
	the testsuite.

2009-06-24   Dan McMahill * dan AT mcmahill dot net *

	* tests/golden/Makefile.am, tests/golden/hid_png1/Makefile.am,
	tests/run_tests.sh, tests/tests.list: Teach the testsuite how to
	compare image files.  Teach testsuite how to compare image files and add a very basic test
	on the PNG HID.

2009-06-24   Dan McMahill * dan AT mcmahill dot net *

	* : commit 81fdd6f7753046121b268cc562faab2d4bcb69f6  Author: Dan
	McMahill * dan AT mcmahill dot net * Date:   Wed Jun 24 22:16:17
	2009 -0400

2009-06-23   Dan McMahill * dan AT mcmahill dot net *

	* src/buffer.c: Document the FreeRotateBuffer() action.  Add syntax and help strings as well as the manual documentation for
	the FreeRotateBuffer() action.

2009-06-23   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: Add a comment about breakouts for fine pitch power
	pins and the autorouter.  Add a comment about breakouts for fine pitch power pins and the
	autorouter.  Suggested by harry on geda-user.

2009-06-22   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: Add a short chapter on using the autorouter.  Add a short chapter on using the autorouter based on email
	instructions from harry on geda-user.

2009-06-22   DJ Delorie * dj AT delorie dot com *

	* src/hid/png/png.c: Add bloat to PNG hid Add a --png-bloat option that takes a bloat setting, much like the
	postscript HID.  Optionally, a units suffix is allowed:  --png-bloat
	10px or --png-bloat 1.2mil.

2009-06-21   harry * harry AT harry-laptop dot (none) *

	* src/autoroute.c: calculate total wire length for result

2009-06-21   harry * harry AT harry-laptop dot (none) *

	* src/buffer.c, src/create.c, src/polygon1.c, src/rats.c,
	src/remove.c, src/search.c: Fix several errors, some more
	point-boxes that weren't half open and several found with valgrind.
	valgrind is your friend!

2009-06-21   harry * harry AT harry-laptop dot (none) *

	* src/misc.c: fix single-point rectangles to correctly have
	half-closed boxes

2009-06-21   harry * harry AT harry-laptop dot (none) *

	* src/action.c: don't count one rat line twice when deleting them

2009-06-21   Dan McMahill * dan AT mcmahill dot net *

	* src/pcbtest.sh.in: Improve the pre-install pcb wrapper script.  The pcbtest.sh wrapper script is used to run pcb for testing before
	pcb is installed.  Improve the robustness of this script to allow it
	to be run from a different directory from where it is created as
	well as allowing the export HID's to be called with it.

2009-06-21   harry * harry AT harry-laptop dot (none) *

	* : commit dfc097708cf04983767be89b4e29a551cc0b3bc3  Author: harry *
	harry AT harry-laptop dot (none) * Date:   Sun Jun 21 14:33:59 2009
	-0400

2009-06-21   harry * harry AT harry-laptop dot (none) *

	* src/autoroute.c, src/box.h, src/heap.c, src/heap.h, src/hid.h,
	src/hid/gtk/gtkhid-main.c, src/hid/lesstif/main.c, src/mtspace.c,
	src/mtspace.h, src/rtree.c, src/vector.c, src/vector.h: Major
	updates to the autorouter. Fixes bug created from prior changes
	elsewhere and changes significantly the way that expansion searching
	is performed.

2009-06-20   DJ Delorie * dj AT delorie dot com *

	* src/hid/common/actions.c: Oops, re-comment-out a debug statement.  Re-comment out a debug statement that was accidentally left
	uncommented in the last commit.

2009-06-19   Jared Casper * jaredcasper AT gmail dot com *

	* src/hid/common/actions.c: Allow quoted strings and escaped
	characters in action arguments.  Quoting works similar to bash quoting: A backslash (\) is the escape character.  It preserves the literal
	value of the next character that follows.  To get a literal '\' use
	"\\".  Enclosing characters in single quotes preseves the literal value of
	each character within the quotes.  A single quote may not occur
	between single quotes, even when preceded by a blackslash.  Enclosing characters in double quotes preserves the literal value of
	all characters within the quotes, with the exception of '\' which
	maintains its special meaning as an escape character.

2009-06-16   Dan McMahill * dan AT mcmahill dot net *

	* : commit 8039b7114c038b05688f0e7c2a527a187cda242e  Author: Dan
	McMahill * dan AT mcmahill dot net * Date:   Tue Jun 16 21:03:51
	2009 -0400

2009-06-17   anthonix * anthonix AT anthonix-desktop dot (none) *

	* src/toporouter.c: Toporouter: Fix for routing_edge_insert() with
	same coordinates

2009-06-14   anthonix * anthonix AT anthonix-desktop dot (none) *

	* src/toporouter.c: Toporouter: Fix for TCS candidate vertices leak

2009-06-14   anthonix * anthonix AT anthonix-desktop dot (none) *

	* src/toporouter.c: Toporouter: Fix for arc orientation in export
	checks

2009-06-14   anthonix * anthonix AT anthonix-desktop dot (none) *

	* src/toporouter.c: Toporouter: Fix for arc orientation in export
	checks

2009-06-14   anthonix * anthonix AT anthonix-desktop dot (none) *

	* src/toporouter.h: Toporouter: Wiring score calculation

2009-06-14   anthonix * anthonix AT anthonix-desktop dot (none) *

	* src/toporouter.c: Toporouter: Better cleanup of routing edges

2009-06-14   anthonix * anthonix AT anthonix-desktop dot (none) *

	* src/toporouter.c: Toporouter: Fix for arc removal not updating
	vertex link

2009-06-14   anthonix * anthonix AT anthonix-desktop dot (none) *

	* src/toporouter.c, src/toporouter.h: Toporouter: Work on traces
	arcing back around vertices

2009-06-10   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc: RESC3216M was defined twice.  The first was supposed
	to be INDC3216M.  Noted by John Luciana on the gEDA user list.

2009-06-11   anthonix * anthonix AT anthonix-desktop dot (none) *

	* src/Makefile.am, src/gts/gts.h, src/gts/predicates.c,
	src/gts/predicates_init.c, src/toporouter.c, src/toporouter.h: 
	Toporouter: Dynamic computation of GTS predicates

2009-06-10   anthonix * anthonix AT anthonix-desktop dot (none) *

	* src/toporouter.c: Toporouter: Workaround for older GLib

2009-06-10   anthonix * anthonix AT anthonix-desktop dot (none) *

	* src/toporouter.c: Toporouter: Workaround for older GLib

2009-06-10   anthonix * anthonix AT anthonix-desktop dot (none) *

	* src/toporouter.c: Toporouter: Workaround for older GLib

2009-06-10   anthonix * anthonix AT anthonix-desktop dot (none) *

	* src/toporouter.c: Toporouter: Workaround for older GLib

2009-06-10   anthonix * anthonix AT anthonix-desktop dot (none) *

	* : commit 9653a6371aa41f873932062ef6d6b838bf98a987  Author:
	anthonix * anthonix AT anthonix-desktop dot (none) * Date:   Wed Jun
	10 13:28:10 2009 +1200

2009-06-09   Dan McMahill * dan AT mcmahill dot net *

	* : commit 6878692f1e13a09a7191c8f9cf09e05c403fbe33  Author:
	anthonix * anthonix AT anthonix-desktop dot (none) * Date:   Wed Jun
	10 13:23:27 2009 +1200

2009-06-10   anthonix * anthonix AT anthonix-desktop dot (none) *

	* src/toporouter.c: Toporouter: disabled some experimental stuff

2009-06-10   anthonix * anthonix AT anthonix-desktop dot (none) *

	* src/toporouter.c, src/toporouter.h: Misc Toporouter Changes

2009-06-09   Dan McMahill * dan AT mcmahill dot net *

	* src/gts/boolean.c, src/gts/split.c, src/gts/surface.c,
	src/report.c: Remove some unused variables Remove some unused variables.  On some others which are only
	conditionally used, then only conditionally declare them.  Same for
	some functions.  This clears out some of the compiler warning
	clutter.

2009-06-09   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-pinout-preview.c: Revert "avoid trying to use the
	background graphics context before it is created." This reverts commit 1138b9419b56c6c4a5861dce79ed058ee4e513ba.  As
	noted by Peter Clifton, there is a visible artifact that results
	from this.  We'll look for a better way to make sure the GC is
	created when it is needed.

2009-06-08   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-pinout-preview.c: avoid trying to use the
	background graphics context before it is created.  On startup, some code was trying to access the background graphics
	context before it was created.  Check to make sure the context has
	been created before we do anything with it.

2009-06-08   Jared A. Casper * jcasper AT youngmc dot Stanford dot EDU *

	* src/hid/common/actions.c, src/hid/gtk/gtkhid-main.c,
	src/hid/lesstif/main.c: Fix command line exporting.  Previously, hid_actionv was changed to always call gui->get_coords
	wether or not the action had a need_coord_msg, in an attempt to
	always get the latest coords for things like zoom or pan that didn't
	have a need_coord_msg.  However, this broke command line exporting
	because it was trying to call get_coords on the nogui hid.  Added the check back in to only call gui->get_coords when the action
	has a need_coord_msg and added need_coord_msg's to actions that need
	coords.

2009-06-08   Jared Casper * jaredcasper AT gmail dot com *

	* src/gpcb-menu.res, src/hid/gtk/gtkhid-main.c,
	src/hid/gtk/gui-output-events.c: Adding ability to customize mouse
	scroll action in GTK.  Changed the mouse_scroll gtk event handler to use do_mouse_action
	instead of manually handling the event.  gtk treats scrolling
	differently as a mouse button event, and doesn't give a mouse button
	number, so this patch just hard codes up/down/left/right to buttons
	4 through 7.  This corresponds to the default names used in the
	resource file, and, for X11, gtk hardcodes mouse buttons 4 - 7 to
	the scrolling events anyway.  This may cause problems in quartz or
	windows if some mouse has a bunch of buttons and quartz/windows maps
	those buttons to numbers 4 - 7, but I don't have a system to test
	that (and in that case the names in the resource file would be wrong
	as well).  Added a Scroll action to the gtk hid to be able to mimic the
	existing scroll wheel behavior with an action script.

2009-06-08   Steven Michalske * smichalske AT gmail dot com *

	* src/line.c: Allow mod1(alt)(option) to bypass AUTO enforce DRC For Apples, which use ctrl-click to simulate right-click.

2009-06-08   Steven Michalske * smichalske AT gmail dot com *

	* src/hid.h, src/hid/batch/batch.c, src/hid/bom/bom.c,
	src/hid/common/extents.c, src/hid/common/hidnogui.c,
	src/hid/gerber/gerber.c, src/hid/gtk/gtkhid-main.c,
	src/hid/gtk/gui.h, src/hid/lesstif/main.c, src/hid/lpr/lpr.c,
	src/hid/nelma/nelma.c, src/hid/png/png.c, src/hid/ps/eps.c,
	src/hid/ps/ps.c: Adding the ability to use mod1 (alt)(option) in
	HIDs This is useful for OSX installs as crtl-click, is mapped to right
	click.  so when drawing a line that you want to force a DRC
	"Violation" and you need to use the control key, it will cancel the
	line being drawn, and start a new point.  This is tested in the lesstif and GTK hids, under OSX wher ehte
	option key is the "alt" key.   I leave it to the patch integrator th
	verify on linux for GTK and lesstif.  This is a bit hackish on detecting the alt key/option key, I
	#ifdefed it to __APPLE__ because the option key returns 1<<13 not
	GDK_MOD1_MASK Under lesstif I might guess that the alt/mod1 is not
	quite the same as option.

2009-06-07   Jared Casper * jaredcasper AT gmail dot com *

	* src/Makefile.am, src/action.c, src/gpcb-menu.res,
	src/hid/common/actions.c, src/hid/common/hid_resource.c,
	src/hid/common/hid_resource.h, src/hid/gtk/gtkhid-main.c,
	src/hid/gtk/gui-output-events.c, src/hid/gtk/gui-top-window.c,
	src/hid/gtk/gui.h, src/hid/lesstif/lesstif.h,
	src/hid/lesstif/main.c, src/hid/lesstif/menu.c: Teaching GTK hid to
	use mouse resources I had some free time over the weekend and have been wanting to get
	my hands dirty in the PCB code so I took a crack at this and wanted
	to get some feedback.  Attached is a patch with a detailed commit message of what I did,
	but the general idea was to move the lesstif hid's handling of the
	mouse resources into a common hid file (which I called hid_resource)
	and have the gtk hid use that instead of being hardcoded.  This way
	the hid's are only responsible for catching the button press,
	determining which modifier keys were active, then calling the common
	code to handle it.  The common code does what the lesstif hid does,
	calls the actions defined in the resource file.  In theory more
	common stuff could be moved to hid_resource, the code to find and
	load the resource file, for example, is nearly identical in both
	hids.  I changed up the Mouse resource in gpcb-menu.res to match the
	hardcoded behavior of the gtk hid as closely as possible (see the
	commit message for details).  I've played around with it a bit and it seems to be working, but as
	this my first time meddling with the code, I'm sure I missed some
	stuff.  If anybody has time to look it over and/or try it out that
	would be great.  Comments regarding the approach, formatting, style,
	etc. are all appreciated (I did my best to match the style of the
	surrounding code).  Jared

2009-06-05   Dan McMahill * dan AT mcmahill dot net *

	* src/edif.y: Use the appropriate header files instead of providing
	extern foo() prototypes.  Use the correct headers for a handful of function prototypes.  This
	should fix some build issues reported on geda-uers.

2009-06-03   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: When building from git sources and building docs,
	force maintainer-mode.  When building from git sources, maintainer mode is required to build
	the manual.  So, unless the user has specified --disable-doc then
	force maintainer mode.  When building from a tarball, the
	preformatted manual is already contained and we do not impose
	maintainer-mode.  Hopefully this puts to rest the documentation
	building issues once and for all!

2009-06-01   Dan McMahill * dan AT mcmahill dot net *

	* po/pcb.pot: Remove generated file that cause continual git churn.  This file is generated and also removed by the clean target.
	Removing a file from the source tree via 'make clean' that is under
	version control just causes headaches.

2009-06-01   Dan McMahill * dan AT mcmahill dot net *

	* doc/fractional_size.texi, doc/letter_size.texi,
	doc/metric_size.texi, doc/wire_size.texi: Remove additional
	generated files.  Remove the .texi files that are generated from the ASCII .tab files
	from git to avoid gratitous storage of and changing of generated
	files.

2009-05-29   Dan McMahill * dan AT mcmahill dot net *

	* doc/.gitignore, doc/gs/.gitignore: Add a few more missing
	.gitignore entries.

2009-05-29   Dan McMahill * dan AT mcmahill dot net *

	* doc/.gitignore: Expand out the list of files since git didn't like
	the patterns I used.

2009-05-29   Dan McMahill * dan AT mcmahill dot net *

	* doc/.gitignore: Add gitignore file for the manual

2009-05-29   Dan McMahill * dan AT mcmahill dot net *

	* src/.gitignore, src/gts/.gitignore: Add some missing .gitignore
	entries for the new gts code

2009-05-29   Dan McMahill * dan AT mcmahill dot net *

	* README.cvs: update this a bit to reflect the new repository home
	and also remove references to needing maintainer-mode

2009-05-29   Dan McMahill * dan AT mcmahill dot net *

	* utils/git2cl: add git2cl utility to help update ChangeLog's for
	releases.

2009-05-29   Dan McMahill * dan AT mcmahill dot net *

	* doc/actions.texi, doc/pcbfile.texi, doc/version.texi: remove some
	generated files from git.  These are only needed if you are building
	the documentation in which case you have all the tools and makefile
	rules for them to be regenrated anyway.  Eliminates all the
	headaches associated with generated files in version control.

2009-05-29   Dan McMahill * dan AT mcmahill dot net *

	* doc/gs/gafrc, doc/gs/gschemrc: these are generated at configure
	time now.

2009-05-29   Dan McMahill * dan AT mcmahill dot net *

	* doc/gs/gafrc.in, doc/gs/gschemrc.in: to handle the case where we
	may be building outside the source directory, generate gafrc and
	gschemrc at configure time.

2009-05-29   Dan McMahill * dan AT mcmahill dot net *

	* doc/gs/print-eps.scm: comment out a color theme that relied on a
	path only present on DJ's machine.  It isn't really needed anyway.

2009-05-29   Dan McMahill * dan AT mcmahill dot net *

	* po/POTFILES.in: add a missing file.

2009-05-29   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac, doc/Makefile.am, doc/gs/Makefile.inc,
	lib/Makefile.am: Remove the use of maintainer mode to gate on/off
	rules for building the documentation.  Instead look for the
	existance of $(top_srcdir)/.git and decide based on that if this is
	a tarball build (in which case the documentation ships already
	built) or a git build.  If it is a git build, then simply require
	all the needed tools for building the docs.  If the tools are not
	found then configure will exit with an explicit message saying why
	it has failed and that either tools need to be installed or
	--disable-doc needs to be given.  Hopefully this will eliminate the
	previous strange behavior of needing --maintainer-mode when building
	docs from cvs/git.

2009-05-29   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.am: add gts/predicates_init.h to DISTCLEANFILES.
	Also comment out the section that extracts REGISTER lines from the
	gts code.  We currently don't have any REGISTER lines in the gts
	code and so make was exiting because a grep failed.

2009-05-23   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc, lib/to.inc: Add TO18, TO39, and fix pinout on TO92.  Added TO18 and TO39 footprints based on the JEDEC drawings.  Note
	that the pinout used is the one from the JEDEC drawings and it may
	or may not match a particular vendors pin numbering.  I have in fact
	seen different vendors number the pins differently on these
	packages.  It is entirely up to the user to make sure that their CAD
	symbols have the correct mapping from E, B, C (for a bipolar) to
	pins 1, 2, 3 and that the JEDEC numbering is used.  While here correct the TO92 pinout.  It now also matches the JEDEC
	drawing and is more consistent with the most common vendor
	numberings.  How on earth has this not caused problems before?

2009-05-17   Jared Casper * jaredcasper AT gmail dot com *

	* ChangeLog, configure.ac, src/hid/lpr/hid.conf: Some cleanup of
	configure script Added top level check for pkg-config with PKG_PROG_PKG_CONFIG and
	removed AC_PATH_PROG call for pkg-config from inside a block
	conditional on enable_dbus.  Added a PKG_CHECK_MODULE for cairo if the toporouter output is
	enabled.  Added a check for HID dependencies.  A hid's hid.conf can set a
	variable "deps" which is a list of other HIDs that must be included
	with that hid.  Added ps the lpr's deps.

2009-05-14   Dan McMahill * dan AT mcmahill dot net *

	* lib/m4lib_to_newlib.sh: Remove an extra '' quote in a comment
	which caused confusion on some systems.

2009-05-05   Ineiev * ineiev AT gmail dot com *

	* ChangeLog, configure.ac, src/Makefile.am, src/gts/cdt.c,
	src/toporouter.c, src/toporouter.h: Toporouter: portability fixes 1) add #include <assert.h> 2) add configure options for toporouter --disable-toporouter
	switches off toporouter --disable-toporouter-output switches off
	toporouter cairo output 3) make toporouter compatible with glib < 2.10.0 provide
	slist_insert_sorted_with_data() for those cases 4) fix VPATH builds gts/predicates_init stuff was not quite clean 5) fix find_closest() implementation for glib < 2.4.0 The earlier
	version combined with toporouter produced segfault on tut1.pcb (on
	top of glib-2.0.1 and glib-2.6.4); furthermore, it accessed to
	undocumented glib structures.

2009-04-30   Anthony Blake * tonyb33 AT gmail dot com *

	* src/gts/gts.h: gts.h fix Fixes the include of gtsconfig.h

2009-04-24   Anthony Blake * tonyb33 AT gmail dot com *

	* gts/Makefile.am, gts/NOTES, gts/bbtree.c, gts/boolean.c,
	gts/cdt.c, gts/config.h.win32, gts/container.c, gts/curvature.c,
	gts/edge.c, gts/eheap.c, gts/face.c, gts/fifo.c, gts/graph.c,
	gts/gts-config.in, gts/gts-private.h, gts/gts.def, gts/gts.h,
	gts/gts.m4, gts/gtsconfig.h, gts/heap.c, gts/hsurface.c, gts/iso.c,
	gts/isotetra.c, gts/kdtree.c, gts/makefile.msc, gts/matrix.c,
	gts/misc.c, gts/named.c, gts/object.c, gts/oocs.c, gts/partition.c,
	gts/pgraph.c, gts/point.c, gts/predicates.c, gts/predicates.h,
	gts/predicates_init.c, gts/psurface.c, gts/refine.c,
	gts/rounding.h, gts/segment.c, gts/split.c, gts/stripe.c,
	gts/surface.c, gts/triangle.c, gts/tribox3.c, gts/vertex.c,
	gts/vopt.c, src/Makefile.am, src/gts/NOTES, src/gts/bbtree.c,
	src/gts/boolean.c, src/gts/cdt.c, src/gts/container.c,
	src/gts/curvature.c, src/gts/edge.c, src/gts/eheap.c,
	src/gts/face.c, src/gts/fifo.c, src/gts/graph.c,
	src/gts/gts-private.h, src/gts/gts.h, src/gts/heap.c,
	src/gts/hsurface.c, src/gts/iso.c, src/gts/isotetra.c,
	src/gts/kdtree.c, src/gts/matrix.c, src/gts/misc.c,
	src/gts/named.c, src/gts/object.c, src/gts/oocs.c,
	src/gts/partition.c, src/gts/pgraph.c, src/gts/point.c,
	src/gts/predicates.c, src/gts/predicates.h,
	src/gts/predicates_init.c, src/gts/psurface.c, src/gts/refine.c,
	src/gts/rounding.h, src/gts/segment.c, src/gts/split.c,
	src/gts/stripe.c, src/gts/surface.c, src/gts/triangle.c,
	src/gts/tribox3.c, src/gts/vertex.c, src/gts/vopt.c,
	src/toporouter.c, src/toporouter.h: GTS build script changes Changed build scripts to include GTS.

2009-04-22   Anthony Blake * tonyb33 AT gmail dot com *

	* gts/Makefile.am, gts/NOTES, gts/bbtree.c, gts/boolean.c,
	gts/cdt.c, gts/config.h.win32, gts/container.c, gts/curvature.c,
	gts/edge.c, gts/eheap.c, gts/face.c, gts/fifo.c, gts/graph.c,
	gts/gts-config.in, gts/gts-private.h, gts/gts.def, gts/gts.h,
	gts/gts.m4, gts/gtsconfig.h, gts/heap.c, gts/hsurface.c, gts/iso.c,
	gts/isotetra.c, gts/kdtree.c, gts/makefile.msc, gts/matrix.c,
	gts/misc.c, gts/named.c, gts/object.c, gts/oocs.c, gts/partition.c,
	gts/pgraph.c, gts/point.c, gts/predicates.c, gts/predicates.h,
	gts/predicates_init.c, gts/psurface.c, gts/refine.c,
	gts/rounding.h, gts/segment.c, gts/split.c, gts/stripe.c,
	gts/surface.c, gts/triangle.c, gts/tribox3.c, gts/vertex.c,
	gts/vopt.c, src/Makefile.am, src/toporouter.c, src/toporouter.h: 
	Added topological autorouter Topological autorouter (not yet exporting geometry) GTS with small
	but crucial bug fixes

2009-04-19   Ben Jackson * ben AT ben dot com *

	* .gitignore: Add *.backup to gitignore (in case you test run PCB in
	the tree)

2009-04-19   Ben Jackson * ben AT ben dot com *

	* src/hid/gtk/gui-config.c: GTK HID: Background color can be set
	live from config dialog Background, off-limit and grid color changes require a special
	update that was missing when colors were edited in the config
	dialog.

2009-04-17   DJ Delorie * dj AT delorie dot com *

	* src/report.c: Add "report all net lengths" option Usage: Report (AllNetLengths[,(mm|in|mil|pcb)])

2009-04-09   Ben Jackson * ben AT ben dot com *

	* .gitignore, data/.gitignore, lib/.gitignore, po/.gitignore,
	src/.gitignore, src/hid/.gitignore: Add initial gitignore files
	covering autogen files and GTK HID build

2009-04-06   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-render-pixmap.c: GTK HID: Use clipping region when
	drawing DRC violation previews Should speed up rendering quite a bit for non-trivial boards.

2009-04-06   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui.h: GTK HID: Move inline
	coordinate conversions from gtkhid-main.c to gui.h This allows other source files easy access to the routines Vx(),
	Vy(), Vz() and Px(), Py, Pz().

2009-04-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon.c: Allow PolygonHoles() to be passed a NULL region Passing a NULL region implies we wish to be called back for all
	holes in the polygon, as we don't have a region to test against.  Fixes crash in the DRC window when the design has polygons, and is
	viewed with either thindraw, or thindraw polygons.

2009-04-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-drc-window.c: GTK HID: Add "Refresh" button to DRC
	window to re-run the DRC.  Allows the user to more quickly get an updated view of their
	progress fixing design rule violations.

2009-04-05   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-drc-window.c: GTK HID: Fix pango markup in DRC
	window to be more compatible Avoid using the attribute alias "font_size" in the markup. Older
	pango versions only support "size", which is functionally identical.

2009-04-03   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: GTK HID: Fix cursor warping on flipped
	boards

2009-04-03   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/Makefile.am, src/hid/gtk/gui-drc-window.c,
	src/hid/gtk/gui-drc-window.h, src/hid/gtk/gui-render-pixmap.c,
	src/hid/gtk/gui.h: GTK HID: Add preview images in the drc violations
	window

2009-04-03   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/Makefile.am, src/hid/gtk/gtkhid-main.c,
	src/hid/gtk/gui-config.c, src/hid/gtk/gui-drc-window.c,
	src/hid/gtk/gui-drc-window.h, src/hid/gtk/gui.h: GTK HID: Add DRC
	list window using the new DRC_GUI hooks.

2009-04-02   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c, src/find.c, src/global.h, src/gpcb-menu.res,
	src/hid.h, src/hid/batch/batch.c, src/hid/bom/bom.c,
	src/hid/common/hidnogui.c, src/hid/gerber/gerber.c,
	src/hid/gtk/gtkhid-main.c, src/hid/lesstif/main.c,
	src/hid/lpr/lpr.c, src/hid/nelma/nelma.c, src/hid/png/png.c,
	src/hid/ps/eps.c, src/hid/ps/ps.c: Refactor DRC reporting to work
	around a DrcViolationType structure.  Add hooks to the HID structure allowing a GUI to consume this data
	directly (if it wants), rather than being called to display ordinary
	message dialog boxes. No HID yet utilises this interface.  Remove log messages for individual design rule violations, instead
	writing log entries based on the title in the DrcViolationType. This
	modifies some of the logged messages slightly. All now prefix:
	"WARNING!  Design Rule error - ", as was present on some of the old
	messges.

2009-04-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon1.c: Fix leak of input objects for certain short-cut
	cases in poly_Boolean_free When either a or b input object is NULL, depending on the boolean
	operation selected, either a, b or NULL is returned as the result.
	Make sure we free any non NULL, and non-returned inputs when taking
	these shortcut paths.

2009-04-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon1.c: Fix leak of cross vertex connectivity lists when
	deleting contours Free these lists as we free the contour's nodes in poly_DelContour()

2009-03-25   Tibor Palinkas * igor2 AT inno dot bme dot hu *

	* src/hid/lesstif/menu.c: pass context in lesstif Minor patch to get the action context properly passed to actions
	with lesstif, which doesn't use hid_actionv() for some reason.

2009-03-25   DJ Delorie * dj AT delorie dot com *

	* src/hid.h, src/hid/common/actions.c, src/hid/hidint.h,
	src/hid/lesstif/menu.c: single-action register/deregister New API to support registering individual actions with a context for
	them, for example for scripting languages to register a hub
	dispatcher.   From Igor2 AT inno dot bme dot hu (Tibor Palinkas)

2009-03-08   DJ Delorie * dj AT delorie dot com *

	* src/report.c: bugfix: avoid NULL pin names with Report(NetLength) There was an assumption that all pins and pads have non-NULL names,
	but if you create a .pcb with a script you could end up with
	anything.  Make sure the names we get are non-NULL before using
	them.

2009-03-06   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gerber/gerber.c, src/hid/png/png.c: Fix exporters to cope
	with hairlines now they are passed as width 0, not 1 This fixes breakage introduced in commit
	8dd739f9bd72dc3c8beb6e4e5e32c124cac0d13b png exporter:   - Needs a minimum 1x1 pixel brush for drawing hairlines    - Report and patch by Levente Kovacs * leventelist AT gmail dot
	  com * gerber exporter:   - The hairline drawn around holes must be ignored    - Report and diagnosis by Ineiev * ineiev AT gmail dot com *

2009-03-05   Dan McMahill * dan AT mcmahill dot net *

	* README.snapshots: Add a note for next time about some increased
	test coverage.  We need to do a distcheck build with a wider variety of requested
	HID's to catch things like the missing src/hid/batch/hid.conf

2009-03-05   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.am: add missing hid/batch/hid.conf to EXTRA_DIST.
	Noted by Stefan Salewski.

2009-02-27   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: Bump the required autoconf version to 2.60.  pdfdir, psdir, and friends appeared in version 2.60 of autoconf.
	Since we use those, we need 2.60 or higher.  Problem noted by Bert
	Timmerman.

2009-02-27   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/png/png.c: Remove some now unused RCS ID's

2009-02-21   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/Makefile.am, src/dbus.c, src/draw.c, src/global.h, src/hid.h,
	src/hid/batch/batch.c, src/hid/bom/bom.c,
	src/hid/common/draw_helpers.c, src/hid/common/draw_helpers.h,
	src/hid/common/extents.c, src/hid/common/hidinit.c,
	src/hid/common/hidnogui.c, src/hid/gerber/gerber.c,
	src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-config.c,
	src/hid/gtk/gui.h, src/hid/lesstif/main.c, src/hid/lpr/lpr.c,
	src/hid/nelma/nelma.c, src/hid/png/png.c, src/hid/ps/eps.c,
	src/hid/ps/ps.c, src/polygon.c, src/polygon.h: Add support for
	filling / thindrawing raw polygons to the HID interface Refactor core polygon drawing to use these member functions, and
	split the old code which used the HID's fill_polygon and draw_line
	functions into a helper function which the guis now use to convert
	the polygon into the primitives it knows how to draw.  Alter the NoHoles dicer to pass back PLINE contours, rather than
	wrapping them in a POLYAREA and PolygonType.

2009-02-21   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c, src/polygon.c, src/polygon.h: Add user_data parameter
	to NoHolesPolygonDicer Also switch the clip_box parameter before the ones defining the
	callback and its user_data.

2009-02-21   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: Thindraw with 0 width, not 1 PCB unit width.  This allows the gui to differentiate between when the core wants
	hairline drawing, and when the core is drawing primitives which are
	actually 1 PCB unit wide.

2009-02-21   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: Thindraw polygons with circular line-caps.  Set an explicit cap style for consistency with other "special"
	polygon drawing code.

2009-02-17   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon.c: Bisect and union self-intersecting arcs in
	ArcPoly() Avoids creating a self-intersecting contour which produces incorrect
	result. Bug noted when clearing a 360 degree arc from a polygon.  For self-intersecting arcs, we now bisect, produce two polygons
	(with non-self-intersecting contours), then compute their union.

2009-02-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/bom/bom.c, src/hid/gerber/gerber.c, src/hid/lpr/lpr.c,
	src/hid/nelma/nelma.c, src/hid/png/png.c, src/hid/ps/eps.c,
	src/hid/ps/ps.c: Various HIDs: Add missing pointers for the watch
	and block hander methods These were missed when adding DBus support, since the initialisation
	of the HID structure assumes that unspecified members are zero, and
	all subsequent function pointers were explicitly 0, so as not to
	cause a type mismatch.  Hids fixed:   bom   gerber   lpr   nelma   png   eps   ps

2009-02-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/nelma/nelma.c: nelma: Fix prototype on set_layer() method
	to take the "empty" flag.  Fixes warning about incompatible types when intialising the HID
	structure.

2009-02-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon1.c: polygon1.c: Implement poly_Boolean() by calling
	poly_Boolean_free() Reduces duplicated code. The poly_Boolean() implemetation already
	copied the original contours, then duplicated the processing steps
	taken in poly_Boolean_free().

2009-02-08   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-netlist-window.c: gtkhid: Return NULL from
	ghid_get_net_from_node_name() Fixes calling return; from function returning non-void type.

2009-02-08   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/crosshair.c: crosshair.c: When drawing via DRC clearence, pass
	correct angle.  360 * 64 was a hold-over from before the HID split. The passed angle
	should be 360.

2009-01-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon.c, src/polygon.h, src/rats.c: Make rats to polygons
	work for arbitrary clipped shapes The rat will still be drawn to the first point on the polygon, which
	might not necessarily be the closest.

2009-01-14   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/dialogs.c: Skip undocumented options.

2009-01-14   DJ Delorie * dj AT delorie dot com *

	* src/hid/gtk/gui-dialog-print.c: Don't show undocumented options.

2009-01-11   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-netlist-window.c: GTK HID: Avoid critical warning
	looking up connectivity without netlist

2009-01-10   DJ Delorie * dj AT delorie dot com *

	* src/hid/png/png.c: Add only-visible support to photo-mode, check
	for more outline fill spots.

2009-01-10   DJ Delorie * dj AT delorie dot com *

	* src/hid/png/png.c: Add outline mode for photo-mode, from Mark
	Rages

2009-01-10   DJ Delorie * dj AT delorie dot com *

	* src/action.c: Handle wrap-around when searching the string hash
	table.

2009-01-08   Dan McMahill * dan AT mcmahill dot net *

	* lib/misc.inc: for the axial footprints, put the mark on pin 1
	instead of on the body of the footprint.  This gives you a much
	better chance of the pins being on-grid when working with the
	coarser grids typically found in a thru-hole design.

2008-12-30   DJ Delorie * dj AT delorie dot com *

	* src/polygon.c: Add description of how polygon data works from Ben,
	and debug routines for dumping polygon structures within gdb.

2008-12-27   DJ Delorie * dj AT delorie dot com *

	* src/action.c, src/const.h, src/draw.c, src/flags.c,
	src/gpcb-menu.res, src/pcb-menu.res, src/search.c, src/strflags.c: 
	Add "hide names" option to hide all refdes on the board temporarily.

2008-12-27   DJ Delorie * dj AT delorie dot com *

	* src/hid/gtk/gtkhid-main.c, src/hid/lesstif/main.c: Fix flipping of
	arcs.

2008-12-27   DJ Delorie * dj AT delorie dot com *

	* src/parse_y.y: fix parsing of old-syntax arcs.

2008-12-27   DJ Delorie * dj AT delorie dot com *

	* src/draw.c: Include explicit text/lines/etc on silk layers in
	assembly drawings.

2008-12-27   DJ Delorie * dj AT delorie dot com *

	* src/action.c: Make sure the user has specified an element for the
	pinout window.

2008-12-27   DJ Delorie * dj AT delorie dot com *

	* src/hid/gtk/gui-config.c: Add min-drill and min-ring to the saved
	config list, and save the config file *after* updating it, not
	before.

2008-12-27   DJ Delorie * dj AT delorie dot com *

	* src/hid/gerber/gerber.c: sf patch 2162834 from d.ineiev - count
	apertures for diagonal pads

2008-12-27   DJ Delorie * dj AT delorie dot com *

	* src/draw.c, src/hid.h, src/hid/batch/batch.c,
	src/hid/common/extents.c, src/hid/common/hidnogui.c,
	src/hid/gerber/gerber.c, src/hid/gtk/gtkhid-main.c,
	src/hid/lesstif/main.c, src/hid/png/png.c, src/hid/ps/eps.c,
	src/hid/ps/ps.c: Add "empty layer" hint to HID.  Add option
	--all-layers to gerber export which causes it to export all layers,
	empty or otherwise.

2008-12-27   DJ Delorie * dj AT delorie dot com *

	* src/hid/png/png.c: Rename ben-mode to photo-mode.

2008-12-27   DJ Delorie * dj AT delorie dot com *

	* src/hid.h, src/main.c: Add an option for undocumented attributes.

2008-12-27   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac, newlib/Makefile.am: deprecate the analog-devices and
	burr-brown newlib libraries

2008-12-27   Dan McMahill * dan AT mcmahill dot net *

	* newlib/analog-devices/ADC12138CIMSA,
	newlib/analog-devices/Makefile.am, newlib/burr-brown/Makefile.am,
	newlib/burr-brown/OPA340_SOT23-5: remove some footprints of
	questionable use

2008-12-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/mymem.c: Regenerate rats r-tree when re-allocating a bigger
	rats array.  Shuould fix crashes observed on a board with a large number of rats.

2008-12-24   DJ Delorie * dj AT delorie dot com *

	* src/hid/common/hidinit.c: Typo.

2008-12-24   DJ Delorie * dj AT delorie dot com *

	* src/hid/common/hidinit.c: Make sure we clean up if dlopen fails.

2008-12-24   DJ Delorie * dj AT delorie dot com *

	* src/hid/common/hidinit.c: Avoid checking memory before short-named
	files.

2008-12-24   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-netlist-window.c: Fix off-by one error in the GTK
	HID's netlist window model generation Broken when I added support for a hierarchical view of nets. The bug
	caused invalid memory to be read, possibly leading to a crash, as
	the last (and missing) element from g_new0 was supposed to be a
	terminator.

2008-12-21   DJ Delorie * dj AT delorie dot com *

	* src/find.c: Fix via annulus calculations, from Jasper

2008-12-21   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/menu.c: Set home from homedir.

2008-12-20   DJ Delorie * dj AT delorie dot com *

	* doc/gs/gs.css: More missing files

2008-12-20   DJ Delorie * dj AT delorie dot com *

	* doc/gs/gafrc, doc/gs/gschemrc: missed files

2008-12-20   DJ Delorie * dj AT delorie dot com *

	* configure.ac: add texi2dvi check and doc/gs subdir

2008-12-20   DJ Delorie * dj AT delorie dot com *

	* doc/eps2png, doc/gs/555.sym, doc/gs/555.symdef,
	doc/gs/Makefile.am, doc/gs/Makefile.inc, doc/gs/fb-blinker-sch.sch,
	doc/gs/fb-blinker.net, doc/gs/fb-blinker.pcb,
	doc/gs/fb-blinker.prj, doc/gs/fb-blinker.texi, doc/gs/fb-led-5.pcb,
	doc/gs/fb-led.pcb, doc/gs/fb-led.texi, doc/gs/fb-smt-sch.sch,
	doc/gs/fb-smt.net, doc/gs/fb-smt.pcb, doc/gs/fb-smt.prj,
	doc/gs/fb-smt.texi, doc/gs/firstboard.texi, doc/gs/gs.texi,
	doc/gs/installation.texi, doc/gs/introduction.texi,
	doc/gs/pj102.fp, doc/gs/powerjack.sym, doc/gs/print-eps.scm,
	doc/gs/term-annulus-1.pcb, doc/gs/term-clearance-1.pcb,
	doc/gs/term-element-1.pcb, doc/gs/term-pad-1.pcb,
	doc/gs/term-pin-1.pcb, doc/gs/term-platedhole-1.pcb,
	doc/gs/term-tented-1.pcb, doc/gs/term-thermal-1.pcb,
	doc/gs/term-thickness-1.pcb, doc/gs/terminology.texi,
	doc/gs/texinfo.tex: Add initial "getting started" guide.

2008-12-20   DJ Delorie * dj AT delorie dot com *

	* src/hid.h: append '-' on all parameter names to prevent
	mis-interpretation of such.  Example: "xor" is a C++ reserved name.

2008-12-20   DJ Delorie * dj AT delorie dot com *

	* src/hid/gerber/gerber.c: Increase resolution of gerbers to 0.01
	mil; drills remain at 0.1 mil

2008-12-20   DJ Delorie * dj AT delorie dot com *

	* src/parse_l.l: Add support for suffixes on numbers, like "mm",
	"um", "in", or "mil".  No suffix defaults to "pcb units" as before.

2008-12-20   DJ Delorie * dj AT delorie dot com *

	* src/flags.c: Add flags for whether various layers are shown.

2008-12-20   DJ Delorie * dj AT delorie dot com *

	* src/action.c: Add MinClearGap() action.

2008-12-12   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: try to clean up the logic around cross compiling and
	an executible pcb.  Hopefully addresses some corner cases when cross
	compiling.

2008-12-12   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.am, doc/version.texi, lib/Makefile.am,
	lib/m4lib_to_newlib.sh.in: use if FOO  stuff endif instead of 	 @FOOTRUE@ stuff as the latter prevents automake from properly understanding some
	dependencies.

2008-12-05   Dan McMahill * dan AT mcmahill dot net *

	* doc/actions.texi: regen

2008-12-05   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac, doc/Makefile.am, lib/Makefile.am,
	lib/m4lib_to_newlib.sh: Correctly deal with the case where one wants
	to do a maintainer cross compile which requires an installed pcb
	that can be executed on the build host.  As part of this, also do
	not build the png previews of the pcblib-newlib library by default.
	They were not really used for anything and it really slows the
	build.  They can be built with --enable-m4lib-png.

2008-12-03   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac, src/Makefile.am: check for windres as a build tool
	instead of hard coding 'windres'.  Should help with cross-compiling
	with windows as the target.  Noted as a patch for gerbv by Cesar
	Strauss.

2008-12-03   DJ Delorie * dj AT delorie dot com *

	* src/misc.c: Merge thermals from old flags, not overwrite them.

2008-11-30   Dan McMahill * dan AT mcmahill dot net *

	* win32/pcb.nsi.in: fix some shortcut removal issues on Vista.

2008-11-30   Dan McMahill * dan AT mcmahill dot net *

	* win32/build_pcb: add a --nsis-only option that only creates the
	installer

2008-11-30   Dan McMahill * dan AT mcmahill dot net *

	* win32/build_pcb: fix up the PATH used during the build so pcb can
	run when generating the pcblib-newlib previews

2008-11-30   Dan McMahill * dan AT mcmahill dot net *

	* win32/build_pcb, win32/pcb.nsi.in: try to fix the pdf and html
	manual links.  Noted by Bob Paddock.

2008-11-29   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-output-events.c: Fix bug 2011285 auto-pan on
	solder side not working properly.  Patch provided in the bug report.

2008-11-29   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c, src/crosshair.c, src/global.h, src/gpcb-menu.res,
	src/hid/gtk/gui-output-events.c, src/hid/lesstif/main.c,
	src/pcb-menu.res: Add additional crosshair shapes.  ctrl-right click
	cycles through.  Patch 2170634 from D. Ineiev.

2008-11-29   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-dialog.c: teach ghid_confirm_dialog to remember
	its last position and to come up at the same place the next time.  Patch 1900832 from Tomaz Solc.

2008-11-28   Dan McMahill * dan AT mcmahill dot net *

	* README.snapshots: Minor formatting updates for some long lines and
	also minor updates to reflect some sourceforge changes.

2008-11-28   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-config.c: fix up the library path dialog for
	windows

2008-11-28   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-config.c: Use PCB_PATH_DELIMETER instead of ":" in
	a few key places

2008-11-28   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: bump rev after 20081128 branch

2008-11-28   Dan McMahill * dan AT mcmahill dot net *

	* README.snapshots: update dates for 20081128 snapshot

2008-11-28   Dan McMahill * dan AT mcmahill dot net *

	* NEWS: update for 20081128 snapshot

2008-11-28   Dan McMahill * dan AT mcmahill dot net *

	* ChangeLog: update for 20081128 snapshot

2008-11-28   Dan McMahill * dan AT mcmahill dot net *

	* doc/actions.texi: regen.

2008-11-28   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.am: Make DISTCHECK_CONFIGURE_FLAGS actually work again so
	we can check that 'make distcheck' passes for lesstif.

2008-11-27   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.am: honor psdir, pdfdir, docdir, htmldir, dvidir.
	Noted in sf bug #1916057.

2008-11-27   DJ Delorie * dj AT delorie dot com *

	* src/create.c: Test the two lines, not the line vs the current pcb,
	for compatible poly-join flags.

2008-11-27   Dan McMahill * dan AT mcmahill dot net *

	* src/pcbtest.sh.in: get rid of an insecure usage of a temp file

2008-11-25   Dan McMahill * dan AT mcmahill dot net *

	* src/main.c: do not free() the result of getenv().  Noted by Peter
	Clifton

2008-11-25   Dan McMahill * dan AT mcmahill dot net *

	* src/global.h, src/hid/common/hidinit.c,
	src/hid/gtk/gui-top-window.c, src/hid/lesstif/menu.c, src/main.c: 
	Determine the users home directory on program startup and remember
	it for use in other places later.  This avoids repeated use of
	getenv("HOME") which may have issues especially under windows.

2008-11-25   Dan McMahill * dan AT mcmahill dot net *

	* win32/build_pcb: create a DOS batch file wrapper for the installer
	to make it easier to run the installer immediately after building it
	from the cygwin shell.  Without this, vista doesn't seem to like to
	run it for some reason.

2008-11-25   Dan McMahill * dan AT mcmahill dot net *

	* doc/actions.texi, doc/version.texi: regen

2008-11-25   Dan McMahill * dan AT mcmahill dot net *

	* win32/Makefile.am, win32/build_pcb, win32/extract_gtk_win32,
	win32/pcb.nsi.in, win32/registerExtension.nsh: - various minor updates for a more recent download of gtk and
	  friends largely taken from gerbv.  - associate .pcb and .fp file extensions with pcb - make sure we start up pcb in the My Documents area to discourage   writing into Program Files.

2008-11-24   Dan McMahill * dan AT mcmahill dot net *

	* po/POTFILES.in: add 2 missing files that have translations

2008-11-23   DJ Delorie * dj AT delorie dot com *

	* src/hid/ps/ps.c: Fix the foo.ps.type.ps bug

2008-11-19   DJ Delorie * dj AT delorie dot com *

	* src/djopt.c: Move splitlines even earlier, to avoid unwanted
	changes.

2008-11-11   DJ Delorie * dj AT delorie dot com *

	* src/create.c: Don't merge two lines if the join flag differs.

2008-10-21   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-pinout-preview.c: Fix preview drawing broken by
	resetting "Gathering" mode after painting.  Seems that the pinout preview widget relied on the bug fixed in
	commit 0647d028e6c755715d2fcdbd0b4f2be73d36ae7f. In the expose
	handler of the preview, We should be calling the
	hid_expose_callback() function rather than DrawElement() directly.

2008-10-21   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-output-events.c: Remove logged warning when
	pressing a key with no defined binding Poping up the log window in these cases is very intrusive, and it
	triggered for keys such as capslock, Mod4/Windows etc. There is no
	real need to log errant key-presses, so remove this feature.

2008-10-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/autoroute.c, src/mtspace.c: Fix two assertion test to allow
	compiling a debug build.  Due to code-restructures, a couple of assert tests (not normally
	compiled) had bit-rotted. Remove one, rejig the other.

2008-10-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/rtree.c: rtree.c: Fix typo in assertion test inside __r_search Caused false assertion failures when running a debugging build.

2008-10-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/search.c: Fix IsPointInBox to work with wide as well as tall
	boxes Actually implement the test, rather than trying to construct a pad
	to test which has the right geometry.

2008-10-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/rtree.c: Change rtree penalty function in rtree.c to use
	doubles, not long long.  Since the exact integer result doesn't matter, this is ok.
	Marginally faster on Core Duo machine.

2008-10-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/rtree.c: Check all r-tree node children for fit before working
	out penalties Working out the penalty involves multiplications which produce a
	"long long" result, and is seen to be appear in profiling.  Make a pass at testing all children for the fast case of the child
	node containing the desired box, before working out size penalties
	to expanding each child.

2008-10-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/heap.c: Increase initial heap size from 32 to 256 In complex boards with lots of polygons, we were realloc'ing up to
	this kind of number anyway, in x2 size steps. Save all the
	memcpy'ing by making the heap larger to start with.  My test board still has some requirement for heaps >256, <512, but
	the frequency is low.

2008-10-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: GTK HID: Raise already open command
	window to top with ":" key Previously, ":" only opened the window, but would not raise it if
	already open.

2008-10-02   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/move.c: Fix array index out of bounds over layer groups Off by one error in for loop, picked out by a recent version of GCC
	being better at spotting this kind of bug. The effects (if any) this
	bug caused are unknown.

2008-10-01   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-netlist-window.c: GTK HID: Fix crash when
	highlighting connectivity caused by net tree.  Seems I caused a crash in the connectivity highlighting code which
	assumed the net model of in the netlist window is a list structure
	where each element represents a net. Adapted the code to hunt out
	the right net / node with a tree model of nets.

2008-10-01   Dan McMahill * dan AT mcmahill dot net *

	* README.snapshots, utils/cvs2cl.pl: add a local coyp of cvs2cl.pl

2008-09-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/polygon.c, src/polygon.h: Don't bother unsubtracting complex
	polygons when doing incremental updates Since the polygon is re-cleared against any objects existing within
	the bounding box of the update region, there is no point wasting CPU
	cycles intersecting a more complex polygon than necessary. Just take
	the UNION of the polygon being unsubtracted, and the bounding box of
	the hole to be filed in.

2008-09-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/misc.c, src/polygon.c: Fix text bounds to include the area
	cleared into a polygon Fixes re-clearing the polygon when a closely touching object is
	incrementally updated.

2008-09-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: Ensure "Gathering" mode is set after painting the
	screen.  In between repaints initiated from the GUI, with this flag set, all
	Draw{object_type} operations just update a dirtied bounds. A final
	Draw() call then calls the HID to invalidate the bounds gathered.  Setting "Gathering = True" after an expose event callback ensures
	subsequent drawing is batched up for the next screen update.

2008-09-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: Add debugging code to visually check a pad's bounding
	box Proved useful in fixing the pad bounding box update routine.
	Disabled with #if 0 block.

2008-09-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/misc.c, src/move.h: Fix bounding boxes for rotated square
	ended pads.  Bounding box compution only worked for round ended pads before.  In
	addition, the "move" code previously called SetLineBoundingBox for
	pads, which computes the wrong result.

2008-09-30   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-library-window.c: GTK HID: Make double clicking on
	a footprint library expand / contract it Usability improvement.

2008-09-30   DJ Delorie * dj AT delorie dot com *

	* src/buffer.c: Put exploded pads on the correct layer

2008-09-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-netlist-window.c: Display nets as a hierarchical
	tree in the netlist window.  The view splits netnames at "/" characters, and builds the netlist
	view as a tree accordingly. Allows more strutured viewing of nets
	coming from hierarchical designs.

2008-09-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/common/hidinit.c: Improve hashing algorithm for storing
	color data Curosry testing showed the old algorithm encountered a lot of hash
	collisions. Swap to a more sensible hashing algorithm.

2008-09-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/common/hidinit.c: Fix lru heuristic to shortcut color
	cache lookup Heuristic didn't work before as the lru element wasn't saved.

2008-09-23   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/batch/batch.c: Fix batch HID by adding stub functions for
	file watches and block hooks This was broken when these features were added to the HID interface.

2008-09-11   DJ Delorie * dj AT delorie dot com *

	* src/polygon.c: Fix poly clearance around rotated pads - Robert
	Fitzsimons and Ineiev

2008-09-11   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c: Fix lesstif crosshair color - joel
	silvestre

2008-08-22   Dan McMahill * dan AT mcmahill dot net *

	* README.cvs: update the anoncvs server name

2008-08-19   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac, src/Makefile.am: add a --enable-debug mode that does
	not disable assert()

2008-08-16   DJ Delorie * dj AT delorie dot com *

	* src/hid/batch/batch.c: Add missing parameter name

2008-08-06   DJ Delorie * dj AT delorie dot com *

	* globalconst.h: Bump up font size and aperture count.

2008-08-03   DJ Delorie * dj AT delorie dot com *

	* src/hid/png/png.c: Add --ben-flip-x and --ben-flip-y options to
	produce "ben mode" images of the other side of the board.

2008-07-10   Ben Jackson * ben AT ben dot com *

	* src/hid/png/png.c: Fix crash with 'ben-mode' if your layer stack
	is the reverse of DJ's.

2008-07-08   DJ Delorie * dj AT delorie dot com *

	* src/hid/png/png.c: Add "Ben Mode".  Fix export of thindrawn
	polygons.

2008-07-05   DJ Delorie * dj AT delorie dot com *

	* src/action.c: Oops, fix bug from previous patch.

2008-07-05   DJ Delorie * dj AT delorie dot com *

	* src/action.c: Do not require a second paramter for SaveTo(Layout)

2008-06-02   DJ Delorie * dj AT delorie dot com *

	* src/print.c: Allow outline layers that have nothing but arcs.

2008-05-28   DJ Delorie * dj AT delorie dot com *

	* src/macro.h: Add ELEMENTARC_LOOP

2008-05-20   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* data/pcb.xml.in, doc/actions.texi, doc/pcbfile.texi: Add mime
	magic "M48" for detection of excellon drill files.

2008-05-07   DJ Delorie * dj AT delorie dot com *

	* src/hid/gerber/gerber.c: Don't say ,TZ as we're not omitting
	trailing zeros.

2008-04-28   Dan McMahill * dan AT mcmahill dot net *

	* src/mtspace.c, src/report.c: fix a few more code before
	declarations bugs.  Patch by der Mouse.

2008-04-28   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: if the compiler takes it, turn on code before
	declarations warnings

2008-04-28   Dan McMahill * dan AT mcmahill dot net *

	* src/edif.y, src/puller.c: Fix some code before declarations bugs
	noted by der Mouse.

2008-04-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/action.c: Applied patch from Tomaz Solc fixing crosshair
	issues with ActionNew() ActionNew() function didn't call a RestoreCrosshair() after a
	HideCrosshair() in most cases.  This causes symptoms similar to those described in #1900255 when
	"Start new layout" is selected in the File menu in GTK HID (most
	probably also in Lesstiff, but I haven't checked).  This patch adds two missing RestoreCrosshair() calls and fixes that
	issue.  Minor re-indentation by Peter Clifton during application.

2008-04-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/misc.c: Applied patch from Tomaz Solc fixing a bug in the
	CenterDisplay function.  This patch fixes a bug in the CenterDisplay function that doesn't do
	a RestoreCrosshair() after HideCrosshair().  This causes the crosshair stack overflow when using the DRC checker
	(which calls CenterDisplay a lot).  Minor re-indentation by Peter Clifton during application.

2008-04-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/crosshair.c, src/hid/gtk/gui-output-events.c: Applied patch
	from Tomaz Solc fixing bug #1882970.  This patch fixes a bug where objects attached to the cursor (line
	segments during drawing, etc.) permanently disappear if mouse cursor
	leaves a window during dragging.  Minor re-indentation by Peter Clifton during application.

2008-04-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: Apply patch from Igor to ensure when
	flipping the board, the cursor remains on the same point on the
	layout. Thanks!

2008-04-13   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* doc/actions.texi, src/action.c, src/command.c, src/hid.h,
	src/hid/batch/batch.c, src/hid/bom/bom.c, src/hid/common/extents.c,
	src/hid/common/hidnogui.c, src/hid/gerber/gerber.c,
	src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-dialog.c,
	src/hid/gtk/gui.h, src/hid/lesstif/dialogs.c,
	src/hid/lesstif/main.c, src/hid/lpr/lpr.c, src/hid/nelma/nelma.c,
	src/hid/png/png.c, src/hid/ps/eps.c, src/hid/ps/ps.c: Add HID hook,
	close_confirm_dialog() for closing modified layouts.  This allows GUI HIDs to present a more native looking "save before
	closing" dialog. The HID is responsible for any save which the user
	requests and the subsequent return codes from the HID are as before,
	0 for cancel and 1 for close.  This checkin also fixes the GTK HID's Save() action to return 1 for
	cancel if the user cancels from the "Save As" dialog.

2008-04-02   DJ Delorie * dj AT delorie dot com *

	* src/hid/png/png.c: Fix off-by-one bug drawing pads.

2008-03-31   DJ Delorie * dj AT delorie dot com *

	* src/hid/ps/ps.c: When drawing zero-length lines, draw a square or
	circle according to the end cap value.

2008-03-30   DJ Delorie * dj AT delorie dot com *

	* src/misc.c: If a layer selected through --layer-stack isn't found,
	let the user know and print a list of available layers.

2008-03-24   DJ Delorie * dj AT delorie dot com *

	* src/hid/gerber/gerber.c: Ignore zero-radius filled circles.

2008-03-16   Dan McMahill * dan AT mcmahill dot net *

	* src/find.c, src/parse_y.y: Only use the min annular ring parameter
	for checking the annular rings on pins and vias.  Previously the
	minimum copper width setting was also used.  Changed after a
	discussion on geda-user.  Also make sure we use the minimum copper
	width as the default if the .pcb file doesn't specify the minimum
	annulus.

2008-03-15   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gerber/gerber.c: Add a missing terminating '*' on the
	first G04 line of the output files.  Noted on #geda.

2008-02-27   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.am: revert most of the previous commit which
	accidentally added some stuff that was not meant to be checked in.

2008-02-26   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.am, src/pcbtest.sh.in: use absolute paths (set at
	configure time) so this script may be called from other directories
	as part of a test suite.

2008-02-22   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc: add 128 pin 14x14 mm LQFP with exposed padded.  Add
	128 pin 14x14 mm TQFP with and without exposed paddle

2008-02-10   DJ Delorie * dj AT delorie dot com *

	* src/hid/ps/ps.c: Allow negative bloats

2008-02-01   Dan McMahill * dan AT mcmahill dot net *

	* README.snapshots: add file size to checksum file

2008-02-01   Dan McMahill * dan AT mcmahill dot net *

	* po/LINGUAS, po/fr.po, po/fr_FR.po: move fr_FR to fr as the latter
	seems to be recommended these days

2008-02-01   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: bump to 1.99x after branching 20080202

2008-02-01   Dan McMahill * dan AT mcmahill dot net *

	* ChangeLog: update for 20080202

2008-02-01   Dan McMahill * dan AT mcmahill dot net *

	* README.snapshots: update to deal with the desktop integration and
	20080202

2008-02-01   Dan McMahill * dan AT mcmahill dot net *

	* NEWS: add some news items for 20080202

2008-02-01   Dan McMahill * dan AT mcmahill dot net *

	* src/misc.c: add 2008 to copyright year

2008-02-01   Dan McMahill * dan AT mcmahill dot net *

	* doc/actions.texi: regen

2008-02-01   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-utils.c: fix mark up rendering on status line

2008-01-31   Dan McMahill * dan AT mcmahill dot net *

	* win32/build_pcb: add a --with-tex and --with-etex to work around
	some cygwin/tex bugs

2008-01-31   Dan McMahill * dan AT mcmahill dot net *

	* win32/pcb.nsi.in: fix the start menu shortcut icon

2008-01-31   Dan McMahill * dan AT mcmahill dot net *

	* win32/build_pcb: use tr to kill the extra \r that end up in the
	Makefiles courtesy of pkg-config.  This builds all but the docs on
	windows again.

2008-01-31   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gtkhid.h,
	src/hid/gtk/gui-top-window.c: avoid segfaults on loading certain
	boards from the command line.  This patch introduces a flag that
	indicates when the gui is up and calls to ghid_shift_is_pressed()
	and ghid_control_is_pressed() can proceed as normal.

2008-01-30   Dan McMahill * dan AT mcmahill dot net *

	* win32/extract_gtk_win32: clean up a comment

2008-01-30   Dan McMahill * dan AT mcmahill dot net *

	* win32/build_pcb, win32/extract_gtk_win32, win32/pcb.nsi.in: copy
	over build_pcb improvements from gerbv.  Add gdwin32 to the extract
	script.

2008-01-30   Dan McMahill * dan AT mcmahill dot net *

	* win32/Makefile.am, win32/extract_gtk_win32, win32/pcb.nsi.in: add
	script to help setup build environmnet.  Also add all the various
	licenses to the installer.

2008-01-29   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* icon-theme-installer: Fix bug in icon-theme-installer where the
	-?? size was not stripped from the installed icon name.

2008-01-28   Dan McMahill * dan AT mcmahill dot net *

	* src/flags.c, src/gpcb-menu.res, src/pcb-menu.res: Repair the
	buffer # menus by changing CheckedWhen() to checked=.  As part of
	this, added a buffer flag.

2008-01-22   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-misc.c, src/hid/gtk/gui-utils.c,
	src/hid/gtk/gui.h: add a bunch of const fixups from Larry Doolittle.

2008-01-22   Dan McMahill * dan AT mcmahill dot net *

	* src/find.c: After we run DRC, force a redraw since we've possibly
	turned on and off layers (like silk).  Should address SF bug
	1843181.

2008-01-16   Dan McMahill * dan AT mcmahill dot net *

	* autogen.sh: drop the intltool required version to 0.35 as that
	seems to work

2008-01-16   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.am, configure.ac, data/Makefile.am, icon-theme-installer: 
	check for gtk-update-icon-cache and use it.  For distcheck, disable
	that via setting the GTK_UPDATE_ICON_CACHE_BIN to 'true' to avoid
	creating a cache file which then is not removed.  A better way would
	probably be a uninstall hook which noticed that it was a distcheck
	uninstall and simply removed the file.

2008-01-16   Dan McMahill * dan AT mcmahill dot net *

	* doc/actions.texi: regen

2008-01-16   Dan McMahill * dan AT mcmahill dot net *

	* win32/Makefile.am: remove deprecated icon generation code

2008-01-15   Dan McMahill * dan AT mcmahill dot net *

	* : regen

2008-01-15   Dan McMahill * dan AT mcmahill dot net *

	* data/regen_files: add some help output, add options to only do the
	.png's or the .ico, check for imagemagick and netpbm.

2008-01-15   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac, src/Makefile.am, win32/Xdefaults.tgif,
	win32/pcb_icon_big.obj, win32/pcb_icon_med.obj,
	win32/pcb_icon_sml.obj: Use the same icons for windows as in the
	kde/gnome desktop.  Remove the old windows icons which were really
	placeholders anyway.  Remove the rules for regenerating these
	obsolete icons.

2008-01-15   Dan McMahill * dan AT mcmahill dot net *

	* doc/Xdefaults.tgif: this file is no longer used.  The drawings for
	the documentation are drawn with pcb.

2008-01-15   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.man.in, doc/pcb.man.raw: remove some old and very obsolete
	files.

2008-01-15   Dan McMahill * dan AT mcmahill dot net *

	* data/Makefile.am, icon-theme-installer: Remove the use of
	#!/bin/bash for the benefit of systems which don't install bash in
	/bin.  In the Makefile, call out the name of the shell to help
	systems like solaris where it is more likely that SHELL will be
	/bin/ksh instead of the broken solaris /bin/sh

2008-01-15   Dan McMahill * dan AT mcmahill dot net *

	* autogen.sh: Check for the version of intltool.  Also apply some
	fixups to the po/Makefile.in.in file created by intltoolize.

2008-01-15   Dan McMahill * dan AT mcmahill dot net *

	* src/autoroute.c: fix an unitialized variable

2008-01-15   Dan McMahill * dan AT mcmahill dot net *

	* src/edif.y, src/hid/lesstif/menu.c: fix a few gcc4 warnings

2008-01-15   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.am: skip adding m4/ChangeLog to the distfile.  It seems
	to be installation dependent

2008-01-14   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.am: it helps if we build libintl before using it...

2008-01-14   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: add missing $INTLLIBS to LIBS.  Fixes building with
	lesstif and batch.

2008-01-13   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac, src/hid/gtk/gui-top-window.c: check for and include
	locale.h.  Should fix solaris build problems.

2008-01-13   Dan McMahill * dan AT mcmahill dot net *

	* mkinstalldirs: remove generated file.  This comes from the
	./autogen.sh bootstrap

2008-01-12   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* data/regen_files: Fix script to regenerate icon files, including
	mask channel for windows icons.

2008-01-12   Dan McMahill * dan AT mcmahill dot net *

	* autogen.sh: put in a check for autopoint version

2008-01-11   Dan McMahill * dan AT mcmahill dot net *

	* data/README: note the regen_files script

2008-01-11   Dan McMahill * dan AT mcmahill dot net *

	* data/regen_files: hopefully fix a few minor bugs in inkscape
	exporting

2008-01-11   Dan McMahill * dan AT mcmahill dot net *

	* data/Makefile.am, data/regen_files: add windows icon and script to
	generate it

2008-01-11   DJ Delorie * dj AT delorie dot com *

	* src/polygon1.c: Strict aliasing patch from Larry Doolittle.

2008-01-11   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc: fix pincount for MSOP10

2008-01-11   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/batch/.cvsignore, src/hid/bom/.cvsignore,
	src/hid/common/.cvsignore, src/hid/gerber/.cvsignore,
	src/hid/gtk/.cvsignore, src/hid/lesstif/.cvsignore,
	src/hid/lpr/.cvsignore, src/hid/nelma/.cvsignore,
	src/hid/png/.cvsignore, src/hid/ps/.cvsignore: add .dirstamp

2008-01-11   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* lib/gtag.m4: Fix typo in gtag.m4 file

2008-01-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* configure.ac, src/Makefile.am, src/hid/gtk/gui.h, src/main.c: 
	Activate gettext support in PCB by setting up the domain and locale
	dir.

2008-01-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* data/pcb.desktop.in: Add application/x-pcb-footprint to the
	mime-types PCB will be launched for

2008-01-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* data/pcb.xml.in: Add an attempt at a glob pattern to match PCB
	footprints Searches for the string "Element[" starting between and offset of 0
	and 20 bytes into the file.

2008-01-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* data/pcb.desktop.in: Fix mime type registered to open PCB to
	application/x-pcb-layout

2008-01-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* data/Makefile.am: Fix data/Makefile.am where xdgdir was used
	instead of xdgdatadir

2008-01-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* Makefile.am: Add intltool-XXX.in to EXTRA_DIST and add appropriate
	cleaning rules.

2008-01-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* Makefile.am, icon-theme-installer: Add missed icon-theme-installer
	script required for installing icons

2008-01-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* Makefile.am: Add make distcheck ./configure flag
	--disable-desktop-database Ensures cache files won't be left during make distcheck which could
	break the distcheck.

2008-01-10   Dan McMahill * dan AT mcmahill dot net *

	* win32/.cvsignore: add missing cvsignore

2008-01-10   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/common/.cvsignore: add hidlist.h

2008-01-10   Dan McMahill * dan AT mcmahill dot net *

	* .cvsignore, src/.cvsignore, src/hid/.cvsignore,
	src/hid/batch/.cvsignore, src/hid/bom/.cvsignore,
	src/hid/common/.cvsignore, src/hid/gerber/.cvsignore,
	src/hid/gtk/.cvsignore, src/hid/lesstif/.cvsignore,
	src/hid/lpr/.cvsignore, src/hid/nelma/.cvsignore,
	src/hid/png/.cvsignore, src/hid/ps/.cvsignore, src/icons/.cvsignore: 
	add a cvsignore file

2008-01-10   Dan McMahill * dan AT mcmahill dot net *

	* data/README: fix a typo

2008-01-10   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.am, configure.ac: wire in the desktop stuff

2008-01-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/Makefile.am, src/gpcb-menu.res, src/hid/gtk/gui-config.c,
	src/hid/gtk/gui-library-window.c, src/hid/gtk/gui-library-window.h,
	src/hid/gtk/gui.h: Change library window to give a preview and
	filterable list of components.  Code for the libarary window is based on x_compselect.c from
	gEDA/gaf's gschem schematic editor, and the libray window code
	pre-existing in PCB.  Also added a shortcut "i" to the library window, matching gschem's
	insert component shortcut.

2008-01-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* configure.ac, po/LINGUAS, po/POTFILES.in: Ensure GETTEXT_PACKAGE
	is set, and add missing LINGUAS and POTFILES.in files.

2008-01-10   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.am, README.cvs, autogen.sh, configure.ac: add i18n
	framework.

2008-01-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* data/Makefile.am: Add Makefile.am for data dir, with rules to
	install icons and desktop data

2008-01-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* data/pcb.desktop.in: Commit pcb.desktop.in template menu file for
	translation

2008-01-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* data/pcb.xml.in, data/x-excellon.desktop.in,
	data/x-gerber.desktop.in, data/x-pcb-footprint.desktop.in,
	data/x-pcb-layout.desktop.in, data/x-pcb-netlist.desktop.in: Check
	in KDE mimelnk .desktop.in and XDG pcb.xml.in MIME registrations Files are annotated suitably for translation with intltool

2008-01-10   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* data/README, data/application-x-excellon-16.svg,
	data/application-x-excellon-22.svg,
	data/application-x-excellon-32.svg,
	data/application-x-excellon-48.svg,
	data/application-x-excellon.svg, data/application-x-gerber-16.svg,
	data/application-x-gerber-22.svg, data/application-x-gerber-32.svg,
	data/application-x-gerber-48.svg, data/application-x-gerber.svg,
	data/application-x-pcb-footprint-16.svg,
	data/application-x-pcb-footprint-22.svg,
	data/application-x-pcb-footprint-32.svg,
	data/application-x-pcb-footprint-48.svg,
	data/application-x-pcb-footprint.svg,
	data/application-x-pcb-layout-16.svg,
	data/application-x-pcb-layout-22.svg,
	data/application-x-pcb-layout-32.svg,
	data/application-x-pcb-layout-48.svg,
	data/application-x-pcb-layout.svg,
	data/application-x-pcb-netlist-16.svg,
	data/application-x-pcb-netlist-22.svg,
	data/application-x-pcb-netlist-32.svg,
	data/application-x-pcb-netlist-48.svg,
	data/application-x-pcb-netlist.svg, data/pcb.svg: Check in MIME and
	app icons along with a README with origins and copyright

2008-01-08   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* configure.ac, src/dbus-pcbmain.c: Avoid using deprecated
	dbus_watch_get_fd() in newer dbus versions.  Use a configure test (copied from PulseAudio) for the newer API,
	dbus_watch_get_unix_fd(), and use that if available.

2008-01-08   Dan McMahill * dan AT mcmahill dot net *

	* src/polygon1.c: add a FIXME comment

2008-01-08   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/Makefile.am, src/hid/gtk/gtkhid-main.c,
	src/hid/gtk/gui-pinout-preview.c, src/hid/gtk/gui-pinout-preview.h,
	src/hid/gtk/gui-pinout-window.c, src/hid/gtk/gui.h: Refactored
	pinout preview code into a new widget, GhidPinoutPreview In the refactoring, fix a bug where if the pinout window was larger
	than the PCB window's viewport, elements in the preview were clipped
	to the viewport size.  In a break from the old behaviour, the previewed element is centered
	in the preview area.

2008-01-07   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-misc.c, src/hid/gtk/gui-output-events.c: remove a
	handful of strict aliasing rule violation warnings generate by gcc4

2008-01-07   Dan McMahill * dan AT mcmahill dot net *

	* src/parse_l.l, src/res_lex.l: avoid some 'defined but not used'
	gcc warnings.

2008-01-07   Dan McMahill * dan AT mcmahill dot net *

	* src/autoroute.c, src/hid/nelma/nelma.c, src/misc.c: clear out a
	few more compiler warnings

2008-01-07   Dan McMahill * dan AT mcmahill dot net *

	* src/gpcb-menu.res: remove some duplicated entries and remove some
	conflicting hot keys.

2008-01-07   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-top-window.c: be a little smarter about parsing
	the hotkey parts of the menu resource file.  Now give a sane message
	instead of segfaulting on a malformed input.  Also check for
	duplicate hot keys and drop the duplicates with a message.

2008-01-06   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-output-events.c: correctly scale the step sizes
	for scroll bar scrolling of the main drawing area.  This addresses
	the "scoll bars scroll by tiny tiny steps" part of sf bug [ 1796016
	] Cursor/scrolling madness

2008-01-06   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.am: add some extra dependencies to get this working
	with parallel make jobs.

2008-01-06   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: add min version for automake

2008-01-06   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: specify the minimum autoconf version

2008-01-06   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.in, README.cvs, README_FILES/Makefile.in, aclocal.m4,
	config.h.in, configure, doc/Makefile.in, doc/actions.texi,
	doc/pcbfile.texi, doc/version.texi, example/Makefile.in,
	example/libraries/Makefile.in, lib/Makefile.in,
	newlib/2_pin_thru-hole_packages/Makefile.in, newlib/Makefile.in,
	newlib/analog-devices/Makefile.in, newlib/burr-brown/Makefile.in,
	newlib/connectors/Makefile.in, newlib/crystal/Makefile.in,
	newlib/electro-optics/Makefile.in, newlib/headers/Makefile.in,
	newlib/keystone/Makefile.in, newlib/msp430/Makefile.in,
	newlib/not_vetted_ingo/Makefile.in, newlib/sockets/Makefile.in,
	newlib/tests/Makefile.in, src/Makefile.in, src/icons/Makefile.in,
	tools/Makefile.in, tutorial/Makefile.in, win32/Makefile.in: remove a
	bunch of autotools generated files and update the instructions for
	building from cvs accordingly.

2008-01-06   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/png/png.c: before exporting png, clear out any existing
	color or brush cache.  They are stale.  Should fix sf bug [ 1807726 ] png HID exports transparent copper
	rectangles

2008-01-06   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/png/png.c: apply the patch provided in sf bug [ 1792119 ]
	Slanted squared pads: png output which corrects the drawing of non
	90-deg square cap lines in the png output.

2008-01-05   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.am, src/action.c, src/edif.y, src/edif_parse.h,
	src/file.c, src/file.h: add the ability to load edif netlists
	provided in sf patch [ 1516885 ] added edif netlist import by Jeff
	Bailey.

2008-01-05   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-dialog.c: remove some
	unused variables

2008-01-05   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-dialog.c,
	src/hid/gtk/gui.h: fix a bug where sometimes the confirm dialog had
	corrupt button names.

2008-01-05   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c: apply the patch provided in sf bug [ 1850097 ] Grid
	off by 1 after setting to 1

2008-01-05   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gtkhid-main.c: apply a patch provided in sf bug [
	1840422 ] GTK HID panning bug.  Keeps the scroll bars in sync when
	the display is panned.

2008-01-05   DJ Delorie * dj AT delorie dot com *

	* src/hid/common/actions.c: Re-initialize num so that multiple
	actions will be parsed properly.

2008-01-05   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gtkhid-main.c: remove some code from set_cursor() that
	tries to limit the cursor position in a way which seems to cause
	spurious scrolling in a number of situations.  Should hopefully fix sf bug [ 1796016 ] Cursor/scrolling madness

2008-01-05   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-top-window.c: update a comment

2008-01-04   Dan McMahill * dan AT mcmahill dot net *

	* src/buffer.c: Allow the conversion of a selection which contains
	only silk to an element instead of requiring a pad or pin.  Useful
	for logos.  Requested in sf bug [ 1820380 ] convert-to-element requires at least
	one pin or pad

2008-01-04   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: add missing check for texi2dvi.  sf bug [ 1840645 ] texi2dvi: Missing configure check

2008-01-04   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/ps/ps.c: Add an option that turns off the scale and file
	name in the postscript output.  This is useful when trying to do a
	toner transfer or print transparencies that use the whole page.  Requested in sf bug [ 1858547 ] unwanted text lines in printouts
	makes these useless

2008-01-04   Dan McMahill * dan AT mcmahill dot net *

	* src/find.c, src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-dialog.c,
	src/hid/gtk/gui.h: Apply sf patch [ 1848465 ] brief error info in
	"DRC continue" dialog While here, add some missing bits of code in the dialog_confirm
	function for the gtk hid that lets you specify the ok and cancel
	messages.

2008-01-04   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-top-window.c: fix a printf format string compiler
	warning.

2008-01-04   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c, src/file.c, src/hid/gerber/gerber.c, src/misc.c: add
	some casts to silence some gcc4 warnings

2008-01-04   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc, lib/qfpdj.inc: apply sf patch 1784721 to move the
	QFP footprints to 0.01 mil resolution.  Also the remaining SO
	packages have been moved to the hi-res format.  Minor corrections to the patch by me.

2008-01-03   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.am, lib/Makefile.in, lib/png_diff.sh: add a utility
	script for comparing .png's of an entire footprint library.

2008-01-03   Dan McMahill * dan AT mcmahill dot net *

	* lib/m4lib_to_newlib.sh.in: add a -d|--dpi flag to use a fixed
	scale factor for the exported png files

2008-01-03   Ben Jackson * ben AT ben dot com *

	* src/parse_y.y: Temporarily change PCB=yyPCB while InitClip after
	load (similar hacks exist in other load code)

2008-01-03   Dan McMahill * dan AT mcmahill dot net *

	* lib/qfpdj.inc: add missing PKG_QFP_40

2008-01-03   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-config.c, src/hid/gtk/gui-top-window.c: apply
	patch 1852864  	  GTK HID: scrolled layer preferences To enable a
	scroll window for the layers.  This is needed if the user uses more
	than 8 or so layers.

2008-01-02   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/bom/bom.c: Fix a problem with the X-Y output file where
	the y values were mirrored and offset with respect to the RS274-X
	output.  Given that this bug has been here since the code was
	written 3 years ago, I conclude that in fact no one has used this
	feature.

2007-12-26   Dan McMahill * dan AT mcmahill dot net *

	* src/lrealpath.c: change the preprocessor logic a bit to avoid
	#ifdef-ing in code that will never be reached.

2007-12-26   Dan McMahill * dan AT mcmahill dot net *

	* src/puller.c: add a couple of casts to make pointer compares work
	on identical pointer types.

2007-12-26   DJ Delorie * dj AT delorie dot com *

	* src/hid/png/png.c: Fix some off-by-one bugs.

2007-12-26   Dan McMahill * dan AT mcmahill dot net *

	* src/puller.c: get rid of a handful of compiler warnings (printf
	format strings, and unused variables).

2007-12-22   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/netlist.c: Cast parameters to right type.

2007-12-21   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc: add 10x10mm TQFP64, 12x12mm TQFP80, and 12x12mm
	TQFP100 footprints

2007-12-19   Dan McMahill * dan AT mcmahill dot net *

	* lib/connector.inc: make sure both rows of CONNECTOR_DIL use 38 mil
	pins.  Noted on geda-user by Michael Stovenour

2007-12-19   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/dialogs.c: Resolve some const-cast issues.

2007-12-18   DJ Delorie * dj AT delorie dot com *

	* lib/geda.inc: Add TSSOP14 and TSSOP16

2007-12-13   Dan McMahill * dan AT mcmahill dot net *

	* lib/plcc.inc: fix a few more cases of = being used where == was
	called for

2007-12-13   Dan McMahill * dan AT mcmahill dot net *

	* lib/plcc.inc: use == instead of = for testing equality.  Gets rid
	of a bunch of warnings.  Verified that pcblib-newlib contents did
	not change with this commit.

2007-12-11   DJ Delorie * dj AT delorie dot com *

	* src/gpcb-menu.res, src/pcb-menu.res: Various changes from Kai;
	cut-copy swap for lesstif.

2007-12-11   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* : Forced checkin with no changes due to missed log entry from in
	commit Initialise static variables x_prev and y_prev in
	ghid_port_window_motion_cb() to -1, to avoid the (unlikely) case
	they are used initialised.

2007-12-10   DJ Delorie * dj AT delorie dot com *

	* src/hid/gtk/gui-output-events.c: Fix enter/leave logic to avoid
	leaving obsolete crosshair-attached elements on the screen when the
	cursor leaves the working area.

2007-12-10   Ben Jackson * ben AT ben dot com *

	* src/hid/lesstif/main.c, src/pcb-menu.res: Add Zoom(Toggle) and
	bind it to ` (backtick).  Fix all warnings in hid/lesstif/main.c

2007-12-10   Ben Jackson * ben AT ben dot com *

	* src/draw.c: Make 'outline' layer test case-insensitive to match
	other instances.

2007-12-10   Ben Jackson * ben AT ben dot com *

	* src/draw.c: Add gross hack to avoid using mask in DrawRats() for
	othet than lesstif HID, as lesstif and gtk provide different
	capabilities in CLEAR mode.

2007-12-10   Ben Jackson * ben AT ben dot com *

	* src/draw.c, src/hid/lesstif/main.c, src/hid/lesstif/xincludes.h: 
	Add XRENDER support to the Lesstif HID.  Rat lines and soldermasks
	are now displayed at 50% intensity on top of other drawn elements.

2007-12-09   Ben Jackson * ben AT ben dot com *

	* configure: Rebuild with 2.61

2007-12-09   DJ Delorie * dj AT delorie dot com *

	* config.h.in, configure, configure.ac: Check for Xrender library.

2007-12-08   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/polygon1.c: Sometimes single-point touching will leave no
	starting point on the 'A' pline for an ISECTED contour. Check for
	starting points on the 'B' pline (only at the point of intersection)
	just in case it has a valid starting point.

2007-12-04   Ben Jackson * ben AT ben dot com *

	* src/hid/png/png.c: ignore paste layers when exporting 'as shown':
	Correct logic for silk display; Add logic for mask display ignore
	soldermask layers for normal output add option to make
	background/erasures transparent

2007-12-03   Ben Jackson * ben AT ben dot com *

	* src/crosshair.c: Avoid moving elements snapping to their own pins
	or pads.  Don't snap moving vias to any kind of pins (they can't
	overlap anyway).

2007-12-03   Ben Jackson * ben AT ben dot com *

	* src/action.c: Don't create empty text objects.

2007-12-02   Ben Jackson * ben AT ben dot com *

	* src/misc.c, src/polygon.c: Data->LayerN should generally be
	avoided.  It's not initialized for buffers.  All buffers should have
	max_layer available (which is a macro for PCB->Data->LayerN, the
	number of layers in the current board).

2007-12-02   Ben Jackson * ben AT ben dot com *

	* src/action.c: Partial fix? [ 1775101 ] Undo with the line tool
	sometimes switches to wrong node If you auto-drc and you extend a
	line (causing a delete and re-add of a longer line), then undo, this
	patch ensures the restored short segment has FOUNDFLAG so you can
	continue drawing.

2007-12-02   Ben Jackson * ben AT ben dot com *

	* src/macro.h, src/move.c: Fix [ 1820398 ] Inconsistant vias with
	move-to-layer Add explicit check for silk layer when making vias due
	to movelinetolayer

2007-12-02   Ben Jackson * ben AT ben dot com *

	* src/action.c: Fix [ 1836169 ] undo of shift-paste element
	replacement broken Code was "stealing" the original name memory
	before removing it, so the element went into the undo buffer
	nameless.  Copy string instead.

2007-12-02   Ben Jackson * ben AT ben dot com *

	* src/action.c: Fix [ 1836172 ] shift-create two vias, undo twice,
	internal error Caused by my addition of shift-click vias -- the new
	via undo was happening before the new flag undo.

2007-12-02   Ben Jackson * ben AT ben dot com *

	* src/buffer.c: Missed a spot when adding 'clearlineflag' support to
	Text.  Also Fixed a bug in movearctobuffer

2007-11-30   DJ Delorie * dj AT delorie dot com *

	* src/hid/gtk/gtkhid-main.c, src/hid/lesstif/dialogs.c,
	src/hid/ps/ps.c: Fix printer calibration.

2007-11-30   DJ Delorie * dj AT delorie dot com *

	* src/gpcb-menu.res, src/pcb-menu.res: Add 50 mil grid setting.  Add
	global puller submenu.

2007-11-30   Ben Jackson * ben AT ben dot com *

	* src/action.c: Fix a typo.  Do not use grid size for
	Connection(Find) search radius

2007-11-30   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/menu.c: Attach the show soldermask layer button to
	its flag.

2007-11-30   Ben Jackson * ben AT ben dot com *

	* src/polygon.c: In case 'biggest()' polygon is 0 area, init size =
	-1 instead of 0.

2007-11-27   Ben Jackson * ben AT ben dot com *

	* src/rats.c: Fix two bugs in my via-rats patch: 1)  Certain combinations of objects (presumably rare!) could lead to
	a crash.  2)  Fix a cut/paste error where the wrong coordinate was tested.
	Add explanatory comment.

2007-11-25   DJ Delorie * dj AT delorie dot com *

	* src/puller.c: Add global puller.

2007-11-25   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c: Draw arc start/end radii in separate
	colors, and dotted, if enabled.

2007-11-25   DJ Delorie * dj AT delorie dot com *

	* src/draw.c, src/draw.h: Export DrawLayer() for the ps exporter.

2007-11-25   DJ Delorie * dj AT delorie dot com *

	* src/hid/ps/ps.c: Draw outline layer on all other copper layers
	when "draw outline" is selected.  Make alignment marks less
	obtrusive.  Make drill helpers half the board's minimum drill size,
	not twice PCB's minimum drill size.  Include commented out helpers
	for brass paste stencil etching.

2007-11-25   DJ Delorie * dj AT delorie dot com *

	* src/undo.c: Don't just clean out RemoveList, free it, so it's
	created properly later.

2007-11-25   Ben Jackson * ben AT ben dot com *

	* src/polyarea.h: Add some prototypes for global functions returning
	double that will confuse the heck out of you if treated as returning
	int!

2007-11-24   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/netlist.c: Don't crash if a scanned element has no
	text.

2007-11-24   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/library.c: lesstif_show_library: Don't reset the
	dialog when we're just re-displaying it.

2007-11-24   Ben Jackson * ben AT ben dot com *

	* src/action.c: Apply [ 1726201 ] SaveTo(PasteBuffer.file) for
	footprint creation with cleanups (original patch from Christian
	Riggenbach - gizmotron)

2007-11-23   Ben Jackson * ben AT ben dot com *

	* src/actionlist.c: Remove obsolete (generated, even!) file

2007-11-23   Ben Jackson * ben AT ben dot com *

	* src/gpcb-menu.res, src/pcb-menu.res: Change all the GetXY prompts
	for greater clarity.

2007-11-23   Ben Jackson * ben AT ben dot com *

	* src/hid/gtk/gui-config.c: Apply patch [ 1835365 ] Fix for [
	1820385 ] Can't close the preference dialog from denis77

2007-11-23   Ben Jackson * ben AT ben dot com *

	* src/autoroute.c: LIST_LOOP works on circular lists, but at least
	some code will produce a head pointer of NULL for an empty list,
	causing LIST_LOOP to crash.  Since I'm not sure which is the bug, I
	changed LIST_LOOP to assert() on a NULL list head and skip the loop.
	With assert disabled, the loop becomes a no-op, which seems
	appropriate.

2007-11-23   DJ Delorie * dj AT delorie dot com *

	* src/search.c, src/search.h: Additional slanted-pad patch for
	missed DRC

2007-11-22   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/styles.c: Update the status line even when we
	don't have a styles dialog.

2007-11-19   DJ Delorie * dj AT delorie dot com *

	* src/report.c: Add annulus and mask gap to pin/via report.

2007-11-19   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac: add a missing AC_MSG_RESULT in the
	makeinfo version test.  Patch from Peter Brett.  While here, remove
	a bashism (== vs =).

2007-11-18   DJ Delorie * dj AT delorie dot com *

	* globalconst.h: Expand min/max values.

2007-11-14   DJ Delorie * dj AT delorie dot com *

	* src/misc.c, src/parse_y.y: Fix pin bound calculations based on new
	thermal calculations.

2007-11-12   DJ Delorie * dj AT delorie dot com *

	* src/crosshair.c: Snap to pin/pads whenever we're within the
	pin/pad copper, unless shift is pressed, then snap to the nearest
	grid point if it's closer.

2007-11-12   DJ Delorie * dj AT delorie dot com *

	* src/hid/common/hidnogui.c: Don't complain about checking the shift
	key when exporting pngs from the command line.

2007-11-12   Ben Jackson * ben AT ben dot com *

	* src/buffer.c: Fix bugs intoduced by revision 1.41 while preserving
	the fixes in 1.41.

2007-11-10   DJ Delorie * dj AT delorie dot com *

	* lib/connector.inc: Reduce silk width of connector/header/jumpers
	(some fabs clip it to the pads) to be similar to other elements.

2007-11-10   DJ Delorie * dj AT delorie dot com *

	* lib/qfpdj.inc, lib/smt.inc: Move silk away from pads.  Fix notch
	in SO footprints.

2007-11-05   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc: fix DIN41651_20 and DIN41651_20S.  Those are 20 pin
	footprints not 10 pin footprints.  Reported by Marshall Jose.

2007-11-04   Ben Jackson * ben AT ben dot com *

	* src/change.c, src/change.h, src/move.c, src/polygon.c,
	src/rotate.c, src/strflags.c: Add support for clearing text from
	polygons.  Text with the clearline flag (set with the J key by
	default, just like lines and arcs) will have a rounded rectangle
	hole cut in any overlapping polygons.

2007-11-04   Ben Jackson * ben AT ben dot com *

	* src/action.c: Shift-click with the via tool to connect it to the
	current layer as you place it.

2007-11-04   Ben Jackson * ben AT ben dot com *

	* src/hid/lesstif/netlist.c, src/netlist.c, src/rats.h: Plumb the
	NetlistShow() hid action in lesstif.  Takes a pin name or a net name
	and sets the current selection in the netlist window.  Does not pop
	up the netlist.

2007-11-02   Dan McMahill * dan AT mcmahill dot net *

	* configure, doc/actions.texi, doc/version.texi: regen

2007-11-02   DJ Delorie * dj AT delorie dot com *

	* src/draw.c: Properly thin-draw slanted pads.

2007-11-02   DJ Delorie * dj AT delorie dot com *

	* src/find.c, src/polygon.c, src/search.c, src/search.h: Fixes for
	DRC of slanted pads.  Tracker bug 1791388 and patch 1791392.

2007-11-02   DJ Delorie * dj AT delorie dot com *

	* src/draw.c: Don't draw pins/holes on the outline layer.  Include
	commented-out code to put board outline on mask layers, for fabs
	that need that.

2007-11-02   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c, src/buffer.c, src/hid/gtk/gui-output-events.c,
	src/hid/gtk/gui-top-window.c, src/select.c: fix some compiler
	warnings

2007-11-02   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: Improve the robustness of the makeinfo version test.
	Patch provided by Peter Brett.

2007-11-02   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-top-window.c: Don't segfault when clicking the top
	right button which toggles units.  Problem noted by and solution
	provided by Christian Riggenbach.

2007-10-24   Ben Jackson * ben AT ben dot com *

	* src/search.c: Treat VIAFLAG rats (displayed as donuts) as round
	targets, not as the invisible lines they are internally.

2007-10-23   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/dialogs.c: Make sure the leftmost end of the line
	is visible in the log window.

2007-10-21   Ben Jackson * ben AT ben dot com *

	* src/action.c: Fix printf format warnings.

2007-10-21   Ben Jackson * ben AT ben dot com *

	* src/crosshair.c, src/draw.c, src/rats.c: Ratlist generation is
	changed to favor connecting to polygons when they are available and
	surround the pin needing a connection.  Such rats are still
	internally lines to the corner of the polygon, but have the VIAFLAG
	set.  The drawing code is modified to show them as little donuts
	(suggesting the via that would be used to connect the pin, vs a
	line).  The crosshair rubberband code is modified to NOT draw these
	lines while dragging.  These changes are forward and backward
	compatible.

2007-10-21   Ben Jackson * ben AT ben dot com *

	* src/action.c, src/find.c, src/find.h: Make DRC dialog
	next/continue to clarify its function.  When DRC is over, message
	now indicates if it was cancelled (so log can distinguish lack of
	DRC errors from aborted DRC).

2007-10-20   Ben Jackson * ben AT ben dot com *

	* src/rubberband.c: The correct point on a line now moves with a
	polygon (fix cut'n'paste typo) When you move a line endpoint, only
	*exactly* connected lines go with you.  When you move a line, if
	another segment fully overlaps the end of the moving line, the
	entire segment (not an arbitrary end of it) will move.  When you
	move an element, any segments completely covered by a pad move with
	the pad.  (there are still some bugs in the drawing code as you
	drag??)

2007-10-06   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gtkhid-main.c: Fix some really broken spurious panning
	of the drawing area which happens when the board is viewed from the
	back.  Reported by Peter Clifton who also helped getting this patch
	working right.

2007-10-04   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gui-output-events.c: Reject double and triple clicks
	in ghid_port_button_press_cb() Fixes a bug where a component would be rotated by more steps than
	desired if clicking quickly with the rotate tool.

2007-09-24   Ben Jackson * ben AT ben dot com *

	* src/polygon.c: Change rendering of rounded corners used when
	clearing polygons.  This fixes a slight rotation in rounded
	rectangles and asymmetry of all rounded clearances besides complete
	circles (which were not affected by the bug).  For an illustration,
	see:  http://ad7gd.net/geda/roundrectanim.gif (include error code
	print in returns from the polygon code -- not much use)

2007-09-24   Ben Jackson * ben AT ben dot com *

	* src/autoroute.c: Add (under ifdef) code I used to debug a report
	of "The rats nest is stale! Aborting autoroute...".  It leaves the
	rat in question selected after the error.

2007-09-19   Dan McMahill * dan AT mcmahill dot net *

	* src/misc.c: add missing 2007 in copyright year (for all the gtk
	usermenu stuff)

2007-09-17   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-top-window.c: avoid free()-ing some memory a bit
	too soon.  Patch from Ineiev.

2007-09-14   Dan McMahill * dan AT mcmahill dot net *

	* src/gpcb-menu.res, src/pcb-menu.res: use mil and mm instead of
	mils and mms for grid units

2007-09-13   Dan McMahill * dan AT mcmahill dot net *

	* README.snapshots: a few minor corrections

2007-09-12   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac: welcome to 1.99w

2007-09-12   Dan McMahill * dan AT mcmahill dot net *

	* NEWS: news for 20070912

2007-09-12   Dan McMahill * dan AT mcmahill dot net *

	* ChangeLog: update for 20070912 snapshot

2007-09-12   Dan McMahill * dan AT mcmahill dot net *

	* README.snapshots: set date for 20070912

2007-09-12   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.in, README_FILES/Makefile.in, aclocal.m4, configure,
	doc/Makefile.in, doc/actions.texi, doc/pcbfile.texi,
	doc/version.texi, example/Makefile.in,
	example/libraries/Makefile.in, lib/Makefile.in,
	newlib/2_pin_thru-hole_packages/Makefile.in, newlib/Makefile.in,
	newlib/analog-devices/Makefile.in, newlib/burr-brown/Makefile.in,
	newlib/connectors/Makefile.in, newlib/crystal/Makefile.in,
	newlib/electro-optics/Makefile.in, newlib/headers/Makefile.in,
	newlib/keystone/Makefile.in, newlib/msp430/Makefile.in,
	newlib/not_vetted_ingo/Makefile.in, newlib/sockets/Makefile.in,
	newlib/tests/Makefile.in, src/Makefile.in, src/icons/Makefile.in,
	tools/Makefile.in, tutorial/Makefile.in, win32/Makefile.in: regen

2007-09-12   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gtkhid-main.c: fill in the missing code to get the gtk
	HID set_crosshair() function working as well as the Cursor() action

2007-09-12   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/lesstif/main.c: fix a typo in a help string

2007-09-12   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-output-events.c: remove unused variable

2007-09-11   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c: Add missing else.

2007-09-08   Ben Jackson * ben AT ben dot com *

	* src/buffer.c: Fix bugs with undoing "group" moves of objects over
	a polygon.  The group code uses the buffer code (sort of an
	automatic cut/paste) so it applies to inserting elements and using
	the buffers as well.

2007-09-08   Ben Jackson * ben AT ben dot com *

	* src/action.c: Fix [ 1751568 ] shorted nets stay orange after
	fixing and re-opt netlist

2007-09-08   Ben Jackson * ben AT ben dot com *

	* src/rotate.c: Fix [ 1751574 ] undoing rotation that put an elt
	inside a poly didn't fix plow Properly restores/clears rubber band
	lines during rotate and undo.  Still shockingly slow if you try this
	on an even moderately full board!

2007-09-08   Ben Jackson * ben AT ben dot com *

	* src/find.c, src/rtree.h: Search for rat-end connections using 3x3
	"fat" ends to avoid having rat-to-polygon-corner connections missed.

2007-09-08   Ben Jackson * ben AT ben dot com *

	* src/select.c: Fix [ 1751566 ] When 'far side' hidden, hidden
	elements don't deselect Change the SelectBlock to ignore visibility
	for deselect while looping over all elements.  The diffs are large
	because the original code used VISIBLE_*_LOOP so all of the looping
	was replaced.

2007-09-08   Ben Jackson * ben AT ben dot com *

	* src/search.c: Apply [ 1751580 ] polys should not be
	selectable/considered when thin-drawn

2007-09-08   Ben Jackson * ben AT ben dot com *

	* src/search.c: Fix the crash from [ 1724453 ] PCB Crashes with bad
	footprint (in its library) Does not fix whatever bug in the input
	allowed a bogus element in (see bug for description of the problem
	with the element and the source of the bad element).

2007-09-08   Ben Jackson * ben AT ben dot com *

	* src/remove.c: Fix bugs 1751572 and 1743534 by allowing a remove on
	an endpoint to delete the segment if it's not just deleting a kink
	from a longer line.

2007-09-08   Ben Jackson * ben AT ben dot com *

	* src/move.c: Fix [ 1751578 ] 'move to current layer' doesn't
	re-plow polygon correctly by clearing the NEW line pointer instead
	of the old (destroyed) one.

2007-09-06   Dan McMahill * dan AT mcmahill dot net *

	* lib/dil.inc: Patch [ 1784693 ] Fix Mark position for SDIP packages

2007-09-06   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac: Add newlib/keystone/Makefile.  Forgot to
	check this in earlier.

2007-09-05   Dan McMahill * dan AT mcmahill dot net *

	* newlib/Makefile.am, newlib/Makefile.in,
	newlib/keystone/KEYSTONE_1062.fp, newlib/keystone/Makefile.am,
	newlib/keystone/Makefile.in: add Keystone SMT battery holder for
	CR2032 coin cells.

2007-09-05   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.am, lib/Makefile.in, lib/candk.inc, lib/common.m4,
	lib/nichicon.inc, lib/optek.inc: Add C&K ES series switches, Optek
	white LED, and Nichicon WT series of SMT electrolytics.

2007-09-04   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-dialog-print.c, src/hid/gtk/gui.h: gut
	ghid_print_dialog() and use the attribute editor to do all of the
	dialog box work.  Removes a bunch of duplicated code.

2007-09-04   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c, src/file.c, src/gpcb-menu.res, src/hid.h,
	src/hid/batch/batch.c, src/hid/bom/bom.c,
	src/hid/common/hidnogui.c, src/hid/gerber/gerber.c,
	src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-dialog-print.c,
	src/hid/gtk/gui-dialog.c, src/hid/gtk/gui.h,
	src/hid/lesstif/dialogs.c, src/hid/lesstif/lesstif.h,
	src/hid/lesstif/main.c, src/hid/lpr/lpr.c, src/hid/nelma/nelma.c,
	src/hid/png/png.c, src/hid/ps/ps.c, src/vendor.c: Add a
	->fileselect() function to the HID interface.  Now actions can use
	gui->fileselect() instead of gui->prompt_for() when they are
	specifically looking for a file.  Currently the gtk HID implements
	this and the lesstif one has the old behaviour.  While messing around with dialogs, add a "descr" argument to the
	attribute editor.  That can be used as a tooltip, help string, or
	ignored.

2007-08-26   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/ps/ps.c: Fixed .ps output with "drill-copper" and
	"drill-helper" options.  Holes in the soldermask (and other non-copper layers) are now drawn
	correctly when the "drill-copper" option is set to false. With the
	"drill-helper" option on, only holes on copper layers are affected.

2007-08-22   Dan McMahill * dan AT mcmahill dot net *

	* src/hid.h, src/hid/batch/batch.c, src/hid/common/hidnogui.c,
	src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-dialog-print.c,
	src/hid/gtk/gui.h, src/hid/lesstif/dialogs.c,
	src/hid/lesstif/main.c, src/hid/ps/ps.c: add a title argument to the
	HID attribute_dialog function so the dialogs can have appropriate
	titles

2007-08-22   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-dialog-print.c,
	src/hid/gtk/gui.h: Implement the missing attribute editor dialog for
	the GTK HID and now that it is available, add the PrintCalibrate()
	action to match the lesstif one.

2007-08-22   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/ps/ps.c: indent

2007-08-19   Dan McMahill * dan AT mcmahill dot net *

	* src/draw.c: when drawing the mark for an element also put an "L"
	on it if the element is locked.  Patch from Bert Timmerman

2007-08-17   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: clean up the regexp appendix a bit

2007-08-17   Dan McMahill * dan AT mcmahill dot net *

	* lib/qfn.inc: use a default pad clearance of 20 mils instead of
	zero.  Bug [ 1742394 ] Zero clearance QFN footprints.

2007-08-17   Dan McMahill * dan AT mcmahill dot net *

	* src/gpcb-menu.res, src/hid/gtk/gui-top-window.c: Teach the GTK HID
	about active=<flag> in the menu resource file.  Now that this works,
	sync up the active=have_regex menus with the lesstif menu resource
	file.

2007-08-06   DJ Delorie * dj AT delorie dot com *

	* src/global.h: Give data->pcb a real type.

2007-08-06   DJ Delorie * dj AT delorie dot com *

	* src/buffer.c: Make sure loaded buffers have a proper pcb
	backpointer.

2007-08-06   DJ Delorie * dj AT delorie dot com *

	* src/draw.c: [ 1751567 ] with thin-draw-poly on, soldermask display
	is messed up

2007-08-06   DJ Delorie * dj AT delorie dot com *

	* src/select.c: Match whole names with regex's, when possible.
	[1741650]

2007-08-06   DJ Delorie * dj AT delorie dot com *

	* src/flags.c, src/pcb-menu.res: Fix the have_regex flag in
	pcb-menu.res [1751564]

2007-08-06   DJ Delorie * dj AT delorie dot com *

	* src/hid/common/actions.c, src/hid/lesstif/menu.c: More empty
	:command checks [1751582]

2007-08-06   DJ Delorie * dj AT delorie dot com *

	* src/polygon.c: Ben: Avoid duplicate passes through pad clearances.

2007-08-05   DJ Delorie * dj AT delorie dot com *

	* src/action.c, src/const.h, src/draw.c, src/flags.c, src/global.h,
	src/gpcb-menu.res, src/main.c, src/pcb-menu.res, src/polygon.c,
	src/strflags.c: patch 1738364: flag for non-clipped polygons.

2007-08-05   DJ Delorie * dj AT delorie dot com *

	* src/hid/bom/bom.c: Adds an export in mm to the BOM export dialog
	[1742399]

2007-08-05   DJ Delorie * dj AT delorie dot com *

	* src/set.c: Don't limit keepaway size to minimum *line* size.

2007-08-04   DJ Delorie * dj AT delorie dot com *

	* src/hid/ps/ps.c: Apply bloat to drawn rectangles.

2007-08-04   DJ Delorie * dj AT delorie dot com *

	* src/draw.c: Tracker 1753084 - fixes 1751589, merged soldermask has
	larger than expected outline.

2007-08-03   DJ Delorie * dj AT delorie dot com *

	* src/hid/gtk/gui-top-window.c: More paranoid check for "gui is up"

2007-08-02   DJ Delorie * dj AT delorie dot com *

	* src/hid/gtk/gui-top-window.c: Don't allow LayersChanged if there's
	no GUI yet.

2007-08-01   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c: Protect against empty :command string.

2007-08-01   DJ Delorie * dj AT delorie dot com *

	* src/strflags.c: Fixed a bug in flags_to_string where the LOCALREF
	pcb flag would be discarded.

2007-08-01   DJ Delorie * dj AT delorie dot com *

	* src/action.c: Fix references to RouteStyleChanged (should be
	RouteStylesChanged).  Call it when :RouteStyle is called.

2007-08-01   DJ Delorie * dj AT delorie dot com *

	* src/file.c: When a board is loaded, the first route style is
	automatically selected if the old style doesn't happen to match any
	styles.

2007-08-01   DJ Delorie * dj AT delorie dot com *

	* src/misc.c: Add missing variable.

2007-08-01   DJ Delorie * dj AT delorie dot com *

	* src/misc.c: When the layer stack is reset, bring the component
	layer to the front and make it active.

2007-08-01   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c: When swapping board sides, swap top/bot
	layers even if both layers are visible.

2007-08-01   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c: Swap the direction of scroll bars when the
	board is swapped.

2007-08-01   DJ Delorie * dj AT delorie dot com *

	* src/hid/gerber/gerber.c, src/hid/ps/eps.c, src/hid/ps/ps.c: 
	Gerber, PS, and EPS ignore the thindraw settings.  Fix bug in PS
	when first item on the board is an arc.  PS "drill helper" changed
	to a simple hole reduction so that copper extends to drilled hole
	even when hole is off-center.

2007-08-01   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/menu.c: Don't free home_pcbmenu until after it's
	used.

2007-06-28   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-config.c: Don't forget to fclose() the config file
	after we're done reading it.  CID 27, scan #1.

2007-06-28   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/bom/bom.c: Fix a few memory leaks.  Coverity ID 22, 23,
	and 24, scan #1.

2007-06-13   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gtkhid-main.c: add missing save_syntax and save_help.
	Also allow Save(PasteBuffer) so we have more compatibility with the
	lesstif HID.  This also fixes the regression about saving buffer
	elements which appeared after the user menu branch was merged.

2007-06-13   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/lesstif/dialogs.c: add Save(PasteBuffer) to save_syntax.

2007-06-09   DJ Delorie * dj AT delorie dot com *

	* src/action.c, src/pcb-menu.res: Add Delete() action.  No
	arguments: delete selected ELSE object, but options for selected
	only, object only, selected rats, all rats.

2007-05-29   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: Revert patch to hide far-side (invisible) pads when
	near-side pins / pads are switched off. Old behaviour was
	intentional.

2007-05-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/ps/ps.c: Add option "drill-copper" to draw / not draw
	drill holes in the copper layers of the ps exporter. This is useful
	for plated through processes which require the etch mask to protect
	the vias / pins during etching.

2007-05-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: Change drawing code for square pads to use
	gui->fill_rect (...) as on Win32, the current method of drawing a
	zero length line doesn't work.

2007-05-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/draw.c: Stop far side 'invisible' pads being drawn when pins /
	pads are switched off.

2007-05-25   Peter Clifton * pcjc2 AT cam dot ac dot uk *

	* src/hid/gtk/gtkhid-main.c: Fix drawing of filled rectangles when
	the board is flipped.  Makes soldermask view  on the back of the
	board work.

2007-05-24   Dan McMahill * dan AT mcmahill dot net *

	* configure: regen

2007-05-24   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: check for buggy versions of m4 which seem to think
	eval(-2/2) should be 2147483647.  Noted by Peter Clifton.

2007-05-23   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-top-window.c: Avoid a stack corruption.  Noted by
	Peter Clifton.  Should probably replace all instances of sprintf in
	pcb with snprintf, but that will take some work.

2007-05-17   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-top-window.c, src/hid/lesstif/menu.c, src/main.c: 
	check for getenv() return codes everywhere and deal if getenv
	returns NULL.  Noted by Peter Clifton.

2007-05-16   Dan McMahill * dan AT mcmahill dot net *

	* src/file.c: if the popen fails for the ListLibraryContents.sh
	shell script, continue on with the newlib processing instead of
	failing.  This helps on systems where either the user has disabled
	m4 libraries or on systems like windows where the popen will not
	work.

2007-05-04   Dan McMahill * dan AT mcmahill dot net *

	* src/todo: remove a few fixed things

2007-05-04   Dan McMahill * dan AT mcmahill dot net *

	* lib/connector.inc: Increase the hole size on the DIN* connectors
	(are these named wrong btw?) from 28 mils to 40 mils.  This is more
	in line with what is recommended for Tyco *-1634689-* box headers in
	Tyco drawing 1634689.  Noted by Seb James.

2007-05-02   Dan McMahill * dan AT mcmahill dot net *

	* src/create.c: When refusing to create overlapping vias spit out a
	warning.  We should probably allow overlapping vias but turn it into
	a DRC violation.  But until then, at least give a warning instead of
	silently dropping them.  More details are in bug reports: [ 1687692
	] Large Pads (150 mils) silently dropped [ 1266154 ] lost vias

2007-05-02   Dan McMahill * dan AT mcmahill dot net *

	* src/file.c, src/file.h, src/misc.c: avoid triggering an emergency
	save on normal exit.  Reported and patch provided in bug [ 1705607 ]
	Emergency save on normal exit.

2007-05-01   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-pinout-window.c: - make arcs show up in the pinout window - don't rotate the element in the pinout window.  Rather display
	  with the same rotation as in the layout.  Besides being more useful
	  this avoid a segfault in some cases.

2007-05-01   Dan McMahill * dan AT mcmahill dot net *

	* src/gpcb-menu.res: remove the menu mneumonics as some conflict
	with hotkeys

2007-05-01   Dan McMahill * dan AT mcmahill dot net *

	* src/gpcb-menu.res, src/hid/gtk/gtkhid-main.c,
	src/hid/gtk/gui-output-events.c, src/hid/gtk/gui-top-window.c,
	src/hid/gtk/gui.h: Teach the GTK HID how to trap certain hotkeys
	which gtk usually captures for its own use.  This lets PCB use the
	arrow keys and the tab key again.  So restore the hotkey for
	flipping sides in the menu resource file.  Start on the Cursor()
	action which is needed for the arrow keys.  That part is not done
	yet.

2007-04-28   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/polygon.c: Don't double the pad thickness when restoring to
	the polygon.  For speedup, just add back a simple rectangle since it
	only has 4 points. Should do that for lines too, but didn't.

	----------------------------------------------------------------------

2007-04-27   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/polygon.c: fix bloating of region to search for re-clearance
	after a portion of polyogn is restored.

	----------------------------------------------------------------------

2007-04-22   DJ Delorie * dj AT delorie dot com *

	* src/hid/gerber/gerber.c: Draw non-circular arcs manually.

2007-04-21   DJ Delorie * dj AT delorie dot com *

	* src/action.c, src/buffer.c, src/copy.c, src/create.c,
	src/create.h, src/parse_y.y: Preserve width *and* height when
	manipulating arcs.

2007-04-21   DJ Delorie * dj AT delorie dot com *

	* src/buffer.c: Add FreeRotatebuffer(Angle) (angle can be any angle)

2007-04-21   DJ Delorie * dj AT delorie dot com *

	* src/crosshair.c, src/search.c: Allow for diagonal pads.

2007-04-21   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/dialogs.c: Use ".fp" when loading element data.

2007-04-21   DJ Delorie * dj AT delorie dot com *

	* src/buffer.c, src/create.c: Permit the existence of diagonal pads.

2007-04-21   DJ Delorie * dj AT delorie dot com *

	* src/hid/gerber/gerber.c: Use polygons to draw square ended
	diagonal lines.

2007-04-21   Dan McMahill * dan AT mcmahill dot net *

	* src/autoplace.c: add a check to make sure malloc() succeeds.
	Noted in bug [ 1657886 ] Check return codes everywhere

2007-04-21   Dan McMahill * dan AT mcmahill dot net *

	* src/gpcb-menu.res, src/pcb-menu.res: Change "Select all" to
	"Select all visible" to match up with what actually happens.
	Reported in bug [ 1013719 ] Select all objects: misleading name?

2007-04-20   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-output-events.c, src/hid/gtk/gui-top-window.c,
	src/hid/lesstif/main.c, src/hid/ps/ps.c, src/hid/ps/ps.h: fix a
	handful of compiler warnings

2007-04-20   Dan McMahill * dan AT mcmahill dot net *

	* doc/actions.texi: regen after usermenu merge

2007-04-20   Dan McMahill * dan AT mcmahill dot net *

	* config.h.in, configure, configure.ac, src/Makefile.am,
	src/Makefile.in, src/action.c, src/gpcb-menu.res,
	src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-config.c,
	src/hid/gtk/gui-output-events.c, src/hid/gtk/gui-top-window.c,
	src/hid/gtk/gui.h, src/misc.c, src/pcbtest.sh.in, src/set.c,
	src/todo: Merge the usermenu branch.   This reworks how the menus
	and hotkeys are defined and handled for the gtk HID.  In particular,
	instead of being hard coded, the menus are loaded from a menu
	resource file like in the lesstif gui.  All hotkeys are defined via
	the menu hotkeys and thus are visually presented in the menus.  The
	gtk HID looks for "gpcb-menu.res" instead of "pcb-menu.res" so that
	the menu organization may be different between the lesstif and gtk
	HID's.

2007-04-19   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c, src/change.c, src/hid/gtk/gui-output-events.c,
	src/hid/gtk/gui-pinout-window.c, src/hid/gtk/gui-top-window.c,
	src/misc.c, src/output.c, src/output.h, src/set.c, src/thermal.c: 
	Remove references to the now unused output.h.  To help keep it that
	way, go ahead and remove the unused output.c and output.h files.

2007-04-12   DJ Delorie * dj AT delorie dot com *

	* src/command.c: Allow :s without filename to use current filename.

2007-04-11   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac, src/Makefile.am, src/Makefile.in,
	src/hid/nelma/hid.conf, src/hid/nelma/nelma.c,
	src/hid/nelma/nelma.h: add the nelma export HID provided in patch: [
	1601099 ] Nelma export HID by Tomaz Solc with a few minor updates by
	me.

2007-04-11   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-output-events.c: Apply patch supplied in patch [
	1692014 ] Patch for "click on focus for zoom" bug from Tomaz Solc.

2007-04-10   Dan McMahill * dan AT mcmahill dot net *

	* doc/actions.texi, doc/pcbfile.texi, doc/version.texi,
	src/Makefile.in: regen

2007-04-08   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-config.c: Initialize command history size to 5 if
	no config setting is given.  Patch [ 1608559 ] Patch for command
	entry history bug.

2007-04-08   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-misc.c: add distance and angle to the relative
	readout.  Mostly provided in patch submission [ 1621913 ] Euclidian
	distance from mark.  Minor update (fix the fact that in PCB units,
	positive Y is down) from me.

2007-04-08   Dan McMahill * dan AT mcmahill dot net *

	* src/file.c, src/file.h, src/parse_y.y: turn on the code which
	marks the file format version in the file.  pcb has had the code in
	place for a bit now that parses that and gives a warning if the
	version of pcb is not new enough to read the current file version.

2007-04-07   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-misc.c, src/hid/gtk/gui-top-window.c: prevent the
	cursor position labels from growing/shrinking as you move the cursor
	around.

2007-04-06   Dan McMahill * dan AT mcmahill dot net *

	* src/flags.c: Change the stringflag in the settings from showdrc to
	showdrcmode since we already used showdrc for the flag.  This fixes
	the menu choice for "crosshairs show drc clearance".

2007-04-06   Dan McMahill * dan AT mcmahill dot net *

	* src/rats.c: avoid using an unitialized variable (even though we
	ignore the result of that access)

2007-04-06   Dan McMahill * dan AT mcmahill dot net *

	* src/move.c: document MoveLayer() action

2007-04-06   Dan McMahill * dan AT mcmahill dot net *

	* src/file.h: add missing prototypes

2007-04-06   Dan McMahill * dan AT mcmahill dot net *

	* src/file.c: add missing header, remove unused variable

2007-04-06   Dan McMahill * dan AT mcmahill dot net *

	* src/create.c, src/find.c: remove unused variable

2007-04-06   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c: format string fix

2007-03-10   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/rats.c: find rats regardless of how far the coordinates are
	out of bounds

	----------------------------------------------------------------------

2007-03-10   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/rats.c: Handle case for connections are close to or beyond
	MAX_COORD

	----------------------------------------------------------------------

2007-03-09   DJ Delorie * dj AT delorie dot com *

	* src/Makefile.am, src/Makefile.in, src/clip.c, src/clip.h,
	src/hid/gtk/gtkhid-main.c, src/hid/lesstif/main.c: Add basic line
	clipping to both GUIs.

2007-03-04   Dan McMahill * dan AT mcmahill dot net *

	* src/find.c: Fix a bug when looking for square pad to square pad
	clearance.  The old way simply grew one of the pads by Bloat on all
	4 sides and looked for overlap.  This is not the correct test in the
	case where the closest line between the two pads is a unique line
	from two of the corners.  The new way should correctly handle all
	cases.

2007-03-04   DJ Delorie * dj AT delorie dot com *

	* src/Makefile.am, src/Makefile.in, src/action.c, src/action.h,
	src/autoroute.c, src/change.c, src/const.h, src/crosshair.c,
	src/data.c, src/data.h, src/djopt.c, src/draw.c, src/file.c,
	src/find.c, src/flags.c, src/global.h, src/hid.h,
	src/hid/batch/batch.c, src/hid/common/hidinit.c,
	src/hid/common/hidnogui.c, src/hid/gerber/gerber.c,
	src/hid/gtk/gtkhid-main.c, src/hid/lesstif/main.c,
	src/hid/lesstif/menu.c, src/hid/lesstif/netlist.c,
	src/hid/png/png.c, src/hid/ps/eps.c, src/hid/ps/ps.c, src/macro.h,
	src/main.c, src/misc.c, src/misc.h, src/parse_y.y,
	src/pcb-menu.res, src/report.c, src/search.c, src/set.c,
	src/strflags.c, src/strflags.h, src/todo: Made flags type big enough
	to hold PCB flags.  Added hash table for parameter lookup in action.c Moved thindraw code out of lesstif hid.  Added "thin draw polygons" flag to toplevel stuff.  Fixed "check polygons" so it works again.  Added "lock names" setting: When set, the arrow tool ignores element
	names and text objects, so you can select the elements or objects
	beneath them.  Added "only names" setting: When set, the arrow tool can only select
	element names and text objects; you won't accidentally move an
	element.  Made the crosshair-move code draw the outline of pads, not the
	centerline.  It does still draw round-end pads as rectangles,
	though.  Allow "--no-foo" to shut off boolean "--foo" options that default to
	on.  Added "--layer-stack" option that takes a string and sets the layer
	stack to it (for eps/png export, mostly).  Layers are numbers
	0..N-1, the names of the layers from the loaded PCB file, or the
	special names "rats", "invisible", "pins", "vias", or "elements".
	Layers may be separated by spaces, commas, semicolons, or colons.  Added Display(Step,[1..9]) to move the cursor in steps.  Implemented
	in lesstif HID, attached to arrow keys.  Added "what to do with the
	pointer" parameter - warp pointer to match crosshair, or pan window
	to put crosshair under cursor.  Make autorouter show live trials.  Clean up various FIXMEs.  Add support for string encoded PCB flags.  thindraw exports: off by default?  Follow current setting?  Or put
	it in their own attribute list? Added Report(NetLength) which reports on the total length of
	segments (lines and arcs) for the net under the cursor.  It will
	also tell you the name of the net.  Remove obsolete UseLogWindow and RaiseLogWindow.

2007-03-02   Dan McMahill * dan AT mcmahill dot net *

	* win32/pcb.nsi.in: remove some left over links on uninstall

2007-02-27   DJ Delorie * dj AT delorie dot com *

	* src/file.c: Avoid segfaults when loading elements, fixes bug in
	load-element-as-pcb patch.

2007-02-27   DJ Delorie * dj AT delorie dot com *

	* src/hid/ps/ps.c: Add calibration values to the attribute list so
	they can be stored in the settings file, or given on the command
	line.

2007-02-24   DJ Delorie * dj AT delorie dot com *

	* src/file.c, src/parse_y.y: Allow the user to load a footprint as a
	pcb; create a suitably-sized pcb around it.

2007-02-23   DJ Delorie * dj AT delorie dot com *

	* src/report.c: Report on pads as rectangles, not lines, so we get
	width and height for the pad and mask.  Also, report the gap between
	the pad and the mask.

2007-02-23   DJ Delorie * dj AT delorie dot com *

	* src/hid/ps/ps.c: Silence some compiler warnings.

2007-02-23   DJ Delorie * dj AT delorie dot com *

	* src/hid/ps/ps.c: Don't print the scale if we're filling the page.
	Don't print (null) if there's no board name.

2007-02-15   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c: Attach status bar widgets to the correct
	siblings.

2007-02-15   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c: Don't use the crosshair's position to keep
	track of whether it's in the window or not; have a separate variable
	so we can avoid panning when we're just resetting the crosshair
	after a tool change.

2007-02-15   DJ Delorie * dj AT delorie dot com *

	* src/autoroute.c, src/hid/ps/ps.c, src/parse_l.l, src/polygon.c: 
	 Move declarations before statements (patch by Ben Jackson * ben AT
	 ben dot com *)

2007-02-13   DJ Delorie * dj AT delorie dot com *

	* src/action.c, src/change.c, src/draw.c, src/draw.h, src/move.c,
	src/print.c, src/remove.c, src/rotate.c, src/undo.c: Keep track of
	the minimum line size for text depending on which layer the text is
	on (copper, silk, pin numbers).

2007-02-12   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.am, src/Makefile.in, src/Pcb.ad.in, src/Pcb.ad.raw,
	src/Pcb.ad.small: Remove the appdefaults files.  These were leftover
	from Xaw days and weren't really doing anything other than providing
	a filename conflict on case insensitive file systems (pcb vs Pcb).

2007-02-12   DJ Delorie * dj AT delorie dot com *

	* src/hid/ps/ps.c: Compensate for rotated boards.  Allow the print
	step to be skipped.

2007-02-10   DJ Delorie * dj AT delorie dot com *

	* src/action.c, src/hid/lesstif/dialogs.c, src/hid/lpr/lpr.c,
	src/hid/ps/ps.c, src/pcb-menu.res: Add printer calibration code for
	lesstif HID.

2007-02-10   DJ Delorie * dj AT delorie dot com *

	* src/vendor.c: Cache vendor lookups.  Use binary search instead of
	linear.

2007-02-10   DJ Delorie * dj AT delorie dot com *

	* src/file.c, src/parse_l.l: Properly deal with quoted characters in
	both string reading and string writing.

2007-02-10   DJ Delorie * dj AT delorie dot com *

	* src/vendor.c: Call busy before applying the vendor map.

2007-02-10   DJ Delorie * dj AT delorie dot com *

	* src/action.c, src/djopt.c, src/hid.h, src/hid/batch/batch.c,
	src/hid/gtk/gtkhid-main.c, src/hid/lesstif/main.c: Change the way
	the busy cursor is done.  Called for autoplace, autoroute, and
	optimize.

2007-02-10   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c, src/pcb-menu.res: Add "C" for Center()
	action.  Provide examples for zooming-with-centering in
	pcb-menu.res.

2007-02-10   Dan McMahill * dan AT mcmahill dot net *

	* README.cvs_branches: note the usermenu branch

2007-02-09   DJ Delorie * dj AT delorie dot com *

	* src/create.c: Always initialize default layer names.

2007-02-09   Dan McMahill * dan AT mcmahill dot net *

	* src/create.c: use MAX_LAYER in a spot instead of max_layer.
	Prevents a segfault with the lesstif hid.

2007-02-09   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac: bump rev after 20070208 branch

2007-02-09   Dan McMahill * dan AT mcmahill dot net *

	* ChangeLog, NEWS: update for 20070208 snapshot

2007-02-08   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac, src/main.c: if we somehow fail to find
	the install path from lrealpath(argv[0]) or by searching through the
	PATH environment variable, fall back to the configure time path
	which is compiled into the binary.

2007-02-08   Dan McMahill * dan AT mcmahill dot net *

	* doc/actions.texi, doc/version.texi: regen

2007-02-08   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.am, lib/Makefile.in: Modify how the dependencies work
	a bit for the newlib library that is generated from the m4
	libraries.  In particular, make sure that a normal user building
	from a tarball doesn't have to build the libraries since they take
	quite a bit of time.  Also make sure things work with a read-only
	source tree.

2007-02-08   Dan McMahill * dan AT mcmahill dot net *

	* src/main.c: When pcb is called with no path, i.e. "pcb" instead of
	"../src/pcb" or /usr/local/bin/pcb, then we can't just look at
	argv[0] to figure out the installation path.  In this situation,
	search through PATH to find which pcb was called.  Should fix
	problems noted on geda-dev by Tomaz Solc.

2007-02-08   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/pcbtest.sh.in: fix pcbtest script to use the new binary name
	('pcb') even when not using gdb

	----------------------------------------------------------------------

2007-02-08   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/polygon1.c: Prevent degenrate holes with no points from being
	added to polygon.  This is a stop-gap measure until I figure out why
	coincident edges in opposite directions are being created in some
	polygons.

	----------------------------------------------------------------------

2007-02-08   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.in, README_FILES/Makefile.in, aclocal.m4, configure,
	doc/Makefile.in, example/Makefile.in,
	example/libraries/Makefile.in, lib/Makefile.in,
	newlib/2_pin_thru-hole_packages/Makefile.in, newlib/Makefile.in,
	newlib/analog-devices/Makefile.in, newlib/burr-brown/Makefile.in,
	newlib/connectors/Makefile.in, newlib/crystal/Makefile.in,
	newlib/electro-optics/Makefile.in, newlib/headers/Makefile.in,
	newlib/msp430/Makefile.in, newlib/not_vetted_ingo/Makefile.in,
	newlib/sockets/Makefile.in, newlib/tests/Makefile.in,
	src/Makefile.in, src/icons/Makefile.in, tools/Makefile.in,
	tutorial/Makefile.in, win32/Makefile.in: regen

2007-02-08   Dan McMahill * dan AT mcmahill dot net *

	* : remove these generated files

2007-02-08   Dan McMahill * dan AT mcmahill dot net *

	* README.snapshots: update for 20070208 snapshot

2007-02-08   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: add a GIF AM_CONDITIONAL to go along with the PNG
	one

2007-02-06   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.am, doc/Makefile.in: s/pcb-bin/pcb

2007-02-06   Dan McMahill * dan AT mcmahill dot net *

	* win32/build_pcb: fix botched commit

2007-02-06   Dan McMahill * dan AT mcmahill dot net *

	* win32/build_pcb: add a --enable-maintainer-mode flag

2007-02-06   Dan McMahill * dan AT mcmahill dot net *

	* win32/pcb.nsi.in: Include in the installer the licenses for the
	included libraries (gd, png, jpeg, freetype, zlib).

2007-02-06   Dan McMahill * dan AT mcmahill dot net *

	* win32/build_pcb, win32/pcb.nsi.in: Add in the png HID to the
	non-cygwin windows build.

2007-02-06   Dan McMahill * dan AT mcmahill dot net *

	* lib/m4lib_to_newlib.sh.in: When generating the previews of the
	footprints, run pcb on an input and output file in the current
	directory instead of a different directory.  This becomes important
	on filesystems that use \ instead of / for the directory separator.

2007-02-06   Dan McMahill * dan AT mcmahill dot net *

	* config.h.in, configure, configure.ac: On non-cygwin windows, look
	for -lbgd instead of -lgd since the former is what is available as a
	pre-build dll.

2007-02-06   Dan McMahill * dan AT mcmahill dot net *

	* src/file.c: remove some illegal casts to unions.

2007-02-06   Dan McMahill * dan AT mcmahill dot net *

	* lib/m4lib_to_newlib.sh.in: the executible is now pcb not pcb-bin

2007-02-05   Dan McMahill * dan AT mcmahill dot net *

	* src/parse_l.l: If the passed path to Parse is "" then don't use
	it.

2007-02-05   Dan McMahill * dan AT mcmahill dot net *

	* src/parse_l.l: make sure r is always initialized

2007-02-04   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.in, README_FILES/Makefile.in, acinclude.m4, aclocal.m4,
	config.h.in, configure, configure.ac, doc/Makefile.in,
	example/Makefile.in, example/libraries/Makefile.in,
	lib/Makefile.in, newlib/2_pin_thru-hole_packages/Makefile.in,
	newlib/Makefile.in, newlib/analog-devices/Makefile.in,
	newlib/burr-brown/Makefile.in, newlib/connectors/Makefile.in,
	newlib/crystal/Makefile.in, newlib/electro-optics/Makefile.in,
	newlib/headers/Makefile.in, newlib/msp430/Makefile.in,
	newlib/not_vetted_ingo/Makefile.in, newlib/sockets/Makefile.in,
	newlib/tests/Makefile.in, src/Makefile.in, src/file.c,
	src/icons/Makefile.in, src/main.c, src/parse_l.l,
	tools/Makefile.in, tutorial/Makefile.in, win32/Makefile.in: More
	work on the relocatability stuff to handle the annoying "\" instead
	of "/" for directory separators in windows.  Use ";" instead of ":"
	for path seperators under windows since it is common to have
	"c:\some\path".  With this change things seem to work under
	non-cygwin windows.

2007-02-04   Dan McMahill * dan AT mcmahill dot net *

	* win32/pcb.nsi.in: install pcb.exe instead of pcb-bin.exe

2007-02-04   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac, lib/Makefile.am, lib/Makefile.in,
	newlib/Makefile.am, newlib/Makefile.in, newlib/cypress/Makefile.am,
	newlib/cypress/Makefile.in,
	newlib/generic_SMD_packages/0805_reflow_solder,
	newlib/generic_SMD_packages/0805_wave_solder,
	newlib/generic_SMD_packages/1206_reflow_solder,
	newlib/generic_SMD_packages/Makefile.am,
	newlib/generic_SMD_packages/Makefile.in,
	newlib/generic_SMD_packages/SOT-23_Transistor,
	newlib/toko/Makefile.am, newlib/toko/Makefile.in: Remove some empty
	newlib directories, some poorly maintained footprints, and some
	"heavy" footprints.  There is still much more to be done but this is
	a start.

2007-02-04   Dan McMahill * dan AT mcmahill dot net *

	* config.h.in, configure, configure.ac, doc/actions.texi,
	doc/pcb.texi, doc/version.texi, src/Makefile.am, src/Makefile.in,
	src/file.c, src/global.h, src/hid/common/hidinit.c,
	src/hid/gtk/gui-config.c, src/main.c, src/pcbtest.sh.in,
	src/script/Makefile.am, src/script/Makefile.in, src/script/pcb.in: 
	Take a stab at making pcb installations be relocatable.  By this I
	mean you can configure and install with ./configure --prefix=/original/path make make install mv
	/original/path /new/path and still have pcb work.  To make this work, the binary path is determined at runtime and all
	of the other paths are computed relative to this.  As part of this, go ahead and kill off the pcb wrapper script around
	pcb-bin.  That was leftover from Xaw days and wasn't really needed
	anymore.  As a side effect, the --program-prefix and
	--program-suffix configure options will probably work now.

2007-02-03   Dan McMahill * dan AT mcmahill dot net *

	* acinclude.m4, config.h.in, configure, configure.ac: add autoconf
	macros from
	http://autoconf-archive.cryp.to/adl_compute_relative_paths.html and
	http://autoconf-archive.cryp.to/adl_normalize_path.html and use them
	to find relative paths from $bindir (where the pcb binary gets
	installed) to the directories with the default font and the
	footprints.  This is the first step in making an installation be
	relocatable.

2007-02-03   Dan McMahill * dan AT mcmahill dot net *

	* src/file.c, src/file.h, src/hid/gtk/gui-config.c, src/main.c: - Instead of tying the saving of preferences to the autobackup
	timer, save them when we press ok on the preferences form.  - Move the autosave code out of the gtk hid and put it in the core.
	  Now autosave should work on all gui's instead of just the gtk one.

2007-02-03   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-netlist-window.c: Add a "find" and "rip-up" button
	to the netlist window.  Patch from Hans Nieuwenhuis on the geda-user
	mailing list.

2007-02-03   Dan McMahill * dan AT mcmahill dot net *

	* globalconst.h, src/file.c: Instead of writing the backup file
	always to /tmp/something derive a backup name from the pcb file name
	(if the pcb file name exists, otherwise use PCB.%i.save in the
	current directory).  This should make it easier to find the backup
	file for a particular layout and also helps in cases where /tmp is
	not appropriate (windows).

2007-02-02   DJ Delorie * dj AT delorie dot com *

	* src/main.c: Add command line option for setting DrawGrid

2007-02-02   DJ Delorie * dj AT delorie dot com *

	* src/report.c: Round drill sizes before reporting them.

2007-02-02   DJ Delorie * dj AT delorie dot com *

	* src/netlist.c, src/rats.c, src/rats.h: Fix logic for adding new
	rat lines to the netlist.

2007-02-02   DJ Delorie * dj AT delorie dot com *

	* src/hid/gtk/gtkhid-main.c: Fix gtk grid when board flipped.

2007-02-02   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.in, README_FILES/Makefile.in, configure,
	doc/Makefile.in, example/Makefile.in,
	example/libraries/Makefile.in,
	newlib/2_pin_thru-hole_packages/Makefile.in, newlib/Makefile.in,
	newlib/analog-devices/Makefile.in, newlib/burr-brown/Makefile.in,
	newlib/connectors/Makefile.in, newlib/crystal/Makefile.in,
	newlib/cypress/Makefile.in, newlib/electro-optics/Makefile.in,
	newlib/generic_SMD_packages/Makefile.in,
	newlib/headers/Makefile.in, newlib/msp430/Makefile.in,
	newlib/not_vetted_ingo/Makefile.in, newlib/sockets/Makefile.in,
	newlib/tests/Makefile.in, newlib/toko/Makefile.in, src/Makefile.in,
	src/icons/Makefile.in, src/script/Makefile.in, tools/Makefile.in,
	tutorial/Makefile.in, win32/Makefile.in: regen

2007-02-01   DJ Delorie * dj AT delorie dot com *

	* src/draw.c: Draw plated holes when exporting.

2007-01-29   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c, src/hid/lesstif/netlist.c: Add more
	functionality to netlist dialog.

2007-01-27   DJ Delorie * dj AT delorie dot com *

	* src/action.c: Make sure we have a current mark when we convert
	selection to an element.

2007-01-22   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.am, lib/Makefile.in: Fix a problem where we ended up
	with "//" in a full path name.  This caused problems on cygwin.

2007-01-20   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gtkhid-main.c: add some code showing how to get the
	installation path on windows.  Right now, just print out the
	directory to show it works until I figure out how to get it to the
	rest of the program.

2007-01-20   Dan McMahill * dan AT mcmahill dot net *

	* win32/build_pcb: clean out the old install directory prior to
	installing to avoid leftover cruft showing up in the installer.

2007-01-20   Dan McMahill * dan AT mcmahill dot net *

	* win32/build_pcb: add a number of flags to this script to help when
	using it with cvs sources or in debug mode.  See "build_pcb --help"
	for details on the flags.

2007-01-20   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac, src/main.c: Break apart PCBTREEDIR into
	the original plus PCBTREEPATH where the latter is a : seperated path
	and the former is just the base installation directory for newlib.

2007-01-19   Dan McMahill * dan AT mcmahill dot net *

	* src/compat.c, src/compat.h, src/hid/common/hidinit.c: Add
	replacement wrappers for dlopen() and friends on windows.  Update
	the hid initialization code to pull in the compat header.  Also work
	around windows limitations with stat().  No change on real operating
	systems.

2007-01-19   Dan McMahill * dan AT mcmahill dot net *

	* config.h.in, configure, configure.ac: - check for dlfcn.h and windows.h - fix the test for if the PNG hid is being compiled in or not

2007-01-17   Dan McMahill * dan AT mcmahill dot net *

	* src/file.c: exclude .html and .png files from newlib directories

2007-01-17   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac, src/pcbtest.sh.in: add the generated
	(from m4lib) newlib to the library search path

2007-01-16   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.am, lib/Makefile.in, lib/footprint.pcb: - Add missing template .pcb file for generating previews of all the
	  footprints.  Building the previews also verifies that there are no
	  syntax errors in the m4lib footprints.  - fix the logic for rebuilding the newlib library from m4 libs.

2007-01-16   DJ Delorie * dj AT delorie dot com *

	* src/hid/gerber/gerber.c: Use a global aperture list instead of
	per-layer lists.

2007-01-16   DJ Delorie * dj AT delorie dot com *

	* src/file.c, src/macro.h, src/main.c, src/parse_l.l: Don't call
	popen() if we don't need to.

2007-01-15   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.am, lib/Makefile.in: Build and install a newlib
	library from the m4lib library.  Currently nothing else has changed,
	the default for pcb is still the old behaviour.  This is just the
	first step.

2007-01-15   Dan McMahill * dan AT mcmahill dot net *

	* lib/m4lib_to_newlib.sh.in: Make building the png preview optional.
	Other minor cleanups.

2007-01-15   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac: add an AM_CONDITIONAL indicating if the
	png HID was compiled in

2007-01-15   DJ Delorie * dj AT delorie dot com *

	* doc/actions.texi, doc/pcbfile.texi, doc/version.texi: Update from
	../src

2007-01-15   DJ Delorie * dj AT delorie dot com *

	* src/djopt.c: Keep canonicalizing lines until they're all
	canonicalized.  Don't delete vias that aren't tented (assume they're
	test points).  Add an option to just canonicalize lines.

2007-01-14   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/autoroute.c, src/mtspace.c, src/mtspace.h: More thurough via
	site searching, cost function changes and some better handling of
	certain search conditions.  Much improved smoothing pass
	implementation. Doesn't gratuitously pack traces at minimum
	clearance during smoothing pass. Overall much better routing is
	acheived.

	----------------------------------------------------------------------

2007-01-11   DJ Delorie * dj AT delorie dot com *

	* src/hid/ps/ps.c:  From: Hans Nieuwenhuis * vzzbx AT xs4all dot nl
	* Check for failed opens.

2007-01-09   DJ Delorie * dj AT delorie dot com *

	* src/draw.c, src/hid/gerber/gerber.c: Don't draw plated holes on
	outline gerber.

2007-01-09   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/move.c: fix segfault when moving polygon to layer. Also user
	r_search to find the pin/via thermals.

	----------------------------------------------------------------------

2006-12-23   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/dialogs.c: Cast away const-ness.

2006-12-22   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/crosshair.c: don't indicate line end-point if the line is
	selected since move will move the whole selection.

	----------------------------------------------------------------------

2006-12-22   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/crosshair.c, src/hid/gtk/gtkhid-main.c,
	src/hid/gtk/gui-misc.c, src/hid/gtk/gui.h, src/hid/lesstif/main.c,
	src/search.h, src/todo: provide a cursor shape change when the arrow
	mode crosshair is over a line end-point.

	----------------------------------------------------------------------

2006-12-22   DJ Delorie * dj AT delorie dot com *

	* src/todo: Take "enums" off the lesstif list.

2006-12-22   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/dialogs.c: Add support for HID_Enum in attribute
	dialogs.

2006-12-22   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c: Increase default size of main window.

2006-12-21   Dan McMahill * dan AT mcmahill dot net *

	* win32/build_pcb: if the configure or build fails, then abort the
	whole process.

2006-12-21   Dan McMahill * dan AT mcmahill dot net *

	* win32/pcb.nsi.in: the link should be to pcb-bin.exe not pcb

2006-12-21   DJ Delorie * dj AT delorie dot com *

	* src/todo: Remove completed projects, add some new ones.

2006-12-18   DJ Delorie * dj AT delorie dot com *

	* src/hid/common/hidnogui.c, src/hid/gtk/gtkhid-main.c,
	src/hid/lesstif/main.c: ... and return 0 for progress hooks.

2006-12-18   DJ Delorie * dj AT delorie dot com *

	* src/hid/common/hidnogui.c, src/hid/gtk/gtkhid-main.c,
	src/hid/lesstif/main.c: Fix progress prototypes.

2006-12-17   DJ Delorie * dj AT delorie dot com *

	* src/hid.h, src/hid/batch/batch.c, src/hid/bom/bom.c,
	src/hid/common/hidnogui.c, src/hid/gtk/gtkhid-main.c,
	src/hid/lesstif/main.c, src/hid/lpr/lpr.c, src/hid/png/png.c,
	src/hid/ps/ps.c: Add progress() hook to HID structure.  No actual
	implementation yet.

2006-12-17   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c: Add automatic busy cursor.  Add (disabled)
	debug code for arc thindraw.

2006-12-17   DJ Delorie * dj AT delorie dot com *

	* lib/geda.inc: Add SDIP20.  Fix comment.

2006-12-15   DJ Delorie * dj AT delorie dot com *

	* src/parse_y.y: Allow attributes in old-style elements too.

2006-12-14   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-output-events.c, src/hid/gtk/gui.h: Fix a bug in
	GTK hid that causes the view port to scroll in a random direction on
	a mouse click inside the view port (for example when drawing a
	line).  This bug only shows itself when an X application that steals window
	focus is running together with PCB on the same X server. At least
	GNOME and XFCE window managers are known to do that.  See the following and related GNOME bugs for some discussion about
	this: http://bugzilla.gnome.org/show_bug.cgi?id=102209 See also GTK documentation for GtkWidget and GdkEvent.  Analysis and patch provided in patch [ 1610717 ] Patch for auto-pan
	bug by Tomaz Solc.  This should also address bug report [ 1593578 ] Display sometimes
	auto-scrolls when drawing lines by Garth Webb.

2006-12-14   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.in: regen

2006-12-14   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/polygon1.c: avoid duplicate removal of duplicate points

	----------------------------------------------------------------------

2006-12-14   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/hid/gtk/gui-config.c: beginnings of support for isleArea as a
	dialog changeable item

	----------------------------------------------------------------------

2006-12-14   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/draw.c: fix arc drawing on the flipped board

	----------------------------------------------------------------------

2006-12-14   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.am, src/Makefile.in: add missing lrealpath.h

2006-12-14   Dan McMahill * dan AT mcmahill dot net *

	* src/dbus.c: change a libiberty.h include to lrealpath.h since
	thats what we have now

2006-12-13   Dan McMahill * dan AT mcmahill dot net *

	* src/buffer.c, src/mymem.c, src/undo.c: Avoid some null pointer
	dereferences.  Also make sure UndoList and RemoveList are
	initialized at startup to avoid any strange behavior there.  This
	fixes a bug reported on geda-user where starting pcb with an empty
	board and then doing 'load layout to buffer' and pasting and then
	doing it again causes a segfault.  Thanks to Peter Clifton for
	pointing this out.

2006-12-13   Dan McMahill * dan AT mcmahill dot net *

	* src/dbus-pcbmain.c, src/dbus-pcbmain.h, src/dbus.c, src/dbus.h: 
	indent new code -- no other changes

2006-12-13   Dan McMahill * dan AT mcmahill dot net *

	* config.h.in, configure, src/Makefile.in: regen

2006-12-13   Dan McMahill * dan AT mcmahill dot net *

	* acinclude.m4: fix underquoting of libiberty_NEED_DECLARATION

2006-12-13   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.am: when building dbus, compile in lrealpath.c

2006-12-13   Dan McMahill * dan AT mcmahill dot net *

	* acinclude.m4, configure.ac: add configure checks needed for
	lrealpath.c

2006-12-13   Dan McMahill * dan AT mcmahill dot net *

	* src/lrealpath.c: remove ansidecls.h

2006-12-13   Dan McMahill * dan AT mcmahill dot net *

	* src/lrealpath.c, src/lrealpath.h: add a header with the lrealpath
	prototype and point to that instead of libiberty.h

2006-12-13   Dan McMahill * dan AT mcmahill dot net *

	* src/lrealpath.c: Add lrealpath.c from gcc's libiberty.   For now
	lets just add this one libiberty function.  This is the unmodified
	version from gcc current as of 2006-12-12.  Last modified on
	2005-05-24.

2006-12-10   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/misc.c: scan all layers for match because buffers don't always
	have LayerN set properly

	----------------------------------------------------------------------

2006-12-09   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/autoroute.c: break loops when exploring new paths, plus some
	other enhancements.

	----------------------------------------------------------------------

2006-12-07   Dan McMahill * dan AT mcmahill dot net *

	* src/dbus.c: put back the unused variable but protect it with
	#ifdef DEBUG. From Peter Clifton

2006-12-07   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gtkhid-main.c: fix broken dereference from last commit

2006-12-07   Dan McMahill * dan AT mcmahill dot net *

	* src/dbus.c: remove an unused variable

2006-12-07   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gtkhid-main.c, src/hid/lesstif/main.c: Don't try to
	cast to a union.  This practice does not work with all compilers.
	Fixes compilation with sun compilers.

2006-12-07   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/ps/ps.c: add --scale for postscript scaling.  Patch from
	Hans Nieuwenhuis on geda-user.

2006-12-07   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.in, README_FILES/Makefile.in, config.h.in, configure,
	configure.ac, doc/Makefile.in, doc/pcbfile.texi,
	example/Makefile.in, example/libraries/Makefile.in,
	lib/Makefile.in, newlib/2_pin_thru-hole_packages/Makefile.in,
	newlib/Makefile.in, newlib/analog-devices/Makefile.in,
	newlib/burr-brown/Makefile.in, newlib/connectors/Makefile.in,
	newlib/crystal/Makefile.in, newlib/cypress/Makefile.in,
	newlib/electro-optics/Makefile.in,
	newlib/generic_SMD_packages/Makefile.in,
	newlib/headers/Makefile.in, newlib/msp430/Makefile.in,
	newlib/not_vetted_ingo/Makefile.in, newlib/sockets/Makefile.in,
	newlib/tests/Makefile.in, newlib/toko/Makefile.in, src/Makefile.am,
	src/Makefile.in, src/dbus-pcbmain.c, src/dbus-pcbmain.h,
	src/dbus.c, src/dbus.h, src/dbus.xml, src/hid.h,
	src/hid/common/extents.c, src/hid/common/hidnogui.c,
	src/hid/gtk/gtkhid-main.c, src/hid/lesstif/main.c,
	src/icons/Makefile.in, src/main.c, src/script/Makefile.in,
	tools/Makefile.in, tutorial/Makefile.in, win32/Makefile.in: Initial
	checkin of Peter Cliftons DBus work.  Currently dbus is disabled by
	default but can be enabled with --enable-dbus

2006-12-06   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-top-window.c: Intercept window manager delete
	events.  This prevents data loss when the window manager closes or
	deletes a window.   Reported as [ 1458340 ] data loss with closing
	main PCB windows and also on geda-dev by Peter Clifton.

2006-12-06   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-library-window.c, src/hid/gtk/gui-log-window.c,
	src/hid/gtk/gui-netlist-window.c, src/hid/gtk/gui-pinout-window.c: 
	Stop preventing the library, log, netlist, and pinout windows from
	accepting focus.  Preventing them from accepting focus had the side
	effect of breaking those dialogs on some systems with certain window
	managers.

2006-12-05   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/autoroute.c: allow searching across expansion boxes in each
	direction which can find lower cost routes.

	----------------------------------------------------------------------

2006-12-05   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/autoroute.c: Various changes to improve the ability to find
	routes and make better looking, more efficient routes.

2006-12-03   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/misc.c, src/polygon.c: use Data->LayerN instead of max_layer
	where Data may not be PCB->Data

	----------------------------------------------------------------------

2006-12-02   DJ Delorie * dj AT delorie dot com *

	* src/move.c: Handle edge conditions when adding/removing layers wrt
	thermals.

2006-12-02   DJ Delorie * dj AT delorie dot com *

	* src/move.c: Move thermals when we move layers.

2006-12-02   DJ Delorie * dj AT delorie dot com *

	* src/hid/ps/ps.c: Move layer ID text outside of the "board" area.
	Print board name, layer name, and mirror flag in lower left near
	margin.  When both mirror and auto-mirror are checked, xor them.

2006-12-01   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/lpr/lpr.c, src/hid/ps/ps.c, src/hid/ps/ps.h: make sure the
	postscript header line makes it in the lpr HID.  Should fix problems
	where the postscript text was being printed instead of executed.

2006-11-16   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/polygon.c, src/polygon.h, src/thermal.c: make clearances
	around rectangular pins and pads have rounded rectangle features

	----------------------------------------------------------------------

2006-11-15   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/draw.c: remove dead code accidentally left behind

	----------------------------------------------------------------------

2006-11-14   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/draw.c, src/polygon.c, src/polygon.h: always draw with dicing
	so that polygons can reside in holes of other polygons

	----------------------------------------------------------------------

2006-11-14   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui.h: Make the invalidate
	rectangle only include the drawn region.  This vastly speeds up
	drawing when zoomed in on a complex deisgn.

	----------------------------------------------------------------------

2006-11-13   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/buffer.c: Warn if non-manhattan lines are trying to become
	pads.

2006-11-13   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/polygon.c: preven silk clipping copper polygons and copper
	clipping silk polygons

2006-11-11   Dan McMahill * dan AT mcmahill dot net *

	* src/parse_y.y: minor fix to the FileVersion documentation

2006-11-10   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/ps/ps.c: add us and international business card media

2006-11-10   Dan McMahill * dan AT mcmahill dot net *

	* src/file.c, src/file.h, src/parse_l.l, src/parse_y.y: Add code to
	the parser which looks for a line like FileVersion[20061101] at the top of the .pcb file.  If this line is seen and indicates a
	version which is too new for this version of pcb then issue a
	complaint and explain why.  This should help out when the file
	format changes and someone tries to load a new design with an older
	version of pcb.  Of course the real benefit won't happen until
	versions of pcb prior to this check all go away...  For now, the actual output file from pcb hasn't changed.  There is a
	two line change to include the FileVersion[] line that can be
	included the next time the file format is changed.  However, there
	is no reason to not have the program start watching for it.

2006-11-10   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/buffer.c, src/undo.c: fix some segfaults due to clearing pcb
	pointer in data structure.

2006-11-09   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/ps/ps.c: Add several more media types and for the existing
	metric ones, recompute the bounding box size since pcb has more
	internal resolution that the old values.

2006-11-08   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/remove.c: prevent segfault when removing polyogn points
	resulting in fewer than 3 points in the poly

	----------------------------------------------------------------------

2006-11-06   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/polygon.c, src/polygon1.c: fix some bugs for unusual clipping
	conditions. Specifically holes touching at one point (or edge) as an
	acceptable self-intersection and snap-rounding expanding the
	bounding box by 1.

	----------------------------------------------------------------------

2006-11-05   Dan McMahill * dan AT mcmahill dot net *

	* doc/actions.texi, doc/pcbfile.texi: regen

2006-11-05   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c, src/change.c, src/change.h, src/const.h,
	src/draw.c, src/find.c, src/strflags.c: Add a 'nopaste' flag for
	pads.  This lets you produce fiducial marks that should not have
	solder paste.  In addition you can use it for things like card edge
	connectors where you may not want solder paste.  Since this is
	moderately dangerous (how do you make sure you don't set this flag
	somewhere where you _need_ solder paste), the drc check reports a
	count of how many times this flag is used.

2006-11-04   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/intersect.c: fix crash due to not checking for no overlaps.
	Thanks to Anread Kemnade for the patch.

	----------------------------------------------------------------------

2006-11-03   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c: use *FILEVERSION* instead of *VERSION* for the
	annotation file to help avoid possible confusion between file
	version and program version.

2006-10-29   DJ Delorie * dj AT delorie dot com *

	* src/report.c: Report units in mm or mils as selected by user.

2006-10-29   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/parse_y.y: fix polyarea ordering to correspond to file saving

	----------------------------------------------------------------------

2006-10-25   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c: fix setsame layer changing

	----------------------------------------------------------------------

2006-10-21   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/find.c: allow pins/vias with zero clearance to touch polygons

	----------------------------------------------------------------------

2006-10-21   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/polygon1.c: speed improvement by avoiding r_search call
	overhead when there is no overlap

	----------------------------------------------------------------------

2006-10-21   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/file.c, src/global.h, src/main.c, src/parse_l.l: support for
	polygon island size in the pcb file

	----------------------------------------------------------------------

2006-10-21   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/parse_y.y, src/polygon.c: Avoid use of 'max_layer' macro - it
	assumes the Data is the loaded PCB which doesn't work during file
	reading.

	----------------------------------------------------------------------

2006-10-21   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/polygon.c, src/thermal.c, src/thermal.h: use the saved thermal
	scale when loading a design

	----------------------------------------------------------------------

2006-10-20   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/common/hidinit.c, src/hid/gerber/gerber.c: Cast the char's
	which are being fed to isspace() and friends to ints which is what
	they want.

2006-10-20   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/rtree.c: check the coming regions, not the one we're at over
	and over

	----------------------------------------------------------------------

2006-10-20   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-misc.c, src/hid/gtk/gui-output-events.c: add a
	couple of casts and kill the rest of the remaining gcc and SunPRO
	warnings!

2006-10-19   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/lesstif/dialogs.c, src/hid/lesstif/menu.c,
	src/hid/lesstif/styles.c: cast to a size_t before converting
	callback data between ints and pointers

2006-10-19   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-icons-misc.data, src/hid/gtk/gui-top-window.c: 
	remove some SunPRO compiler complaints about initilizers being out
	of range

2006-10-19   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/common/hidinit.c: catch HID_Mixed in a switch

2006-10-19   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/bom/bom.c, src/hid/gerber/gerber.c, src/print.c: avoid gcc
	warnings when using %c with strftime

2006-10-19   Dan McMahill * dan AT mcmahill dot net *

	* src/polygon1.c: #ifdef DEBUG out a couple of things which are
	defined but not used unless DEBUG is defined

2006-10-19   Dan McMahill * dan AT mcmahill dot net *

	* src/draw.c: cast to a size_t before an int when passing an int to
	a callback function.

2006-10-19   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/rtree.c: even faster tree searching and insertion

	----------------------------------------------------------------------

2006-10-19   Dan McMahill * dan AT mcmahill dot net *

	* src/polygon1.c: modify the DEBUGP macro slightly so it can be
	legally called with only one argument like DEBUGP("\n");

2006-10-19   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/polygon1.c: oops, don't manage the contour bounding boxes in
	the tree

	----------------------------------------------------------------------

2006-10-18   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc: {T,}QFN16_3{,_EP} needs to use PKG_QFN_50S not
	PKG_QFN_50.  Noted by Matthias Wenzel.

2006-10-18   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/polygon1.c: speed up hole insertion further. Trees everywhere!

	----------------------------------------------------------------------

2006-10-18   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac: Only apply the -rdynamic check if we're
	using gcc.  This probably isn't the correct long term fix but for
	now it lets users with SunPRO build again.  The problem is -rdynamic
	with SunPRO's cc doesn't have the same behaviour as with gcc but it
	returns 0 so configure thinks it is ok to add -rdynamic.

2006-10-17   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/ps/ps.c: Use the media option to set the page size and
	margins.  Selecting different paper size should work now.

2006-10-17   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/create.c, src/polyarea.h, src/polygon.c, src/polygon1.c,
	src/rtree.c: bug fixes for hole insertion and fast point inside
	polygon checking

	----------------------------------------------------------------------

2006-10-17   Dan McMahill * dan AT mcmahill dot net *

	* config.h.in, configure, configure.ac: check for dlopen in -ldl.
	Needed on solaris 9

2006-10-17   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac: be verbose about the rdynamic test

2006-10-16   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc: add some 16 pin 3x3 mm QFN packages

2006-10-15   DJ Delorie * dj AT delorie dot com *

	* src/buffer.c: If we're converting a buffer to an element and the
	buffer has no associated PCB; assign the current one so we have *a*
	group table to use.

2006-10-15   DJ Delorie * dj AT delorie dot com *

	* src/hid/gtk/gui-top-window.c, src/hid/lesstif/menu.c: Keep
	ElemenOn and *SILK->On in sync.

2006-10-14   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/change.c: handle polygon clearance for unplated holes

	----------------------------------------------------------------------

2006-10-14   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/find.c: fix rat<->polygon connection test

	----------------------------------------------------------------------

2006-10-14   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/change.c, src/polygon.c: fix undo handling for all change
	operations that affect polygon clip

	----------------------------------------------------------------------

2006-10-13   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/find.c: fix rat to polygon connection test

	----------------------------------------------------------------------

2006-10-13   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/change.c: fix the sense of set/clear for line join

	----------------------------------------------------------------------

2006-10-12   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/macro.h: Fix GROUP_LOOP macro

2006-10-12   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/create.c, src/global.h, src/heap.h, src/polygon.c,
	src/polygon1.c: fix GROUP_LOOP macro, optimize hole insertion and
	fix some small bugs

	----------------------------------------------------------------------

2006-10-12   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c: Morph selections

	----------------------------------------------------------------------

2006-10-11   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/lesstif/dialogs.c, src/hid/lesstif/menu.c: fix a few
	pointer bugs.

2006-10-10   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/lesstif/dialogs.c: remove some unused variables

2006-10-10   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/lesstif/menu.c: - include resource.h before lesstif.h to make sure we get a
	  prototype for lesstif_note_mouse_resource().  - remove some unused variables.

2006-10-10   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/lesstif/main.c: remove some unused variables and add a
	missing return value

2006-10-10   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/lesstif/lesstif.h: - Be consistent with underscores in __RESOURCE_INCLUDED__.  Now this
	  file matches what resource.h has! - Add a couple of missing prototypes.

2006-10-10   Dan McMahill * dan AT mcmahill dot net *

	* src/resource.h: be consistent with underscores in
	__RESOURCE_INCLUDED__

2006-10-10   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/draw.c, src/polyarea.h, src/polygon.c, src/polygon.h,
	src/polygon1.c: fix polygon search bug introduced with
	optimizations.  fix a layer group bug in polygon clearing.  speed up
	gerber generation a little

	----------------------------------------------------------------------

2006-10-09   Dan McMahill * dan AT mcmahill dot net *

	* doc/version.texi: regen

2006-10-09   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac: bump rev to 1.99u in light of the clipper
	code going in

2006-10-09   Dan McMahill * dan AT mcmahill dot net *

	* doc/actions.texi, doc/ideas/database.txt, doc/pcbfile.texi,
	src/Makefile.am, src/Makefile.in, src/action.c, src/autoplace.c,
	src/autoroute.c, src/buffer.c, src/buffer.h, src/change.c,
	src/change.h, src/command.c, src/compat.c, src/const.h, src/copy.c,
	src/copy.h, src/create.c, src/crosshair.c, src/dev_ps.c,
	src/dev_ps.h, src/dev_rs274x.c, src/dev_rs274x.h, src/djopt.c,
	src/draw.c, src/drill.c, src/file.c, src/find.c, src/fontmode.c,
	src/global.h, src/hid.h, src/hid/batch/batch.c, src/hid/bom/bom.c,
	src/hid/common/extents.c, src/hid/common/hidnogui.c,
	src/hid/gerber/gerber.c, src/hid/gtk/gtkhid-main.c,
	src/hid/gtk/gui-pinout-window.c, src/hid/lesstif/main.c,
	src/hid/lpr/lpr.c, src/hid/png/png.c, src/hid/ps/eps.c,
	src/hid/ps/ps.c, src/insert.c, src/line.c, src/macro.h, src/main.c,
	src/mirror.c, src/misc.c, src/misc.h, src/move.c, src/mtspace.c,
	src/mymem.c, src/netlist.c, src/parse_y.y, src/polyarea.h,
	src/polygon.c, src/polygon.h, src/polygon1.c, src/print.c,
	src/puller.c, src/rats.c, src/remove.c, src/report.c, src/rotate.c,
	src/rtree.c, src/rubberband.c, src/search.c, src/search.h,
	src/select.c, src/strflags.c, src/thermal.c, src/thermal.h,
	src/undo.c, src/undo.h, src/vendor.c: Merge clipper branch back to
	the trunk.

2006-10-08   DJ Delorie * dj AT delorie dot com *

	* src/hid/common/hidinit.c: Add RTLD_GLOBAL.

2006-10-07   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/common/hidinit.c: add missing header for Message()
	prototype and remove an unused variable

2006-10-07   Dan McMahill * dan AT mcmahill dot net *

	* src/hid.h: add missing hid_{load,save}_settings prototypes

2006-10-06   DJ Delorie * dj AT delorie dot com *

	* src/hid/gtk/gui-dialog-print.c: Minor bug fix for exporter.

2006-10-05   DJ Delorie * dj AT delorie dot com *

	* src/hid.h, src/hid/common/hidinit.c,
	src/hid/gtk/gui-dialog-print.c, src/hid/lesstif/dialogs.c,
	src/main.c: Add global "exporter" option.

2006-10-02   DJ Delorie * dj AT delorie dot com *

	* doc/actions.texi, src/action.c, src/hid.h,
	src/hid/common/hidinit.c, src/main.c: Load settings from
	./pcb.settings and ~/.pcb/settings.  Add :savesettings action.

2006-10-02   DJ Delorie * dj AT delorie dot com *

	* src/hid/common/hidinit.c: Remove debugging printf.

2006-10-02   DJ Delorie * dj AT delorie dot com *

	* src/hid/common/hidinit.c: Fix plugin init function logic.

2006-10-02   DJ Delorie * dj AT delorie dot com *

	* configure, configure.ac, src/hid.h, src/hid/batch/batch.c,
	src/hid/bom/bom.c, src/hid/common/extents.c,
	src/hid/common/hidinit.c, src/hid/common/hidnogui.c,
	src/hid/gerber/gerber.c, src/hid/gtk/gtkhid-main.c,
	src/hid/lesstif/main.c, src/hid/lpr/lpr.c, src/hid/png/png.c,
	src/hid/ps/eps.c, src/hid/ps/ps.c: Dynamically load plug-ins (hids,
	actions, etc) at runtime.

2006-10-01   Dan McMahill * dan AT mcmahill dot net *

	* win32/build_pcb: extract the version from configure.ac instead of
	hard coding it.

2006-10-01   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/menu.c: Fix off-by-one error.

2006-10-01   Dan McMahill * dan AT mcmahill dot net *

	* config.h.in, configure, configure.ac: Check for popen().  So far
	nothing is done as a result of this.

2006-10-01   Dan McMahill * dan AT mcmahill dot net *

	* win32/build_pcb: It should be "-mms-bitfields" instead of
	"--mms-bitfields".  Noted by Cesar Strauss.

2006-09-30   DJ Delorie * dj AT delorie dot com *

	* configure, configure.ac: Add -rdynamic when it's available.

2006-09-30   DJ Delorie * dj AT delorie dot com *

	* src/todo: I did the one about separate ps files.

2006-09-29   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac, win32/build_pcb: Move the gcc flags that
	cause builds under cygwin to produce non-cygwin binaries out of the
	configure script and into the script which is used to build a
	non-cygwin binary under cygwin.  The end result should be the same for users who use
	./win32/build_pcb but users who wish to compile a cygwin binary
	should be able to now.  Adapated from patch #1567401 "Re-enabling the Cygwin port" by Cesar
	Strauss.

2006-09-27   Dan McMahill * dan AT mcmahill dot net *

	* doc/extract-docs: make this script more robust with respect to the
	formatting of the help and syntax strings.  In particular, variable
	whitespace is now allowed in the "static const char" declaration and
	the string may not begin on the same line as the declaration.  This
	allows the source code to run through indent(1) and still have the
	docs extracted properly.

2006-09-26   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac: We don't directly need X stuff anymore
	unless we're using the lesstif HID so don't look for X except in
	that case.  This avoids some issues seen on some systems which have
	older libraries in /usr/X11R6/lib (like freetype or fontconfig).

2006-09-25   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/lesstif/dialogs.c: use the unified "about" string.

2006-09-25   Dan McMahill * dan AT mcmahill dot net *

	* src/mymem.c, src/mymem.h: const-ify DSAddString

2006-09-25   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-dialog.c, src/misc.c, src/misc.h: Improve the gtk
	"about" dialog box output to explicitly list the HID's which have
	been compiled in.  As part of this, pull out the code which
	generates the text of the dialog box into its own function so that
	it can be used by other HID's.

2006-09-25   DJ Delorie * dj AT delorie dot com *

	* src/draw.c: A layer group that only contains a layer named
	"outline" or "route" will not have pins, pads, or vias drawn.

2006-09-25   DJ Delorie * dj AT delorie dot com *

	* src/hid/common/flags.c: A layer group containing only an "outline"
	or "route" layer will be named "outline" when exported.

2006-09-25   DJ Delorie * dj AT delorie dot com *

	* src/hid/gerber/gerber.c: Add a --verbose option to list gerber
	files as they're printed.

2006-09-24   Dan McMahill * dan AT mcmahill dot net *

	* src/rats.c: When optimizing rats, if there are > 0 of them,
	display a message indicating how many.  This way when the layout is
	not complete you see how far you have to go and also you see that
	the operation has done something.

2006-09-24   DJ Delorie * dj AT delorie dot com *

	* src/draw.c: If Settings.RatThickness is less than 20, it's a pixel
	size, not a pcb size.

2006-09-24   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c: Display remaining rats in status bar.

2006-09-24   DJ Delorie * dj AT delorie dot com *

	* src/hid/gtk/gui-output-events.c, src/hid/gtk/gui-top-window.c,
	src/search.h: Note pixel slop in gtk hid.  Increase slop to 10
	pixels.

2006-09-22   Dan McMahill * dan AT mcmahill dot net *

	* src/fontmode.c: add missing return value

2006-09-22   Dan McMahill * dan AT mcmahill dot net *

	* src/create.c, src/file.c: remove some unused variables

2006-09-22   DJ Delorie * dj AT delorie dot com *

	* src/buffer.c: Fix bug in poly point sorting for element
	conversion.

2006-09-22   DJ Delorie * dj AT delorie dot com *

	* src/buffer.c: Allow rectangular polygons when converting a buffer
	to an element.

2006-09-21   DJ Delorie * dj AT delorie dot com *

	* src/drill.c, src/mymem.c: Avoid attempts to realloc to zero bytes.

2006-09-21   DJ Delorie * dj AT delorie dot com *

	* src/action.c: Fix undo for MinMaskGap()

2006-09-21   DJ Delorie * dj AT delorie dot com *

	* doc/actions.texi, src/action.c: Add MinMaskGap() action.

2006-09-20   DJ Delorie * dj AT delorie dot com *

	* src/hid/ps/ps.c: Add multi-file output option.

2006-09-20   DJ Delorie * dj AT delorie dot com *

	* src/hid/common/flags.c, src/hid/gerber/gerber.c, src/hid/hidint.h: 
	Break out layer->filename code.  Fix bug in top/bottom detection.

2006-09-14   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gerber/gerber.c: If the output file(s) can't be opened for
	writing then spit out an error message instead of segfaulting.  The
	segfaults were noted in bug [ 1556894 ] "segfault when exporting to
	non-existing directory" reported by Stephan Boettcher.

2006-09-13   DJ Delorie * dj AT delorie dot com *

	* src/draw.c: Draw the elements' marks.

2006-09-13   Dan McMahill * dan AT mcmahill dot net *

	* lib/amp.inc, lib/amphenol.inc, lib/bga.inc, lib/bourns.inc,
	lib/connector.inc, lib/dil.inc, lib/gtag.m4, lib/johnstech.inc,
	lib/lsi.m4, lib/misc.inc, lib/pci.inc, lib/plcc.inc, lib/qfn.inc,
	lib/qfp.inc, lib/qfp2.inc, lib/qfpdj.inc, lib/resistor_adjust.inc,
	lib/to.inc, lib/zif.inc: quote the refdes parameter (name on board
	parameter) on the PKG_* macros.  This prevents problems when a
	refdes matches the name of a macro and m4 expands it.  Patch
	provided by Peter Clifton.

2006-09-13   Dan McMahill * dan AT mcmahill dot net *

	* lib/to.inc: remove a ' in an output comment line which threw off a
	closing ) that broke the TO3_90 element.

2006-09-13   DJ Delorie * dj AT delorie dot com *

	* src/hid/common/actions.c:  * pcjc2 AT cam dot ac dot uk * Patch to
	fix bug #1553558, Stack corruption PCB bug in hid_parse_actions

2006-09-04   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac, lib/Makefile.am, lib/Makefile.in,
	lib/m4lib_to_newlib.sh.in: Go ahead and let configure process the
	m4lib_to_newlib script.  Also remove a couple of hardcoded paths in
	the same script.

2006-09-03   Dan McMahill * dan AT mcmahill dot net *

	* lib/to.inc: Fix up the pads and drill sizes on the TO* packages.
	Based on patch [ 1108881 ] "Fix to m4 library hole sizes" by Walter
	Fetter Lages.  I added comments containing the actual dimensions
	from the JEDEC drawings and comments about how the pad size and
	drill size were selected.  Based on the JEDEC drawings I adjusted
	some of the drill and pad sizes.  I did not change or examine pin
	locations, numbering, or silk.

2006-09-03   Dan McMahill * dan AT mcmahill dot net *

	* lib/misc.inc: improve the drill sizes for several footprints.
	Changes provided by patch [ 1108881 ] "Fix to m4 library hole sizes"
	by Walter Fetter Lages.

2006-09-02   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/common/hidinit.c: ensure that derive_default_filename()
	always comes back with a valid string even when we don't have a name
	for the pcbfile.  This fixes bug [ 1548756 ] "Segfault when
	exporting png files" reported by Werner Hoch.

2006-09-01   Dan McMahill * dan AT mcmahill dot net *

	* lib/connector.inc: increase PKG_CONNECTOR and PKG_CONNECTOR_DIL
	hole size to something more reasonable.

2006-09-01   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc: - remove the BRE* footprints.  The required PKG_RECTANGULAR macro
	  doesn't exist anywhere and I can't figure out what the correct
	  behaviour should be anyway so rather than propagate a very
	  questionable footprint name, kill it right here.  - Fix the problem where the ACY*P and RCY*P packages called
	  non-existant macros.  They now produce the same footprints as the
	  ACY* and RCY* packages but with a polarity marking.  The suitability
	  for any particular part number should be still verified before using
	them on a board.

2006-09-01   Dan McMahill * dan AT mcmahill dot net *

	* lib/misc.inc: expand the PKG_AXIAL_LAY and PKG_RADIAL_CAN macros
	to take an extra optional argument.  When set to 1, this optional
	argument causes the part to have a "+" by pin 1 and "-" by pin 2.
	This was done instead of implementing the missing
	PKG_AXIAL_LAY_POLAR and  PKG_RADIAL_CAN_POLAR macros.

2006-09-01   Dan McMahill * dan AT mcmahill dot net *

	* lib/m4lib_to_newlib.sh.in: Rather than putting a huge list of
	footprints into one index file, break it out by library.

2006-09-01   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc: remove unused PKG_DUMMY which did not do anything
	anyway

2006-09-01   Dan McMahill * dan AT mcmahill dot net *

	* lib/m4lib_to_newlib.sh.in: - put both the index.html file and the broken.html file in the
	output directory.  - run pcb-bin from the src build directory to avoid complaints about
	  not being able to find the font - use .fp as the file extension for footprints - fix up the .png output file names - fix up the links in the index file

2006-09-01   DJ Delorie * dj AT delorie dot com *

	* src/action.c: Shift-click replaces element on pcb with element in
	buffer.

2006-08-30   DJ Delorie * dj AT delorie dot com *

	* doc/actions.texi, doc/pcbfile.texi, doc/version.texi: Regenerate
	to add attributes

2006-08-30   DJ Delorie * dj AT delorie dot com *

	* src/parse_y.y: Doc typo.

2006-08-30   DJ Delorie * dj AT delorie dot com *

	* src/copy.c: Copy attributes when copying element data.

2006-08-30   DJ Delorie * dj AT delorie dot com *

	* src/create.c, src/create.h, src/file.c, src/global.h,
	src/parse_l.l, src/parse_y.y: Add arbitrary attributes to PCB and
	Element types.  Ignore optional flags on Layer types.

2006-08-30   DJ Delorie * dj AT delorie dot com *

	* src/draw.c: Remove obsolete comment.

2006-08-29   Dan McMahill * dan AT mcmahill dot net *

	* lib/m4lib_to_newlib.sh.in: add the start of a m4lib to newlib
	conversion script

2006-08-28   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.in, README_FILES/Makefile.in, doc/Makefile.in,
	example/Makefile.in, example/libraries/Makefile.in,
	lib/Makefile.in, newlib/2_pin_thru-hole_packages/Makefile.in,
	newlib/Makefile.in, newlib/analog-devices/Makefile.in,
	newlib/burr-brown/Makefile.in, newlib/connectors/Makefile.in,
	newlib/crystal/Makefile.in, newlib/cypress/Makefile.in,
	newlib/electro-optics/Makefile.in,
	newlib/generic_SMD_packages/Makefile.in,
	newlib/headers/Makefile.in, newlib/msp430/Makefile.in,
	newlib/not_vetted_ingo/Makefile.in, newlib/sockets/Makefile.in,
	newlib/tests/Makefile.in, newlib/toko/Makefile.in, src/Makefile.in,
	src/icons/Makefile.in, src/script/Makefile.in, tools/Makefile.in,
	tutorial/Makefile.in, win32/Makefile.in: regen after the lex/yacc
	configure.ac change

2006-08-27   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c: Constrain arc start angles to -180..180
	degrees.

2006-08-24   DJ Delorie * dj AT delorie dot com *

	* src/netlist.c: Fix rats enable/disable code.

2006-08-23   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac: error out if yacc or lex could not be
	found

2006-08-23   Dan McMahill * dan AT mcmahill dot net *

	* doc/version.texi: bump rev after 20060822 branch

2006-08-23   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac: bump rev after 20060822 branch

2006-08-23   DJ Delorie * dj AT delorie dot com *

	* src/hid/ps/eps.c: When printing as-shown, mirror the image if
	we're viewing the solder side.

2006-08-23   DJ Delorie * dj AT delorie dot com *

	* src/hid/ps/eps.c: Don't consider off layers for fast mask.  Don't
	print paste.

2006-08-22   DJ Delorie * dj AT delorie dot com *

	* src/hid/ps/eps.c: Don't print invisible silk.

2006-08-22   Dan McMahill * dan AT mcmahill dot net *

	* README.snapshots: add a note about how I test the distcheck target
	for the lesstif HID

2006-08-22   DJ Delorie * dj AT delorie dot com *

	* src/find.c: Special case: allow vias with exactly zero clearance.

2006-08-22   Dan McMahill * dan AT mcmahill dot net *

	* ChangeLog, NEWS, README.snapshots: update for 20060822 snapshot

2006-08-22   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c: fill_rect needs the same point-ordering as
	draw_rect

2006-08-22   DJ Delorie * dj AT delorie dot com *

	* src/change.c: Allow via clearance to be reduced to zero.

2006-08-22   DJ Delorie * dj AT delorie dot com *

	* src/draw.c: If a pad/via's clearance is zero, don't attempt to
	draw a zero-width clear.

2006-08-21   DJ Delorie * dj AT delorie dot com *

	* src/main.c: Add default colors for layers 9..16

2006-08-21   DJ Delorie * dj AT delorie dot com *

	* src/file.c: post-initialize PCBs loaded from files.

2006-08-21   DJ Delorie * dj AT delorie dot com *

	* src/pcb-menu.res: Let right-mouse do "rotate" for now.

2006-08-21   DJ Delorie * dj AT delorie dot com *

	* src/search.c, src/todo: Don't let search find backsilk if
	invisible objects are off.

2006-08-21   DJ Delorie * dj AT delorie dot com *

	* src/draw.c: Draw via annulii on assembly drawings.

2006-08-18   Dan McMahill * dan AT mcmahill dot net *

	* configure, doc/actions.texi, doc/pcbfile.texi: regen

2006-08-18   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c, src/global.h, src/undo.c, src/undo.h: add a
	Renumber() action which renumbers reference designators and outputs
	a "was/is" sort of file which can be used for back annotation if
	someone writes a utility to apply those changes to a schematic.  For now Renumber() is still considered somewhat experimental and
	hence is not hooked up to the menus yet.

2006-08-15   DJ Delorie * dj AT delorie dot com *

	* configure, configure.ac: Add X_CFLAGS to CFLAGS so that Xm/Xm.h
	can be found.

2006-08-15   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/ps/ps.c: add header for a missing prototype

2006-08-15   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c: Apply patch from patch [ 1496742 ] Make 'a' key
	(SetSame) work again submitted by Wim Lewis.

2006-08-14   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac: when pkg-config fails to find the desired
	version of gtk or glib, then print the pkg-config output as part of
	the error message.  Suggested in bug # 1507555 by Mark Whitis.

2006-08-14   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc: use 0.01 mm instead of 0.05 mm for the roundoff for
	01005 footprints because they are so small.  This bumps the gap
	between pads just over 6 mils instead of just under 6 mils.

2006-08-11   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/lpr/lpr.c: Fix bug [ 1534098 ] Segmentation fault in GTK
	print dialog reported by Mark Rages.  Symptom was changing the lpr
	command in the gtk dialog box gave an instant crash.

2006-08-10   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.am, src/Makefile.in: add hid/batch/batch_lists.h to
	DISTCLEANFILES

2006-08-10   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc: Add 01005 footprints.

2006-08-04   Dan McMahill * dan AT mcmahill dot net *

	* src/copy.c: Remove extra calls to Draw().  This greatly speeds up
	copy operations.  This is especially true when pasting large blocks
	of layout.  Patch supplied by  Tibor Palinkas as patch #1532922.

2006-08-03   DJ Delorie * dj AT delorie dot com *

	* src/Makefile.am, src/Makefile.in, src/fontmode.c: Add font editing
	mode (FontEdit() and FontSave())

2006-08-03   DJ Delorie * dj AT delorie dot com *

	* src/file.c: Use the old style (mil) syntax when saving font info,
	if the values permit it, for readability and to save file space.

2006-08-03   DJ Delorie * dj AT delorie dot com *

	* src/action.c: Allow New() to take a name, so that the user need
	not be prompted during scripts and such.

2006-08-03   DJ Delorie * dj AT delorie dot com *

	* src/move.c: When deleting a layer, make sure to zero out the
	now-unused slot at the end.

2006-08-02   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac: After running PATH_XTRA and checking for
	various X libs (Xpm, etc), we need to use $X_LIBS as part of LIBS in
	subsequent library tests or we'll have a failure.  This should
	address some issues noted recently on one of the gEDA lists and
	configuring with lesstif and the png HID's.

2006-08-02   DJ Delorie * dj AT delorie dot com *

	* src/Pcb.ad.in, src/Pcb.ad.raw, src/Pcb.ad.small, src/action.c,
	src/autoroute.c, src/buffer.c, src/create.c, src/crosshair.c,
	src/data.c, src/dev_rs274x.c, src/djopt.c, src/draw.c, src/error.c,
	src/file.c, src/find.c, src/hid/gtk/gtkhid-main.c,
	src/hid/lesstif/main.c, src/line.c, src/misc.c, src/mtspace.h,
	src/mymem.c, src/netlist.c, src/output.c, src/parse_l.l,
	src/parse_y.y, src/polygon.c, src/puller.c, src/rats.c,
	src/rtree.c, src/rubberband.c, src/search.c, src/select.c,
	src/undo.c: spelling fixes from Larry.

2006-08-02   DJ Delorie * dj AT delorie dot com *

	* src/hid/ps/ps.c, src/print.c, src/print.h: When the drill list
	fits "naturally", no offset is added, which makes me happy.  When
	the drill list would otherwise fall off the left edge of the paper,
	just enough offset is added to keep that from happening.

2006-08-02   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/netlist.c: Allow extended selections.

2006-08-01   Dan McMahill * dan AT mcmahill dot net *

	* README.cvs: - Note that automake-1.7 and older are too old.  - Add a pointer to the README.snapshot document

2006-07-26   DJ Delorie * dj AT delorie dot com *

	* src/file.c: Enable loaded netlists by default.

2006-07-26   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/lesstif.h, src/hid/lesstif/main.c,
	src/hid/lesstif/menu.c, src/pcb-menu.res: Add the ability to
	user-configure mouse actions.

2006-07-24   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/lesstif.h, src/hid/lesstif/main.c,
	src/hid/lesstif/menu.c: Add support for multi-key hotkeys, via
	<Keys>abc syntax for a/b/c sequence.

2006-07-23   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/dialogs.c: use "top" and "bottom" to describe the
	side flags, instead of using "solder" and "component", which are
	common layer names.

2006-07-20   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/autoroute.c, src/mtspace.c, src/rtree.c: Various improvements
	to speed up auto-routing. Mainly optimizing the r-tree searching
	even more.

	----------------------------------------------------------------------

2006-07-14   DJ Delorie * dj AT delorie dot com *

	* src/crosshair.c, src/hid/gtk/gtkhid-main.c,
	src/hid/lesstif/main.c: Fix draw_rect vs board flipping bug.

2006-07-14   DJ Delorie * dj AT delorie dot com *

	* src/autoplace.c, src/djopt.c, src/main.c, src/move.c, src/mymem.c: 
	Minor patches from Larry.

2006-07-13   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/autoroute.c, src/rats.c: fix some autorouter bugs and improve
	ability to round around non-manhattan lines

	----------------------------------------------------------------------

2006-07-10   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.am, src/Makefile.in: remove circular dependency which
	breaks non-GNU make programs.

2006-07-08   Dan McMahill * dan AT mcmahill dot net *

	* INSTALL: summarize the dependencies for building pcb

2006-07-08   Dan McMahill * dan AT mcmahill dot net *

	* INSTALL: fix a typo

2006-07-08   Dan McMahill * dan AT mcmahill dot net *

	* README: remove some redundant and out of date notes

2006-07-07   DJ Delorie * dj AT delorie dot com *

	* src/misc.c: Fix minor rounding bug in c_dtostr().

2006-07-07   DJ Delorie * dj AT delorie dot com *

	* src/misc.c: Fix layer group parsing code.  Avoid trailing colon in
	group string.

2006-07-04   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/bom/bom.c, src/hid/common/hidinit.c,
	src/hid/gerber/gerber.c, src/hid/gtk/gui-top-window.c,
	src/hid/hidint.h, src/hid/png/png.c, src/hid/ps/eps.c,
	src/hid/ps/ps.c: Apply a patch from Larry Doolittle.  Refactors filename handling code common to the file export HIDs
	(bom, gerber, png, eps, ps).  The png code had one feature (last_made_filename) that was missing
	in the others.  This refactoring brings all the HIDs to feature
	parity, which lets pcb -x bom --bomfile=foo.txt bar.pcb work as expected.  The old code ignores the command line flag, and
	writes the bom to bar.bom.  Likewise for .xy, .gbr, .eps, and .ps
	files.  Also fixes a couple of spelling errors.

2006-07-04   Dan McMahill * dan AT mcmahill dot net *

	* doc/actions.texi, doc/pcbfile.texi, src/Makefile.in,
	src/action.c, src/create.c, src/dev_rs274x.c, src/drill.c,
	src/file.c, src/find.c, src/mymem.c, src/mymem.h, src/parse_l.l,
	src/rats.c, src/remove.c, src/undo.c: Apply a patch from Larry
	Doolittle that switches from the MyFree() function to the new
	MYFREE() macro to avoid strict aliasing violations.

2006-06-26   DJ Delorie * dj AT delorie dot com *

	* src/djopt.c: Don't delete vias with thermals.  Try to split
	diagonal lines at pins and vias.

2006-06-25   DJ Delorie * dj AT delorie dot com *

	* src/todo: MoveLayers cleanup tasks - thermals, pips, undo

2006-06-22   Dan McMahill * dan AT mcmahill dot net *

	* README.cvs: add a comment about needing the png HID for building
	docs from cvs

2006-06-21   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c: Account for board flipping when zooming.

2006-06-11   DJ Delorie * dj AT delorie dot com *

	* src/action.c: Remove obsolete ActionSwapSides()

2006-06-11   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c, src/pcb-menu.res: Merge lesstif's Flip()
	action into SwapSides to avoid conflict with core Flip().

2006-06-11   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/menu.c: Print actions called when verbose.

2006-06-10   DJ Delorie * dj AT delorie dot com *

	* globalconst.h, src/action.c, src/autoplace.c, src/autoroute.c,
	src/buffer.c, src/copy.c, src/create.c, src/create.h,
	src/crosshair.c, src/data.h, src/djopt.c, src/draw.c, src/file.c,
	src/find.c, src/global.h, src/hid/common/extents.c,
	src/hid/common/flags.c, src/hid/gerber/gerber.c,
	src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-config.c,
	src/hid/gtk/gui-top-window.c, src/hid/gtk/gui.h,
	src/hid/lesstif/dialogs.c, src/hid/lesstif/main.c,
	src/hid/lesstif/menu.c, src/hid/png/png.c, src/hid/ps/eps.c,
	src/hid/ps/ps.c, src/line.c, src/macro.h, src/main.c, src/misc.c,
	src/misc.h, src/move.c, src/move.h, src/parse_y.y,
	src/pcb-menu.res, src/polygon.c, src/print.c, src/rats.c,
	src/rtree.c, src/rubberband.c, src/search.c, src/undo.c, src/undo.h: 
	flexible max_layers

2006-06-09   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c: Compensate for board flipping in the
	panning code.

2006-06-06   DJ Delorie * dj AT delorie dot com *

	* src/hid/gerber/gerber.c: Fix rounding bug when collecting drill
	sizes.

2006-06-03   DJ Delorie * dj AT delorie dot com *

	* src/djopt.c: Fix logic a bit, don't try to move pins.

2006-06-03   DJ Delorie * dj AT delorie dot com *

	* src/pcb-menu.res: Syntax fix for DisperseElements()

2006-05-29   DJ Delorie * dj AT delorie dot com *

	* src/todo: Remove lesstif board flipping item.

2006-05-29   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c, src/pcb-menu.res: Add Flip action, both
	vertical and horizontal.

2006-05-29   DJ Delorie * dj AT delorie dot com *

	* src/djopt.c: Adjust endpoints of lines that don't quite reach
	adjoining lines.

2006-05-21   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/menu.c, src/report.c: Report on locked objects if
	there are no unlocked objects under the cursor.  Save the cursor
	position even if we don't initially need it, in case we call an
	action that does.

2006-05-21   DJ Delorie * dj AT delorie dot com *

	* src/hid/gerber/gerber.c: Reset layer value cache before we
	shortcut for counting apertures.

2006-05-20   DJ Delorie * dj AT delorie dot com *

	* src/draw.c, src/hid.h, src/hid/common/extents.c,
	src/hid/gerber/gerber.c, src/hid/gtk/gtkhid-main.c,
	src/hid/lesstif/main.c, src/hid/png/png.c, src/hid/ps/eps.c,
	src/hid/ps/ps.c: Split plated and unplated drills in gerber output.

2006-05-20   DJ Delorie * dj AT delorie dot com *

	* src/hid/gerber/gerber.c: Name internal gerber layers sanely.

2006-05-20   DJ Delorie * dj AT delorie dot com *

	* src/hid/gerber/gerber.c: Change gerber names to be compatible with
	pre-hid.

2006-05-20   DJ Delorie * dj AT delorie dot com *

	* src/const.h, src/search.c: Ignore locked objects unless
	LOCKED_TYPE is passed (lock tool).

2006-05-16   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac: add the batch HID to the list of gui HIDs
	in the help output

2006-05-15   DJ Delorie * dj AT delorie dot com *

	* src/hid/gtk/gui-top-window.c: Fig typo in ChangeDrillSize menu.

2006-05-15   DJ Delorie * dj AT delorie dot com *

	* src/hid/batch/batch.c: Fix test for interactiveness.

2006-05-15   DJ Delorie * dj AT delorie dot com *

	* src/Makefile.am, src/Makefile.in, src/hid/batch/batch.c,
	src/hid/batch/hid.conf: Add batch-mode HID.

2006-05-14   DJ Delorie * dj AT delorie dot com *

	* src/crosshair.c: Fix drawing of box around text items in buffer.

2006-05-14   DJ Delorie * dj AT delorie dot com *

	* src/draw.c: Add support for drawing/exporting paste layers.

2006-05-01   Dan McMahill * dan AT mcmahill dot net *

	* doc/actions.texi, doc/version.texi, src/action.c: add Message()
	action

2006-04-30   Dan McMahill * dan AT mcmahill dot net *

	* src/buffer.c: fix a bug where mirroring a buffer with only traces
	triggered the "can't mirror a buffer with text" if there was text
	anywhere in the layout.  Patch provided as part of bug #1467446.

2006-04-29   Bill Wilson * billw2 AT users dot sourceforge dot net *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-dialog.c,
	src/hid/gtk/gui-top-window.c: Update status line after menu Save
	layout and Save layout as.  Change file select response button from "Open" to "Ok".  Don't try to Save layout when user hits Cancel and file name is
	NULL.

2006-04-29   Bill Wilson * billw2 AT users dot sourceforge dot net *

	* src/hid/gtk/gui-output-events.c, src/hid/gtk/gui-utils.c: Couple
	of small typo bugs: a missing "break" and needed -1 arg to size
	request.

2006-04-28   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c: prevent segfaults when trying to undo in the middle
	of drawing ratlines.  Problem noted by Daniel Wisehart, fixed by me.

2006-04-28   DJ Delorie * dj AT delorie dot com *

	* src/file.c, src/misc.c, src/misc.h, src/parse_l.l: Use
	locale-independent strtod and dtostr functions.

2006-04-27   Dan McMahill * dan AT mcmahill dot net *

	* config.h.in: regen

2006-04-27   Dan McMahill * dan AT mcmahill dot net *

	* INSTALL: minor updates, mention gd-2.0.23 as having been used

2006-04-27   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac: if gdlib-config is not found, try and
	just check for -lgd on the off chance that it works.  The user in
	this case may have to add things like -lpng to their LDFLAGS
	variable in the environment or just update to a newer version of
	gdlib.  gdlib-config has been around for at least a few years
	anyway.

2006-04-26   Dan McMahill * dan AT mcmahill dot net *

	* README_FILES/Makefile.in: remove obsolete README file

2006-04-26   Dan McMahill * dan AT mcmahill dot net *

	* INSTALL: bring the install docs up to date

2006-04-26   Dan McMahill * dan AT mcmahill dot net *

	* README-GTK_PORT, README_FILES/INSTALL, README_FILES/Makefile.am,
	README_FILES/Makefile.in: remove obsolete README file

2006-04-25   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac: complain if the png HID has been
	requested but all formats disabled

2006-04-24   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-top-window.c: do not crash if the input pipe
	terminates when using --listen

2006-04-24   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/lesstif/main.c: remove a debugging printf

2006-04-24   DJ Delorie * dj AT delorie dot com *

	* src/global.h: Comment tweak.

2006-04-24   DJ Delorie * dj AT delorie dot com *

	* src/global.h: Define on-board objects in terms of base types.

2006-04-23   Dan McMahill * dan AT mcmahill dot net *

	* src/buffer.c: when smashing the pastebuffer, don't set the pure
	hole flag on the vias unless is was set on the original pin.
	Reported by Levente Kovacs on geda-user.

2006-04-23   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: update newlib creation section for the latest GTK
	HID.  Addresses bug 1473640.

2006-04-22   Dan McMahill * dan AT mcmahill dot net *

	* NEWS: add 20060422 release notes

2006-04-22   Dan McMahill * dan AT mcmahill dot net *

	* README.snapshots: update for 20060422

2006-04-22   Dan McMahill * dan AT mcmahill dot net *

	* ChangeLog: update for 20060422 snapshot

2006-04-21   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-config.c: Comment out locale.h since the code
	which needed that was also commented out.  Fixes builds on solaris
	with sunpro and the gtk HID.

2006-04-21   Dan McMahill * dan AT mcmahill dot net *

	* src/macro.h: protect some GNU C specific stuff with #ifdef
	__GNUC__

2006-04-21   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-utils.c: change from NONE_PRESSED to
	NO_BUTTON_PRESSED since the former is not part of the ButtonState
	enum while the latter is.

2006-04-21   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/lesstif/main.c: comment out with #if 0 the code related to
	lesstif_options and lesstif_resources since those were both empty.
	With this change pcb should build correctly on 64-bit Irix-6.5 with
	version 7.41 of the MIPSpro compilers.  There are still a handful of
	compiler warnings to investigate.

2006-04-20   DJ Delorie * dj AT delorie dot com *

	* doc/actions.texi, src/hid.h, src/hid/common/actions.c,
	src/hid/lesstif/dialogs.c, src/hid/lesstif/library.c,
	src/hid/lesstif/main.c, src/hid/lesstif/menu.c,
	src/hid/lesstif/netlist.c, src/hid/lesstif/styles.c: Document
	lesstif hid actions.

2006-04-20   Dan McMahill * dan AT mcmahill dot net *

	* src/box.h, src/find.c: rely on the autoconf test for inline
	instead of using our own based on __GNUC__.  This will let other
	non-gcc C99 compilers take advantage of inline.

2006-04-19   Dan McMahill * dan AT mcmahill dot net *

	* config.h.in, configure, configure.ac, doc/actions.texi,
	doc/version.texi, src/Makefile.am, src/Makefile.in, src/djopt.c,
	src/draw.c, src/file.c, src/flags.c, src/hid/lesstif/dialogs.c,
	src/hid/lesstif/library.c, src/hid/lesstif/main.c,
	src/hid/lesstif/menu.c, src/hid/lesstif/netlist.c,
	src/hid/lesstif/styles.c, src/hid/lesstif/xincludes.h, src/misc.c,
	src/parse_y.y, src/strflags.c, src/strflags.h: - add checks for sys/param.h and compiler understanding of 'inline'.  - remove a handful of warnings which showed up with the sunpro
	compiler.  - move the X11 includes into a header where they can be included in
	  a way which keeps them from messing up the namespace of the rest of   pcb.  Fixes some obscure warnings from sunpro.

2006-04-19   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/png/png.c: get this to properly link when --disable-gif is
	used and the installed libgd does not have gif support.

2006-04-19   DJ Delorie * dj AT delorie dot com *

	* src/hid/ps/ps.c: Add --psfade option.

2006-04-18   Bill Wilson * billw2 AT users dot sourceforge dot net *

	* src/command.c, src/data.c: Clean out Gtk HID related FIXMEs

2006-04-18   Bill Wilson * billw2 AT users dot sourceforge dot net *

	* src/draw.c: Clean out Gtk HID related FIXMEs.  Also old background
	image code which is now done in the Gtk and Lesstif HIDs.

2006-04-18   Bill Wilson * billw2 AT users dot sourceforge dot net *

	* src/main.c, src/set.c: Clean out FIXMEs specific to the Gtk HID.

2006-04-18   Bill Wilson * billw2 AT users dot sourceforge dot net *

	* src/misc.c, src/misc.h: Remove Gtk HID specific
	build_route_string() function.

2006-04-18   Bill Wilson * billw2 AT users dot sourceforge dot net *

	* src/hid/gtk/gui-config.c, src/hid/gtk/gui-dialog-size.c,
	src/hid/gtk/gui-top-window.c: Fix route style "Save as default" bug.  Update status line when new route style selected.

2006-04-17   DJ Delorie * dj AT delorie dot com *

	* doc/actions.texi, doc/extract-docs, doc/pcb.texi,
	doc/pcbfile.texi, doc/version.texi, src/const.h, src/hid.h,
	src/hid/common/actions.c, src/hid/lesstif/main.c, src/parse_y.y: 
	Remove all the prev-next-up links, reformat all the texi files to
	allow for automatic structure generation.  Add helper hooks in the
	extractor to let the source files control what types of nodes and
	document structure is used for each category.  Auto-create nodes and
	document substructure for each key within each category.

2006-04-17   Bill Wilson * billw2 AT users dot sourceforge dot net *

	* src/hid/gtk/gui-config.c, src/hid/gtk/gui-top-window.c,
	src/hid/gtk/gui-utils.c, src/hid/gtk/gui.h: For the Gtk HID, add an
	alternate vertical window layout mode to help on lower vertical
	resolution displays.

2006-04-17   DJ Delorie * dj AT delorie dot com *

	* src/netlist.c: Include sys/types.h so that regex compiles on more
	hosts.

2006-04-16   Bill Wilson * billw2 AT users dot sourceforge dot net *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-command-window.c,
	src/hid/gtk/gui-keyref-window.c, src/hid/gtk/gui-library-window.c,
	src/hid/gtk/gui-log-window.c, src/hid/gtk/gui-netlist-window.c,
	src/hid/gtk/gui-top-window.c, src/hid/gtk/gui.h: Fix soldermask draw
	while TAB view from solder side.  Don't raise windows if already shown so library & netlist window
	won't grab focus.  Focus can still be grabbed if an already shown
	window is reshown via the top menu bar.  Not sure yet how to handle
	this case.

2006-04-16   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/png/png.c: switch the output scaling to default to 100 dpi
	instead of fixing the max dimension at 800 pixels.  This at makes
	the default be a sort of to scale (for 100 dpi monitors it will be
	to scale) image.

2006-04-15   DJ Delorie * dj AT delorie dot com *

	* doc/actions.texi, src/report.c: Document actions in report.c.

2006-04-15   DJ Delorie * dj AT delorie dot com *

	* doc/Makefile.am, doc/Makefile.in, doc/actions.texi,
	doc/puller.pcb, doc/version.texi, src/puller.c: Document the puller
	action.

2006-04-15   Bill Wilson * billw2 AT users dot sourceforge dot net *

	* src/hid/gtk/gui-output-events.c: Make ghid_get_coords() x value
	account for side viewed (when using TAB).

2006-04-14   Bill Wilson * billw2 AT users dot sourceforge dot net *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-top-window.c,
	src/hid/gtk/gui.h: Support --bg-image in the Gtk HID.  Images can be
	jpg, png, gif, etc. as supported by the Gdk installation.  Zooming gets slow at higher zoom levels, but I can address that
	later when I have more time.

2006-04-14   DJ Delorie * dj AT delorie dot com *

	* src/global.h: Make sure the Message and return are in the same
	scope.

2006-04-14   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-top-window.c: make sure we set the default icon
	_before_ any windows are created

2006-04-14   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac: bump rev after 20060414 branch

2006-04-14   Dan McMahill * dan AT mcmahill dot net *

	* NEWS: 20060414 release notes

2006-04-14   Dan McMahill * dan AT mcmahill dot net *

	* ChangeLog: update for 20060414 snapshot

2006-04-14   Dan McMahill * dan AT mcmahill dot net *

	* README.snapshots: update the instructions a bit

2006-04-14   Dan McMahill * dan AT mcmahill dot net *

	* doc/actions.texi: regen

2006-04-14   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.am, Makefile.in: fix a distcheck problem

2006-04-14   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c: Add --bg-image option to lesstif hid to
	load a background image.

2006-04-13   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-top-window.c: on win32, figure out the path to the
	installed package so we can set the newlib directory.

2006-04-13   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gtkhid-main.c: add missing return value

2006-04-13   Dan McMahill * dan AT mcmahill dot net *

	* src/compat.c: add a (lame) random() replacement

2006-04-13   Dan McMahill * dan AT mcmahill dot net *

	* src/autoplace.c, src/strflags.c: add compat.h header for missing
	system functions

2006-04-13   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.am, Makefile.in, README.win32: add a win32 README file

2006-04-13   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.am, src/Makefile.in: add a dependency on the icon
	resource object if this is win32

2006-04-13   Dan McMahill * dan AT mcmahill dot net *

	* win32/Makefile.in: add missing file

2006-04-13   Dan McMahill * dan AT mcmahill dot net *

	* : add generated icon file

2006-04-13   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.am, Makefile.in: add win32 to SUBDIRS

2006-04-13   Dan McMahill * dan AT mcmahill dot net *

	* win32/Makefile.am, win32/Xdefaults.tgif: add a tgif Xdefaults file
	needed for generating the correct XPM version

2006-04-13   Dan McMahill * dan AT mcmahill dot net *

	* win32/pcb_icon_big.obj, win32/pcb_icon_med.obj,
	win32/pcb_icon_sml.obj: replace wcalc icons with placeholder pcb
	icons

2006-04-13   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.in, README_FILES/Makefile.in, configure, configure.ac,
	doc/Makefile.in, example/Makefile.in,
	example/libraries/Makefile.in, lib/Makefile.in,
	newlib/2_pin_thru-hole_packages/Makefile.in, newlib/Makefile.in,
	newlib/analog-devices/Makefile.in, newlib/burr-brown/Makefile.in,
	newlib/connectors/Makefile.in, newlib/crystal/Makefile.in,
	newlib/cypress/Makefile.in, newlib/electro-optics/Makefile.in,
	newlib/generic_SMD_packages/Makefile.in,
	newlib/headers/Makefile.in, newlib/msp430/Makefile.in,
	newlib/not_vetted_ingo/Makefile.in, newlib/sockets/Makefile.in,
	newlib/tests/Makefile.in, newlib/toko/Makefile.in, src/Makefile.am,
	src/Makefile.in, src/icons/Makefile.in, src/script/Makefile.in,
	tools/Makefile.in, tutorial/Makefile.in: check for a few tools used
	to regenerate windows icons

2006-04-13   Dan McMahill * dan AT mcmahill dot net *

	* src/error.c, src/file.c, src/find.c, src/main.c, src/misc.c,
	win32/build_pcb: add a few more checks to let this build under
	cygwin/mingw

2006-04-13   Dan McMahill * dan AT mcmahill dot net *

	* config.h.in, configure, configure.ac: check for getcwd()

2006-04-13   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/pcb.rc: add windres file for win32 icons

2006-04-13   Dan McMahill * dan AT mcmahill dot net *

	* config.h.in, configure, configure.ac: one more header check

2006-04-13   Dan McMahill * dan AT mcmahill dot net *

	* config.guess, config.sub: add some new configure related files

2006-04-13   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.am, src/Makefile.in: add stuff to compile in icons
	for win32

2006-04-13   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.in, README_FILES/Makefile.in, config.h.in, configure,
	configure.ac, doc/Makefile.in, example/Makefile.in,
	example/libraries/Makefile.in, lib/Makefile.in,
	newlib/2_pin_thru-hole_packages/Makefile.in, newlib/Makefile.in,
	newlib/analog-devices/Makefile.in, newlib/burr-brown/Makefile.in,
	newlib/connectors/Makefile.in, newlib/crystal/Makefile.in,
	newlib/cypress/Makefile.in, newlib/electro-optics/Makefile.in,
	newlib/generic_SMD_packages/Makefile.in,
	newlib/headers/Makefile.in, newlib/msp430/Makefile.in,
	newlib/not_vetted_ingo/Makefile.in, newlib/sockets/Makefile.in,
	newlib/tests/Makefile.in, newlib/toko/Makefile.in, src/Makefile.in,
	src/compat.c, src/compat.h, src/file.c, src/hid/gerber/gerber.c,
	src/icons/Makefile.in, src/misc.c, src/print.c,
	src/script/Makefile.in, tools/Makefile.in, tutorial/Makefile.in: Add
	a couple more configure checks for functions (gethostname and
	password related functions) and headers which may not be present on
	win32.  This should be enough to get things to compile under cygwin
	although there are still runtime issues.

2006-04-12   Dan McMahill * dan AT mcmahill dot net *

	* win32/Makefile.am, win32/Readme.txt, win32/build_pcb,
	win32/pcb.nsi.in, win32/pcb_icon_big.obj, win32/pcb_icon_med.obj,
	win32/pcb_icon_sml.obj: Add some stuff to help build under win32.
	Note:  win32 support is not finished and PCB does not yet work
	correctly under win32, but this is some progress.

2006-04-12   Dan McMahill * dan AT mcmahill dot net *

	* src/error.c, src/error.h, src/hid.h, src/hid/common/hidnogui.c,
	src/hid/gtk/gui-log-window.c, src/hid/gtk/gui.h,
	src/hid/lesstif/dialogs.c, src/hid/lesstif/main.c: const-ify the log
	message functions

2006-04-12   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gtkhid-main.c: add the About action

2006-04-12   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c, src/global.h, src/vendor.c: use AFAIL() when an
	action fails due to a syntax error

2006-04-12   DJ Delorie * dj AT delorie dot com *

	* src/hid/ps/eps.c: Determine when we need to use the complex erase
	logic, and when we can just paint white.  Painting white is a LOT
	faster, and avoids rasterization in ps2pdf.

2006-04-12   Dan McMahill * dan AT mcmahill dot net *

	* doc/version.texi: add thermals to glossary

2006-04-12   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: add thermal to the glossary

2006-04-12   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.am, doc/Makefile.in: increase resolution of PDFs of
	drawings.  72dpi looked pretty bad on the thermal drawing

2006-04-12   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.am, doc/Makefile.in: add thermal drawing

2006-04-12   Dan McMahill * dan AT mcmahill dot net *

	* doc/thermal.pcb: change name of board

2006-04-12   Dan McMahill * dan AT mcmahill dot net *

	* doc/thermal.pcb: add a drawing showing what a thermal relief looks
	like

2006-04-12   Dan McMahill * dan AT mcmahill dot net *

	* doc/database.txt, doc/ideas/database.txt, doc/ideas/keepouts.txt,
	doc/keepouts.txt: move these to an ideas subdirectory to hopefully
	more clearly indicate that not only are these not implemented yet
	but that they are not even certain to ever be implemented.

2006-04-12   DJ Delorie * dj AT delorie dot com *

	* doc/actions.texi, doc/version.texi, src/netlist.c: Document
	actions in netlist.c

2006-04-12   Dan McMahill * dan AT mcmahill dot net *

	* doc/actions.texi, src/action.c: add support for units and relative
	coordinates in PasteBuffer(ToLayout)

2006-04-12   Dan McMahill * dan AT mcmahill dot net *

	* doc/database.txt, doc/keepouts.txt: add two documents in progress
	describing a plan for future work

2006-04-11   Dan McMahill * dan AT mcmahill dot net *

	* doc/actions.texi, src/action.c, src/global.h: Add a "ToLayout"
	option for the PasteBuffer() action.  You can now do things like
	PasteBuffer(ToLayout, 10000, 200000) to paste from the current
	buffer Also add a DumpLibrary() action.

2006-04-11   DJ Delorie * dj AT delorie dot com *

	* doc/actions.texi, doc/extract-docs, src/action.c, src/command.c: 
	Document actions in command.c.

2006-04-11   Dan McMahill * dan AT mcmahill dot net *

	* lib/crystal.list, lib/crystal.m4, lib/generic.list,
	lib/generic.m4, lib/resistor_0.25W.list, lib/resistor_array.list,
	lib/texas_inst_voltage_reg.m4, lib/transistor.m4: - add a missing description and move some footprints from the wrong
	.list file to the correct .list file to be able to pick up the
	descriptions and parameters from the corresponding .m4 file.  - all of the m4 libs should at least be correct in the sense that
	the pieces are all there and they all run through m4 correctly.
	They have not been verified any more for correctness, but this is
	progress.

2006-04-11   DJ Delorie * dj AT delorie dot com *

	* src/print.c, src/report.c: Print correct symbol counts for drills
	on fab drawing.

2006-04-11   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.in, README_FILES/Makefile.in, example/Makefile.in,
	example/libraries/Makefile.in, lib/Makefile.in,
	newlib/2_pin_thru-hole_packages/Makefile.in, newlib/Makefile.in,
	newlib/analog-devices/Makefile.in, newlib/burr-brown/Makefile.in,
	newlib/connectors/Makefile.in, newlib/crystal/Makefile.in,
	newlib/cypress/Makefile.in, newlib/electro-optics/Makefile.in,
	newlib/generic_SMD_packages/Makefile.in,
	newlib/headers/Makefile.in, newlib/msp430/Makefile.in,
	newlib/not_vetted_ingo/Makefile.in, newlib/sockets/Makefile.in,
	newlib/tests/Makefile.in, newlib/toko/Makefile.in, src/Makefile.in,
	src/icons/Makefile.in, src/script/Makefile.in, tools/Makefile.in,
	tutorial/Makefile.in: regen (after checking for perl)

2006-04-11   Dan McMahill * dan AT mcmahill dot net *

	* doc/actions.texi, doc/version.texi, src/action.c, src/select.c,
	src/select.h: - for the Select(*ByName) action, allow a 2nd argument to specify
	the name and only use the gui dialog box if the 2nd argument is not
	specified.  - Add *ByName options for the Unselect() action.

2006-04-11   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gtkhid-main.c: garbage collect some printf output

2006-04-11   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-top-window.c: Fix bug [ 1462380 ] saving buffer
	elemnts to file does nothing.

2006-04-11   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac, doc/Makefile.am, doc/Makefile.in: When
	building docs, look for a perl to use.  This will let the user set
	PERL in their environment and have configure pick it up.

2006-04-11   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/find.c: turn off debugging by default

	----------------------------------------------------------------------

2006-04-11   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/find.c: fixed list overflow with element connection listing

	----------------------------------------------------------------------

2006-04-11   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/find.c: added overflow error reporting to the ADD* routines

	----------------------------------------------------------------------

2006-04-10   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/find.c: fixed bug using in LookupLOConnectionsToPVList where
	the wrong variable was used.

	----------------------------------------------------------------------

2006-04-10   DJ Delorie * dj AT delorie dot com *

	* doc/actions.texi, doc/version.texi, src/action.c: Document the
	rest of the registered actions in action.c.

2006-04-06   Dan McMahill * dan AT mcmahill dot net *

	* src/find.c: move some initializations inside a loop so they don't
	get missed

2006-04-06   Dan McMahill * dan AT mcmahill dot net *

	* src/main.c: declare dump_actions() right before using it

2006-04-06   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/png/png.c: add some missing const-s

2006-04-06   Bill Wilson * billw2 AT users dot sourceforge dot net *

	* src/hid/gtk/gui-top-window.c: mode_button_toggled_cb() didn't sync
	ghidgui->settings_mode with current mode button state.

2006-04-06   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-top-window.c: revert the previous, this part
	wasn't quite right.

2006-04-05   Dan McMahill * dan AT mcmahill dot net *

	* src/mymem.c, src/mymem.h: add a MyMalloc to go along with MyCalloc

2006-04-05   Bill Wilson * billw2 AT users dot sourceforge dot net *

	* src/hid/gtk/gui-netlist-window.c, src/hid/gtk/gui.h: Fix netlist
	window to scroll to net/node when user lookups connection.

2006-04-05   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-output-events.c, src/hid/gtk/gui-top-window.c: - make the ESC key return you to the arrow tool if you are in via,
	  thermal, lock, etc modes.  - in line, poly, arc, etc. modes, the first ESC press returns you to
	  "tool neutral" and the 2nd ESC press returns you to the arrow tool.

2006-04-05   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-dialog.c, src/hid/lesstif/dialogs.c: add pointer
	to the geda homepage and wiki as well as the pcb home page in the
	about dialog

2006-04-05   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-dialog-print.c: fix a bug which prevented the
	File->Export menu from working more than once in a pcb session.

2006-04-05   DJ Delorie * dj AT delorie dot com *

	* src/action.c, src/djopt.c, src/hid.h, src/hid/common/actions.c,
	src/hid/gtk/gtkhid-main.c, src/hid/lesstif/dialogs.c,
	src/hid/lesstif/main.c, src/main.c, src/vendor.c: Initial chunk of
	inline action docs.

2006-04-05   DJ Delorie * dj AT delorie dot com *

	* doc/Makefile.am, doc/Makefile.in, doc/actions.texi,
	doc/extract-docs, doc/pcb.texi, doc/version.texi: Fix eps->pdf rule
	to set size and resolution right.  Limit pcb->* to visible areas.
	Add support for action extraction from sources.

2006-04-05   Dan McMahill * dan AT mcmahill dot net *

	* src/script/Makefile.am, src/script/Makefile.in,
	src/script/pcb-print: remove the pcb-print script.  It is obsolete
	now that the HID version directly supports command line export/print
	through the export HID's.

2006-04-05   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/find.c: Expand search box during bloat in case the box overlap
	would otherwise prevent checking.  This repairs a really bad bug
	introduced when the rtrees were used to speed the find tracing.

	----------------------------------------------------------------------

2006-04-05   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/misc.c: fixed pin/via bounding box to include thermal tails;
	bug reported by CL

	----------------------------------------------------------------------

2006-04-05   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui.h: Be a bit more careful with rouding issues when
	converting to pcb units.  Hopefully this will help with the issue
	reported on the geda lists about 23.99 mil vias when the user
	thought they picked 24 mil ones.  Patch posted on geda-user by DJ.

2006-04-05   Dan McMahill * dan AT mcmahill dot net *

	* config.h.in, configure, configure.ac, src/hid/png/png.c: check to
	see which graphic file formats are supported by the installed GD.
	If the desired list is not found, abort and tell the user they can
	explicitly disable certain file types.  Should deal with installed
	versions of gd which do not support GIF output.

2006-04-05   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/lesstif/styles.c: fix a prototype

2006-03-28   Dan McMahill * dan AT mcmahill dot net *

	* src/dolists.h, src/hid/lesstif/dialogs.c, src/hid/lesstif/main.c,
	src/hid/lesstif/menu.c, src/hid/lesstif/styles.c: move variable
	declarations to the beginning of blocks to make gcc-2.95 and
	probably other non-gcc compilers happy.

2006-03-28   Dan McMahill * dan AT mcmahill dot net *

	* src/find.c: Check to make sure a pointer is not NULL before
	dereferencing it.  This seems to be the place where the segfault was
	happening sometimes when saving connection data.  For now, spit out
	a warning message because I think there may be some other underlying
	bug which causes the NULL pointer in the first place.

2006-03-28   Dan McMahill * dan AT mcmahill dot net *

	* src/mymem.h: do not redefine malloc if we are using dmalloc

2006-03-28   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c, src/autoplace.c, src/autoroute.c, src/buffer.c,
	src/change.c, src/command.c, src/crosshair.c, src/djopt.c,
	src/draw.c, src/error.c, src/file.c, src/insert.c, src/intersect.c,
	src/line.c, src/main.c, src/misc.c, src/mtspace.c, src/netlist.c,
	src/output.c, src/print.c, src/puller.c, src/report.c,
	src/res_parse.y, src/rtree.c, src/select.c, src/set.c,
	src/strflags.c, src/vector.c, src/vendor.c: put back dmalloc support

2006-03-28   DJ Delorie * dj AT delorie dot com *

	* src/action.c, src/find.c, src/hid/gtk/gtkhid-main.c,
	src/hid/gtk/gui-misc.c, src/hid/gtk/gui-output-events.c,
	src/hid/gtk/gui-top-window.c, src/hid/lesstif/dialogs.c,
	src/hid/lesstif/library.c, src/hid/lesstif/main.c,
	src/hid/lesstif/netlist.c, src/main.c, src/set.c: hid_actionl must
	be terminated with NULL, not a plain 0, in case integers and
	pointers are different sizes.

2006-03-28   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-top-window.c: access djopt_set_auto_only() via the
	associated action instead of directly

2006-03-28   Dan McMahill * dan AT mcmahill dot net *

	* src/djopt.c, src/djopt.h: fix prototype for an action.  kills one
	more compiler warning

2006-03-28   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/lesstif/main.c: add a missing typecase

2006-03-27   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c, src/hid/gtk/gui-top-window.c, src/pcb-menu.res: - When changing selected line size from the menu, do it to the
	selected arcs to.  - Add a SelectedArcs option to the ChangeSize action.

2006-03-27   Dan McMahill * dan AT mcmahill dot net *

	* src/select.c: Fix a bug where actions using SelectedPads did
	nothing and SelectedPins picked up both pins and pads.  Noted by bug
	#1438523

2006-03-27   Dan McMahill * dan AT mcmahill dot net *

	* src/strflags.c: avoid allocating 0 bytes

2006-03-27   Dan McMahill * dan AT mcmahill dot net *

	* src/misc.c: fix a typo in a comment

2006-03-27   Dan McMahill * dan AT mcmahill dot net *

	* src/main.c: No need to use strdup(Concat()) as Concat already
	gives us allocated memory that is not referenced anywhere else.

2006-03-27   Dan McMahill * dan AT mcmahill dot net *

	* src/file.c: Fix an off by one overflow of a malloc'ed buffer.
	Found with ElectricFence.

2006-03-27   Dan McMahill * dan AT mcmahill dot net *

	* src/misc.c: in a function which is supposed to return a string but
	is commented out with #ifdef FIXME, return a big warning string
	rather than no return value until I/we figure out how to fix it.
	Hopefully if this triggers bugs it will be easier to locate.

2006-03-27   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac: add back in the --enable-efence and
	--enable-dmalloc configure flags to turn on ElectricFence and
	dmalloc debugging respectively.

2006-03-27   DJ Delorie * dj AT delorie dot com *

	* src/action.c, src/command.c, src/djopt.c, src/hid.h,
	src/hid/common/actions.c, src/hid/gtk/gtkhid-main.c,
	src/hid/gtk/gui-netlist-window.c, src/hid/gtk/gui-top-window.c,
	src/hid/lesstif/dialogs.c, src/hid/lesstif/library.c,
	src/hid/lesstif/main.c, src/hid/lesstif/menu.c,
	src/hid/lesstif/netlist.c, src/hid/lesstif/styles.c, src/netlist.c,
	src/puller.c, src/report.c, src/vendor.c: hid actions: remove
	needs_coords, use need_coord_msg to determine when to get coords.

2006-03-27   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-top-window.c, src/hid/gtk/gui-utils.c: Make sure
	we initialize some variables before using them.  Fixes a segfault on
	startup problem noted on NetBSD/alpha when displaying to an 8-bit
	Xvnc.

2006-03-27   Bill Wilson * billw2 AT users dot sourceforge dot net *

	* src/hid/gtk/gtkhid-main.c: I wrapped too much into the verbose
	option so the file load stopped working - fixed.

2006-03-26   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac: bump the rev letter to help identify this
	as the HID version if someone pulls up the "about" dialog box.

2006-03-26   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gtkhid-main.c: - Remove a debug printf which tried to print a NULL string.  Avoids
	a segfault bug.  - When chosing "Save Layout" on a new layout (that hadn't already
	been given a name or filename), correctly use the new file name that
	is selected with the dialog box.

2006-03-26   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/lesstif/dialogs.c: - remove a debug printf which was trying to print a NULL string.
	  Fixes a segfault bug on solaris-2.9/sparc.  - Fix the behaviour when doing "Save Layout" on a new board that   didn't have a file name yet.

2006-03-26   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/lesstif/main.c: add a --listen option for the lesstif HID
	too (works the same as the gtk one -- listens on stdin for actions).

2006-03-26   Bill Wilson * billw2 AT users dot sourceforge dot net *

	* src/hid/gtk/gui-netlist-window.c, src/hid/gtk/gui-output-events.c: 
	Pan to a netlist window selected node if it's not visible.  Fix a pan bug.

2006-03-25   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-netlist-window.c: add cast to avoid compiler
	warnings

2006-03-25   DJ Delorie * dj AT delorie dot com *

	* src/action.c, src/hid/gtk/gui-top-window.c, src/pcb-menu.res: Add
	File->Revert.

2006-03-25   Bill Wilson * billw2 AT users dot sourceforge dot net *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-netlist-window.c: Turn
	of Disable all nets button when NetlistChanged.  Make some diagnostic output only if verbose.

2006-03-25   Bill Wilson * billw2 AT users dot sourceforge dot net *

	* src/hid/gtk/gui-netlist-window.c: Set netlist nodes enabled by
	default when NetlistChanged.

2006-03-25   Bill Wilson * billw2 AT users dot sourceforge dot net *

	* src/hid/gtk/gtkhid-main.c: Fix draw arc when flipped.

2006-03-25   Dan McMahill * dan AT mcmahill dot net *

	* doc/actions.texi, doc/fractional_size.texi, doc/letter_size.texi,
	doc/metric_size.texi, doc/overview.texi, doc/pcbfile.texi,
	doc/wire_size.texi: add some of the generated files to see if that
	will help with those who don't read the README.cvs file...

2006-03-25   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-top-window.c: use fileno(stdin) instead of 1 to
	get the stdin file descriptor.

2006-03-25   Dan McMahill * dan AT mcmahill dot net *

	* src/drill.c: fix a segfault when printing a board with no drill
	holes at all.

2006-03-25   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-top-window.c: add a --listen option which causes
	pcb to listen on the standard input for actions.  This should open
	the door to experimenting with having gschem interact directly with
	pcb.

2006-03-25   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-config.c: Fix a bug in options parsing where the
	loop looking for matches continued after a match had already been
	found.

2006-03-25   Dan McMahill * dan AT mcmahill dot net *

	* src/main.c: add a help string for --lib-newlib

2006-03-25   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.am, doc/Makefile.in: minor cleanup of status output

2006-03-24   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/menu.c: Also look for ~/.pcb/pcb-menu.res.
	Actually use the path we found ;-)

2006-03-24   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac: List the available HID's in the
	./configure --help output.  Ideally, we'd have the help text be
	automatic, but until we figure out how, just statically list the HID
	(in the help text)

2006-03-24   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.in, README_FILES/Makefile.in, config.h.in, configure,
	doc/Makefile.in, example/Makefile.in,
	example/libraries/Makefile.in, lib/Makefile.in,
	newlib/2_pin_thru-hole_packages/Makefile.in, newlib/Makefile.in,
	newlib/analog-devices/Makefile.in, newlib/burr-brown/Makefile.in,
	newlib/connectors/Makefile.in, newlib/crystal/Makefile.in,
	newlib/cypress/Makefile.in, newlib/electro-optics/Makefile.in,
	newlib/generic_SMD_packages/Makefile.in,
	newlib/headers/Makefile.in, newlib/msp430/Makefile.in,
	newlib/not_vetted_ingo/Makefile.in, newlib/sockets/Makefile.in,
	newlib/tests/Makefile.in, newlib/toko/Makefile.in, src/Makefile.in,
	src/icons/Makefile.in, src/script/Makefile.in, tools/Makefile.in,
	tutorial/Makefile.in: regen

2006-03-24   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.am, README.cvs, configure.ac, doc/Makefile.am: - when not in maintainer mode, do not list all the dependencies for
	  the manual.  This allows regular users who are building from a
	  tarball to avoid having to rebuild the manual and lets them simply
	  take the preformatted one.  This avoids recently noted issues with
	  incompatibility with older versions of texinfo which seem somewhat
	  common.  It also removes the requirement for having latex installed
	  and for building the png HID for pcb.  - add a --disable-doc flag which allows users who are building from
	  CVS to skip the doc directory and thus avoid the need for the
	  documentation formatting tools.

2006-03-24   Dan McMahill * dan AT mcmahill dot net *

	* README.snapshots: note the DISTCHECK_CONFIGURE_FLAGS variable

2006-03-24   Bill Wilson * billw2 AT users dot sourceforge dot net *

	* src/hid/gtk/gui-top-window.c: Fix gtk magenta color messages ->
	initialize all new hidGC colornames to Settings.BackgroundColor
	because bgGC color outside of ghid_expose_callback() is never
	initialized and it's used to draw outside of the callback when an
	object is selected.

2006-03-24   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.am, doc/Makefile.in: Fix the calculation of the names
	of the generated .texi tables for the drill sizes.

2006-03-24   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.in, README_FILES/Makefile.in, aclocal.m4,
	doc/Makefile.in, doc/pad.eps, example/Makefile.in,
	example/libraries/Makefile.in, lib/Makefile.in,
	newlib/2_pin_thru-hole_packages/Makefile.in, newlib/Makefile.in,
	newlib/analog-devices/Makefile.in, newlib/burr-brown/Makefile.in,
	newlib/connectors/Makefile.in, newlib/crystal/Makefile.in,
	newlib/cypress/Makefile.in, newlib/electro-optics/Makefile.in,
	newlib/generic_SMD_packages/Makefile.in,
	newlib/headers/Makefile.in, newlib/msp430/Makefile.in,
	newlib/not_vetted_ingo/Makefile.in, newlib/sockets/Makefile.in,
	newlib/tests/Makefile.in, newlib/toko/Makefile.in,
	src/icons/Makefile.in, src/script/Makefile.in, tools/Makefile.in,
	tutorial/Makefile.in: regen after configure.ac changes

2006-03-24   Dan McMahill * dan AT mcmahill dot net *

	* autogen.sh: don't automatically run ./configure.  Simplifies
	things a bit when trying to have several different builds share the
	same source tree.

2006-03-24   Dan McMahill * dan AT mcmahill dot net *

	* doc/extract-docs: put the generated files in the build directory
	instead of the source directory (in case they are not the same)

2006-03-24   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.am, doc/Makefile.in: Rework the dependencies on the
	various generated files a bit to hopefully correctly include all
	dependencies.  Also allow this to continue and just use the shipped
	preformatted docs in the case where latex and friends are not
	available.

2006-03-24   Dan McMahill * dan AT mcmahill dot net *

	* src/pcbtest.sh.in: correctly find the font file correctly find the
	m4lib stuff when building outside the source tree.

2006-03-24   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac, lib/ListLibraryContents.sh,
	lib/ListLibraryContents.sh.in: move ListLibraryContents.sh to being
	something created at configure time like the rest of the m4lib
	stuff.  This puts it in the build directory and allows you to run
	pcb out of the build directory prior to installation even in the
	case of a read only source tree.  While here add some
	AM_CONDITIONALS to indicate when latex and friends are not available
	for formating the reference card.

2006-03-24   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.am, src/Makefile.in: add missing lesstif header to
	get it in the distfile

2006-03-23   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/png/png.c: fix a bug when specifying the output file name

2006-03-23   Dan McMahill * dan AT mcmahill dot net *

	* src/pcbtest.sh.in: also set the font path

2006-03-23   Dan McMahill * dan AT mcmahill dot net *

	* src/pcbtest.sh.in: fix a couple of paths when building outside the
	source directory

2006-03-23   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/lesstif/main.c, src/hid/lesstif/menu.c: avoid some
	compiler warnings on solaris-2.9/sparc (gcc-3.3.5)

2006-03-23   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/lesstif/main.c: check the result of the --install options
	_after_ the options have been processed.  Thanks to DJ for finding
	this one.

2006-03-23   DJ Delorie * dj AT delorie dot com *

	* src/Makefile.am, src/Makefile.in: Change the way we handle built
	include files.

2006-03-23   Dan McMahill * dan AT mcmahill dot net *

	* src/strflags.c: avoid some compiler warnings on solaris-2.9/sparc
	(gcc-3.3.5)

2006-03-23   Bill Wilson * billw2 AT users dot sourceforge dot net *

	* src/hid/gtk/gui-config.c, src/hid/gtk/gui-top-window.c: 
	ghid_invalidate_all() when colors change.

2006-03-23   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/common/actions.c, src/misc.c, src/mymem.c: avoid some
	compiler warnings on solaris-2.9/sparc (gcc-3.3.5)

2006-03-23   Bill Wilson * billw2 AT users dot sourceforge dot net *

	* src/hid/gtk/gtkhid-main.c, src/hid/gtk/gui-output-events.c: Fix a
	zoom glitch.

2006-03-23   Dan McMahill * dan AT mcmahill dot net *

	* src/file.c: avoid some complier warnings on solaris-2.9/sparc
	(gcc-3.3.5)

2006-03-23   DJ Delorie * dj AT delorie dot com *

	* src/drill.c, src/drill.h, src/hid/gerber/gerber.c, src/print.c: 
	Round drill sizes to nearest mil for fab drawings and gerber drill
	file.

2006-03-23   DJ Delorie * dj AT delorie dot com *

	* src/mtspace.c: Avoid aliasing problems.

2006-03-23   Dan McMahill * dan AT mcmahill dot net *

	* src/pcbtest.sh.in: add some missing arguments when running in gdb

2006-03-23   Dan McMahill * dan AT mcmahill dot net *

	* src/main.c: don't include the full path for the default value of
	the LibraryCommand and LibraryContentsCommand.  That prevented
	--lib-command-dir from working.

2006-03-23   DJ Delorie * dj AT delorie dot com *

	* src/undo.c: Use void * pointers to avoid aliasing problems.

2006-03-23   DJ Delorie * dj AT delorie dot com *

	* src/search.c: Use explicit void** pointers to avoid aliasing
	problems.

2006-03-23   DJ Delorie * dj AT delorie dot com *

	* src/hid/gerber/gerber.c, src/hid/lesstif/dialogs.c,
	src/hid/lesstif/lesstif.h, src/hid/lesstif/main.c,
	src/hid/lesstif/menu.c, src/hid/lesstif/netlist.c,
	src/hid/lesstif/styles.c: Misc bugfixes and changes, to silence
	compiler warnings.

2006-03-23   DJ Delorie * dj AT delorie dot com *

	* src/mymem.c, src/mymem.h: MyCalloc, MyRealloc, MyStrdup: make
	final parameter (tag string) const, to avoid compiler warnings.

2006-03-23   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c: fix the ChangeFlag action (compiler warning pointed
	to the bug)

2006-03-23   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.am, src/Makefile.in: quote the regexp passed to grep
	to keep solaris-2.9 happy

2006-03-23   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/main.c: Don't try to run the idle proc until the
	GUI is created.

2006-03-23   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c, src/command.c, src/djopt.c, src/dolists.h,
	src/flags.c, src/hid.h, src/hid/gtk/gtkhid-main.c,
	src/hid/gtk/gui-netlist-window.c, src/hid/gtk/gui-top-window.c,
	src/hid/lesstif/dialogs.c, src/hid/lesstif/library.c,
	src/hid/lesstif/main.c, src/hid/lesstif/netlist.c,
	src/hid/lesstif/styles.c, src/hid/png/png.c, src/hid/ps/eps.c,
	src/hid/ps/ps.c, src/main.c, src/netlist.c, src/puller.c,
	src/report.c, src/vendor.c: Revert the ";" thing.  The REGISTER_*
	macros now contain ";" where needed and a ";" should not be used
	when the macros are called.   This is because the REGISTER_* macros
	in hid.h expand to a function like int foo(){/* code here */} where
	no ";" should be used at the end.  gcc ignores the resulting empty
	declaration but the sunpro c compiler doesn't like it.

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c, src/action.h, src/actionlist.c, src/autoplace.c,
	src/autoplace.h, src/autoroute.c, src/autoroute.h, src/box.h,
	src/buffer.c, src/buffer.h, src/change.c, src/change.h, src/clip.c,
	src/clip.h, src/command.c, src/command.h, src/compat.c,
	src/compat.h, src/const.h, src/copy.c, src/copy.h, src/create.c,
	src/create.h, src/crosshair.c, src/crosshair.h, src/data.c,
	src/data.h, src/dev_ps.c, src/dev_ps.h, src/dev_rs274x.c,
	src/dev_rs274x.h, src/djopt.c, src/djopt.h, src/dolists.h,
	src/draw.c, src/draw.h, src/drill.c, src/drill.h, src/error.c,
	src/error.h, src/file.c, src/file.h, src/find.c, src/find.h,
	src/flags.c, src/global.h, src/heap.c, src/heap.h, src/hid.h,
	src/hid/hidint.h, src/hid/lesstif/dialogs.c,
	src/hid/lesstif/lesstif.h, src/hid/lesstif/library.c,
	src/hid/lesstif/main.c, src/hid/lesstif/menu.c,
	src/hid/lesstif/netlist.c, src/hid/lesstif/styles.c,
	src/hid/lpr/lpr.c, src/hid/png/png.c, src/hid/png/png.h,
	src/hid/ps/eps.c, src/hid/ps/ps.c, src/hid/ps/ps.h,
	src/icons/Makefile.in, src/insert.c, src/insert.h, src/intersect.c,
	src/intersect.h, src/line.c, src/macro.h, src/main.c, src/mirror.c,
	src/mirror.h, src/misc.c, src/misc.h, src/move.c, src/move.h,
	src/mtspace.c, src/mtspace.h, src/mymem.c, src/mymem.h,
	src/netlist.c, src/output.c, src/output.h, src/parse_l.h,
	src/polygon.c, src/polygon.h, src/print.c, src/print.h,
	src/puller.c, src/rats.c, src/rats.h, src/remove.h, src/report.c,
	src/resource.h, src/rotate.c, src/rotate.h, src/rtree.c,
	src/rtree.h, src/rubberband.c, src/rubberband.h,
	src/script/Makefile.in, src/search.c, src/search.h, src/select.c,
	src/select.h, src/set.c, src/set.h, src/strflags.c, src/strflags.h,
	src/undo.c, src/undo.h, src/vector.c, src/vector.h, src/vendor.c,
	src/vendor.h: indent

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/bom/bom.c, src/hid/common/actions.c,
	src/hid/common/extents.c, src/hid/common/flags.c,
	src/hid/common/hidinit.c, src/hid/common/hidnogui.c,
	src/hid/gerber/gerber.c, src/hid/gtk/gtkhid-main.c,
	src/hid/gtk/gtkhid.h, src/hid/gtk/gui-command-window.c,
	src/hid/gtk/gui-config.c, src/hid/gtk/gui-dialog-print.c,
	src/hid/gtk/gui-dialog-size.c, src/hid/gtk/gui-dialog.c,
	src/hid/gtk/gui-keyref-window.c, src/hid/gtk/gui-library-window.c,
	src/hid/gtk/gui-log-window.c, src/hid/gtk/gui-misc.c,
	src/hid/gtk/gui-netlist-window.c, src/hid/gtk/gui-output-events.c,
	src/hid/gtk/gui-pinout-window.c, src/hid/gtk/gui-top-window.c,
	src/hid/gtk/gui-utils.c, src/hid/gtk/gui.h: indent

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c, src/command.c, src/djopt.c, src/dolists.h,
	src/flags.c, src/hid.h, src/hid/gtk/gtkhid-main.c,
	src/hid/gtk/gui-netlist-window.c, src/hid/gtk/gui-top-window.c,
	src/hid/lesstif/dialogs.c, src/hid/lesstif/library.c,
	src/hid/lesstif/main.c, src/hid/lesstif/menu.c,
	src/hid/lesstif/netlist.c, src/hid/lesstif/styles.c,
	src/hid/png/png.c, src/hid/ps/eps.c, src/hid/ps/ps.c, src/main.c,
	src/netlist.c, src/puller.c, src/report.c, src/vendor.c: Take the
	";" out of the REGISTER_* defines and put them in the invocations.
	This will let indent work correctly.

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c, src/command.c, src/crosshair.c, src/draw.c,
	src/main.c, src/misc.c, src/polygon.c, src/polygon.h, src/puller.c,
	src/rats.c: fix several more compiler warnings by removing some
	unused variables and adding/removing return values where
	appropriate.

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-icons-mode-buttons.data,
	src/hid/gtk/gui-top-window.c, src/hid/ps/eps.c: remove more compiler
	warnings

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/lpr/lpr.c: add missing member to the lpr_hid
	initialization

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* src/file.c: remove unused variable

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* src/misc.c: add missing header

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/common/flags.c: remove an unused variable

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/common/hidnogui.c: remove compiler warning

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* src/vendor.c: remove unused variable

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* src/report.c: format string fix

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* src/puller.c: add a couple of missing headers

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* src/print.c: add missing draw.h header

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* src/flags.c: add RCSID and dmalloc.h

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* src/flags.c: remove a spurious ";"

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gerber/gerber.c: remove unused variable

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-misc.c: remove a duplicate header and Id

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/lesstif/lesstif.h: add RCS Id

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/lesstif/dialogs.c, src/hid/lesstif/library.c,
	src/hid/lesstif/main.c, src/hid/lesstif/menu.c,
	src/hid/lesstif/netlist.c, src/hid/lesstif/styles.c: add config.h,
	dmalloc.h, and RCS Id

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/gtk/gui-misc.c: add dmalloc.h

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/hidint.h: add RCS Id

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/common/actions.c, src/hid/common/extents.c,
	src/hid/common/flags.c, src/hid/common/hidinit.c,
	src/hid/common/hidnogui.c, src/hid/gerber/gerber.c,
	src/hid/lpr/lpr.c: add config.h, dmalloc.h, and RCS Id

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/ps/eps.c, src/hid/ps/ps.c, src/hid/ps/ps.h: remove
	compiler warning and add config.h, dmalloc.h, and RCS Id

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/png/png.c: remove a compiler warning

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/bom/bom.c: add missing header

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.am, src/Makefile.in: add the generated headers to
	DISTCLEANFILES and add a bunch of missing headers to the various
	*_SOURCES.  With this change, the 'distcheck' target works again.

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* configure: regen

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: add $srcdir in a couple of places for configuring
	outside of the source directory.

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* src/dolists.h: add missing RCS Id

2006-03-22   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac, doc/Makefile.am, doc/Makefile.in,
	doc/pad.eps, doc/pad.obj: Replace the tgif drawing with a pcb
	drawing.  The suffix rules are now in place to use .pcb files as
	part of the manual.

2006-03-21   DJ Delorie * dj AT delorie dot com *

	* src/hid/lpr/lpr.c: Call lpr, don't just save the file.

2006-03-21   DJ Delorie * dj AT delorie dot com *

	* src/hid/lesstif/library.c: Remove a debug printf.

2006-03-21   DJ Delorie * dj AT delorie dot com *

	* src/action.c, src/file.c, src/main.c, src/misc.h, src/set.c,
	src/set.h: Remove UpdateSettingsOnScreen.  Call InitCrosshair only
	for GUIs.

2006-03-21   Dan McMahill * dan AT mcmahill dot net *

	* doc/pad.pcb: correctly identify the poly clearance

2006-03-21   Dan McMahill * dan AT mcmahill dot net *

	* configure, doc/Makefile.in: regen

2006-03-21   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac, doc/Makefile.am: detect when tgif is not found and
	give a warning instead of crashing the build

2006-03-21   Dan McMahill * dan AT mcmahill dot net *

	* doc/pad.eps: include the tgif output here until I replace the
	drawings with pcb drawings

2006-03-21   Dan McMahill * dan AT mcmahill dot net *

	* doc/pad.pcb: improve this drawing a bit

2006-03-21   Dan McMahill * dan AT mcmahill dot net *

	* src/hid/bom/bom.c: Use log() instead of logv().  Fixes compilation
	on NetBSD/alpha, gcc-3.3.3

2006-03-21   DJ Delorie * dj AT delorie dot com *

	* compile: New file, from automake 1.9.

2006-03-21   DJ Delorie * dj AT delorie dot com *

	* depcomp, doc/mdate-sh, doc/texinfo.tex, install-sh, missing,
	mkinstalldirs, ylwrap: Update to automake 1.9 files.

2006-03-21   DJ Delorie * dj AT delorie dot com *

	* Makefile.in, README_FILES/Makefile.in, aclocal.m4, config.h.in,
	configure, doc/Makefile.in, example/Makefile.in,
	example/libraries/Makefile.in, lib/Makefile.in,
	newlib/2_pin_thru-hole_packages/Makefile.in, newlib/Makefile.in,
	newlib/analog-devices/Makefile.in, newlib/burr-brown/Makefile.in,
	newlib/connectors/Makefile.in, newlib/crystal/Makefile.in,
	newlib/cypress/Makefile.in, newlib/electro-optics/Makefile.in,
	newlib/generic_SMD_packages/Makefile.in,
	newlib/headers/Makefile.in, newlib/msp430/Makefile.in,
	newlib/not_vetted_ingo/Makefile.in, newlib/sockets/Makefile.in,
	newlib/tests/Makefile.in, newlib/toko/Makefile.in, src/Makefile.in,
	src/icons/Makefile.in, src/script/Makefile.in, tools/Makefile.in,
	tutorial/Makefile.in: regenerate everything with FC4.

2006-03-21   DJ Delorie * dj AT delorie dot com *

	* config.h.in, configure, configure.ac, src/Makefile.am,
	src/Makefile.in, src/Pcb.ad.in, src/action.c, src/action.h,
	src/autoplace.c, src/autoroute.c, src/buffer.c, src/change.c,
	src/command.c, src/command.h, src/const.h, src/control.c,
	src/control.h, src/copy.c, src/create.c, src/create.h,
	src/crosshair.c, src/data.c, src/data.h, src/dialog.c,
	src/dialog.h, src/djopt.c, src/djopt.h, src/dolists.h, src/draw.c,
	src/draw.h, src/error.c, src/file.c, src/fileselect.c,
	src/fileselect.h, src/find.c, src/find.h, src/flags.c,
	src/global.h, src/gui-command-window.c, src/gui-config.c,
	src/gui-dialog-print.c, src/gui-dialog-size.c, src/gui-dialog.c,
	src/gui-icons-misc.data, src/gui-icons-mode-buttons.data,
	src/gui-keyref-window.c, src/gui-library-window.c,
	src/gui-log-window.c, src/gui-misc.c, src/gui-netlist-window.c,
	src/gui-output-events.c, src/gui-pinout-window.c,
	src/gui-top-window.c, src/gui-utils.c, src/gui.c, src/gui.h,
	src/heap.c, src/hid.h, src/hid/bom/bom.c, src/hid/bom/hid.conf,
	src/hid/common/actions.c, src/hid/common/extents.c,
	src/hid/common/flags.c, src/hid/common/hidinit.c,
	src/hid/common/hidnogui.c, src/hid/gerber/gerber.c,
	src/hid/gerber/hid.conf, src/hid/gtk/gtkhid-main.c,
	src/hid/gtk/gtkhid.h, src/hid/gtk/gui-command-window.c,
	src/hid/gtk/gui-config.c, src/hid/gtk/gui-dialog-print.c,
	src/hid/gtk/gui-dialog-size.c, src/hid/gtk/gui-dialog.c,
	src/hid/gtk/gui-icons-misc.data,
	src/hid/gtk/gui-icons-mode-buttons.data,
	src/hid/gtk/gui-keyref-window.c, src/hid/gtk/gui-library-window.c,
	src/hid/gtk/gui-log-window.c, src/hid/gtk/gui-misc.c,
	src/hid/gtk/gui-netlist-window.c, src/hid/gtk/gui-output-events.c,
	src/hid/gtk/gui-pinout-window.c, src/hid/gtk/gui-top-window.c,
	src/hid/gtk/gui-utils.c, src/hid/gtk/gui.h, src/hid/gtk/hid.conf,
	src/hid/hidint.h, src/hid/lesstif/dialogs.c,
	src/hid/lesstif/hid.conf, src/hid/lesstif/lesstif.h,
	src/hid/lesstif/library.c, src/hid/lesstif/main.c,
	src/hid/lesstif/menu.c, src/hid/lesstif/netlist.c,
	src/hid/lesstif/styles.c, src/hid/lpr/hid.conf, src/hid/lpr/lpr.c,
	src/hid/png/hid.conf, src/hid/png/png.c, src/hid/png/png.h,
	src/hid/ps/eps.c, src/hid/ps/hid.conf, src/hid/ps/ps.c,
	src/hid/ps/ps.h, src/insert.c, src/intersect.c, src/lgdialog.c,
	src/lgdialog.h, src/library.c, src/library.h, src/line.c,
	src/log.c, src/log.h, src/macro.h, src/main.c, src/menu.c,
	src/menu.h, src/misc.c, src/misc.h, src/move.c, src/mtspace.c,
	src/mymem.c, src/mymem.h, src/netlist.c, src/netlist.h,
	src/output.c, src/output.h, src/parse_l.l, src/parse_y.y,
	src/pcb-menu.res, src/pcbtest.sh.in, src/pinout.c, src/pinout.h,
	src/polygon.c, src/print.c, src/print.h, src/printdialog.c,
	src/printdialog.h, src/printpanner.c, src/printpanner.h,
	src/puller.c, src/rats.c, src/report.c, src/report.h,
	src/res_lex.l, src/res_parse.y, src/resmenu.c, src/resmenu.h,
	src/rotate.c, src/rtree.c, src/search.c, src/select.c,
	src/selector.c, src/selector.h, src/set.c, src/set.h,
	src/sizedialog.c, src/sizedialog.h, src/strflags.c, src/todo,
	src/undo.c, src/undo.h, src/vector.c, src/vendor.c, src/vendor.h: 
	HID merge.

2006-03-21   Dan McMahill * dan AT mcmahill dot net *

	* README.cvs_branches: note what some of the branches are

2006-03-21   Dan McMahill * dan AT mcmahill dot net *

	* README.snapshots: add a few more notes about the snapshot process

2006-03-21   Dan McMahill * dan AT mcmahill dot net *

	* README_FILES/Makefile.in, aclocal.m4, example/Makefile.in,
	example/libraries/Makefile.in,
	newlib/2_pin_thru-hole_packages/Makefile.in, newlib/Makefile.in,
	newlib/analog-devices/Makefile.in, newlib/burr-brown/Makefile.in,
	newlib/connectors/Makefile.in, newlib/crystal/Makefile.in,
	newlib/cypress/Makefile.in, newlib/electro-optics/Makefile.in,
	newlib/generic_SMD_packages/Makefile.in,
	newlib/headers/Makefile.in, newlib/msp430/Makefile.in,
	newlib/not_vetted_ingo/Makefile.in, newlib/sockets/Makefile.in,
	newlib/tests/Makefile.in, newlib/toko/Makefile.in,
	src/icons/Makefile.in, src/script/Makefile.in, tools/Makefile.in: 
	regen

2006-03-21   Dan McMahill * dan AT mcmahill dot net *

	* NEWS: add news for the 20060321 snapshot

2006-03-21   Dan McMahill * dan AT mcmahill dot net *

	* AUTHORS: update authors a bit

2006-03-21   Dan McMahill * dan AT mcmahill dot net *

	* ChangeLog: update with changes for 20060321 snapshot.

2006-03-21   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.in, tutorial/Makefile.in: regen

2006-03-21   Dan McMahill * dan AT mcmahill dot net *

	* doc/version.texi: bump updated date

2006-03-21   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.in: regen

2006-03-21   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.am: Minor updates to fix the 'distcheck' target.
	Adds a missing file (extract-docs) to the list of distributed files, uses $(srcdir) in a
	couple of spots, etc.

2006-03-20   Dan McMahill * dan AT mcmahill dot net *

	* configure: regen

2006-03-20   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: - replace obsolete AC_ERROR with AC_MSG_ERROR - store the path to the m4 executible

2006-03-16   DJ Delorie * dj AT delorie dot com *

	* src/parse_y.y: Document ElementArc, ElementLine, and Mark.

2006-03-14   Dan McMahill * dan AT mcmahill dot net *

	* doc/pad.pcb: add drawing of soldermask opening around a pad

2006-03-14   Dan McMahill * dan AT mcmahill dot net *

	* lib/QueryLibrary.sh.in, lib/common.m4: add an optional -fp
	argument which will display the correct footprint= attribute for
	gschem.  Generally useful for debugging.

2006-03-14   Dan McMahill * dan AT mcmahill dot net *

	* lib/pci.inc, lib/pci.list, lib/pci.m4: Remove the abuse of the
	value field as a way of passing in multiple extra parameters.  While
	here fix the pinlists.  These footprints still have diagonal pads
	which are not allowed.

2006-03-14   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.in, src/Makefile.in: regen

2006-03-14   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.am, lib/genericsmt.inc, lib/genericsmt.list,
	lib/genericsmt.m4: garbage collect some footprints that were not at
	all conforming to the correct usage of the m4 library system.  In
	addition, they were rather redundant.

2006-03-13   Dan McMahill * dan AT mcmahill dot net *

	* lib/CreateLibraryContents.sh.in: put the correct gschem footprint=
	attribute in [] at the end of each description

2006-03-12   DJ Delorie * dj AT delorie dot com *

	* doc/extract-docs: New file, for extracting inline documentation.

2006-03-12   Dan McMahill * dan AT mcmahill dot net *

	* lib/QueryLibrary.sh.in: eat blank lines of which there can be many
	in the element output

2006-03-11   DJ Delorie * dj AT delorie dot com *

	* doc/Makefile.am, doc/Makefile.in, doc/pcb.css, doc/pcb.texi,
	src/const.h, src/parse_y.y: Inline documentation.

2006-03-11   DJ Delorie * dj AT delorie dot com *

	* src/action.c, src/change.c, src/change.h: Add "join" to SetFlag,
	ClrFlag, and ChangeFlag actions.

2006-03-08   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/autoroute.c: Fixed bug where pads were assumed to be on the
	same side as the element

	----------------------------------------------------------------------

2006-03-08   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/crosshair.c: Crosshair snap to pad ends instead of center -
	necessary for rat drawing because rats only connect at pad end
	points.

	----------------------------------------------------------------------

2006-03-06   DJ Delorie * dj AT delorie dot com *

	* src/print.c: Fab author fixes from Karel.

2006-03-06   Dan McMahill * dan AT mcmahill dot net *

	* src/parse_y.y: Fix reduce-reduce conflicts (patch from DJ).

2006-03-03   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: - clarify that the manual does not currently document the very
	  latest pcb output file format.  - add a (sparsely populated) glossary appendix - add a note about how to change layers

2006-03-03   Dan McMahill * dan AT mcmahill dot net *

	* globalconst.h, src/action.c, src/create.c, src/file.c,
	src/find.c, src/global.h, src/gui-config.c, src/parse_y.y,
	src/rotate.c, src/sizedialog.c, src/vendor.c: add DRC checks for
	minimum drill diameter and minimum annular ring.

2006-03-02   Dan McMahill * dan AT mcmahill dot net *

	* src/rats.c: When manually adding nets, make sure we actually pick
	a unique name when a new net is created.  Fixes a bug noted by
	Vanessa Dannenberg.

2006-02-28   Dan McMahill * dan AT mcmahill dot net *

	* doc/pad.pcb: Add a pad drawing showing how a pad is drawn with a
	rectangular aperture.  Not used yet, but this will replace the tgif
	drawing at some point.

2006-01-29   Dan McMahill * dan AT mcmahill dot net *

	* src/error.c: apply some fixes for DragonFly BSD

2006-01-18   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c: format cleanup of ActionChangePinName() to bring
	more in line with GNU coding standards for C code formatting.

2006-01-17   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: document ChangePinName action

2006-01-17   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c, src/action.h, src/command.c: add a ChangePinName()
	action which lets you change the name of a pin/pad on an element.
	For example, ChangePinName(U1, 7, VCC) changes the name of pin #7 on
	U1 to "VCC".  This makes it simple to propagate pin names from a
	schematic capture tool to the layout without requiring the layout
	library to know the pin names for every component.

2006-01-16   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/buffer.c, src/copy.c, src/create.c, src/draw.c, src/find.c,
	src/insert.c, src/move.c, src/mymem.c, src/parse_y.y,
	src/polygon.c, src/print.c, src/remove.c, src/report.c,
	src/search.c, src/select.c: Updated to use rtrees for polygon
	handling

2006-01-15   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/polygon.c: Fixed bugs in GetClosestPolygonPoint where (a) the
	passed point was not used, and (b) projection of the segment past
	the end was being used when it shouldn't.

	----------------------------------------------------------------------

2006-01-02   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/autoroute.c: Speed computation of route costs, it uses about
	13% of the CPU time during routing.

	----------------------------------------------------------------------

2006-01-02   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/rtree.c: Speed up the rtree searches by establishing better
	balance of the cluster size during a node split. This reduces the
	tree depth resulting in faster searching.

	----------------------------------------------------------------------

2006-01-02   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/strflags.c: Fixed clearline flag so that arcs also have this
	property

	----------------------------------------------------------------------

2006-01-02   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/change.c: Fixed bug where clearances could be set 1 below the
	spacing setting

	----------------------------------------------------------------------

2005-12-09   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.in: regen [put the html manual in 1 file]

2005-12-09   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.am: put the html manual in 1 file.  Its a bit easier
	to manage

2005-12-09   Dan McMahill * dan AT mcmahill dot net *

	* doc/version.texi: bump date last touched

2005-12-07   Dan McMahill * dan AT mcmahill dot net *

	* lib/smt.inc: cause the missing ) in PKG_SMT_2PAD_MM100 to appear

2005-12-06   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: - added the pad drawing showing how a pad is drawn with an aperture.  - added some comments about the evolving file format for layout
	files.

2005-12-02   Dan McMahill * dan AT mcmahill dot net *

	* src/create.c, src/global.h, src/gui-netlist-window.c, src/rats.c: 
	fix a bug which prevented disabling nets from the ratsnest

2005-12-02   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc: fix duplicate PKG_SME4 which should have been called
	 SME5.  Reported by Wojciech Kazubski in bug #1353304

2005-12-02   Dan McMahill * dan AT mcmahill dot net *

	* src/pcbtest.sh.in: Be sure to set the library path to the source
	tree.  Patch supplied by Wim Lewis in patch #1362564

2005-10-11   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc: redo the 0201, 0402, etc passives to bring them in
	line with the IPC recommendations.  The pads on, for example 0603,
	were too small before.  They worked, were really not adequate.

2005-10-11   Dan McMahill * dan AT mcmahill dot net *

	* lib/smt.inc: add a PKG_SMT_2PAD_MM100 which directly takes
	dimensions for the pads, silk, and placement courtyard from IPC-7351
	for things like 0402 capacitor and resistor footprints.

2005-09-06   Dan McMahill * dan AT mcmahill dot net *

	* autogen.sh: make this script a bit more verbose and also abort on
	errors

2005-09-06   Dan McMahill * dan AT mcmahill dot net *

	* configure: regen

2005-09-06   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: make sure to check for -lX11 even when we're using
	the gtk gui.  action.c still has a direct call to an X function
	(XWarpPointer) so on some systems (Solaris) you need to explicitly
	link -lX11 instead of getting it through the gtk dependencies

2005-08-05   Dan McMahill * dan AT mcmahill dot net *

	* configure: regen

2005-08-05   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: check for gtk+ >= 2.4.0 instead of 2.2.0 since we
	need >= 2.4.0

2005-08-05   Dan McMahill * dan AT mcmahill dot net *

	* src/script/Makefile.am, src/script/Makefile.in: add pcb-print to
	the list of distributed files

2005-08-05   Dan McMahill * dan AT mcmahill dot net *

	* src/script/pcb-print: fix a bug in the --add-alignment option.
	Noted by David Baird

2005-08-04   Dan McMahill * dan AT mcmahill dot net *

	* src/gui-library-window.c: fix -auto-place for the library window

2005-08-04   Dan McMahill * dan AT mcmahill dot net *

	* src/script/pcb-print: add script to make it easier to print from
	the command line

2005-08-04   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c, src/action.h, src/command.c, src/global.h,
	src/gui-library-window.c, src/gui-log-window.c,
	src/gui-netlist-window.c, src/gui-pinout-window.c,
	src/gui-top-window.c, src/main.c, src/misc.c,
	src/script/Makefile.am, src/script/Makefile.in: - change the Print action to PrintDialog since it causes the print   dialog box to come up - add a new Print action provided by David Baird as patch # 1212168.    Modified by me to work with the gtk version of pcb.  - to let this action work, allow actions to take a parameter list
	  and # of parameters to allow large numbers of arguments.  - modify the Quit action and some of the initialization code so that   you can use Quit() in a startup script.  - add a -auto-place command line option which causes the windows to
	  be automatically placed rather than letting the window manager do
	  it.  This is useful when printing via the command line.  - add a command line shell script for printing.  This is a wrapper
	  which takes a whole bunch of flags relating to the print parameters
	  and translates that to the correct invocation of the Print() action.    Shell script provided by David Baird as part of patch #1212168 and   modified by me to make it portable.

2005-07-31   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc: add 1008 package

2005-07-27   Dan McMahill * dan AT mcmahill dot net *

	* lib/bourns.inc: fix the pin order.

2005-07-24   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/gui-config.c: Fix initial layer groups so that layer named
	'component' is actually on the component side and layer named
	'solder' is actually on the solder side. Unfortunately the GTK
	version saves the old bug in the .pcb/preferences file so no
	patching will fix existing installations. They must manually edit
	the layer groups and check the "use as default" to fix their
	installation.

	----------------------------------------------------------------------

2005-07-23   Dan McMahill * dan AT mcmahill dot net *

	* aclocal.m4, configure: regen (fix botched commit which was missing
	some M4 paths)

2005-07-22   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi, doc/version.texi: add appendix describing the
	centroid file format along with the algorithm for finding the
	centroid and rotation.

2005-07-22   Dan McMahill * dan AT mcmahill dot net *

	* src/print.c: remove some redundant code to make things more clear

2005-07-18   Dan McMahill * dan AT mcmahill dot net *

	* lib/genericsmt.m4: fix typo

2005-07-18   Dan McMahill * dan AT mcmahill dot net *

	* aclocal.m4, configure: regen

2005-07-18   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac, src/vendor.c: add a check for sys/types.h and then
	if found, include in vendor.c.  Needed to build on FreeBSD.  Problem
	and fix reported in bug #1220963.

2005-07-18   Dan McMahill * dan AT mcmahill dot net *

	* lib/qfn.inc: hires-ify the QFN packages.  While here make sure we
	use an appropriate soldermask relief for this style of package.

2005-07-18   Dan McMahill * dan AT mcmahill dot net *

	* src/gui-dialog-print.c, src/gui-dialog-size.c, src/set.c: remove
	the inclusion of menu.h.  We don't use that file anymore and the
	only reason we could still build on some systems is we'd find the
	/usr/include/menu.h from curses!  Problem noted in bug #1226924 by
	Axeloide.

2005-07-18   Dan McMahill * dan AT mcmahill dot net *

	* doc/refcard.tex, src/gui-keyref-window.c, src/gui-output-events.c: 
	apply patches provided by Bill Wilson in patch #1230708.   Fix key bindings for drill size changes to be <mod>s  and <shift><mod>s to agree with the Xaw default key  bindings.   Add missing key bindings '/' and '.' for cycle  multiline mode and toggle 45 degree enforcement  respectively.   Fix refcard.tex to reflect the current set of key binding.   Now the gtk key bindings and the refcard should be in  sync and be the same as the default Xaw PCB bindings  with one exception: the buffer selection binding is  <control>1...5 instead of <shift>1...5. This can be  fixed but at the cost of removing the shortcuts from  the menus because gtk can't use <shift>digits as menu  shortcuts.

2005-07-18   Dan McMahill * dan AT mcmahill dot net *

	* INSTALL, NEWS, README-GTK_PORT: apply patches provided by Bill
	Wilson in patch #1230704  This patch adds a note to the README-GTK_PORT about  runtime warnings if using early gtk+2.4.0 versions.   It also makes small adjustments to the INSTALL file to  remove an outdated Xt reference and a non-existent  68HC11 file reference.   In addition, note that gtk+2.4 is needed, not gtk+2.2.

2005-07-18   Dan McMahill * dan AT mcmahill dot net *

	* src/global.h, src/gui-config.c, src/gui-top-window.c, src/gui.h: 
	apply patches provided by Bill Wilson in patch #1227292  As per a request on the gEDA list, this patch adds a  Preferences option to make the layout name appear on  the window title bar instead of on the main menu bar  area. This is convenient when the layout name might be  somewhat long and takes up too much horizontal space on  the menu bar area.

2005-07-18   Dan McMahill * dan AT mcmahill dot net *

	* src/file.c, src/gui-config.c, src/gui-top-window.c: apply patches
	 provided by Bill Wilson in patch #1227205 When loading layouts using
	 alternating mil/mm units, the PCB units displaying can get out of
	 sync. This patch fixes it.

2005-07-18   Dan McMahill * dan AT mcmahill dot net *

	* src/find.c, src/gui-utils.c: apply patches provided by Bill Wilson
	in patch #1215935 1) The DRC user interface issue has been reported on the gEDA
	mailing list and is listed on the PCB bugs page as request id
	1206762 dated 2005-05-23 01:29 and is fixed in this patch.  3) Fix a dangling DRC check g_message() which I overlooked fixing
	during the final Gtk port cleanup.  4) Adjust the DRC draw centering to be 1/4 screen offset since the
	continue dialog is centered (under window manager control) and that
	was covering up the DRC highlighted portion of the draw which was
	previously also centered.  2) The log window was not scrolling to keep most recent log items
	added in view and this patch fixes that.

2005-07-18   Dan McMahill * dan AT mcmahill dot net *

	* src/const.h, src/global.h, src/gui-netlist-window.c: apply the
	patches provided by Wim Lewis in patch #1189989 to allow pcb to
	compile more cleanly on OpenBSD.

2005-06-11   DJ Delorie * dj AT delorie dot com *

	* src/action.c, src/autoroute.c, src/buffer.c, src/change.c,
	src/const.h, src/copy.c, src/create.c, src/create.h,
	src/crosshair.c, src/data.h, src/dev_rs274x.c, src/djopt.c,
	src/draw.c, src/file.c, src/find.c, src/global.h,
	src/gui-top-window.c, src/insert.c, src/line.c, src/macro.h,
	src/misc.c, src/misc.h, src/move.c, src/mymem.c, src/parse_l.l,
	src/parse_y.y, src/polygon.c, src/print.c, src/rats.c,
	src/report.c, src/rotate.c, src/search.c, src/strflags.c,
	src/strflags.h, src/undo.c, src/undo.h: Update sources to support
	more than 8 layers.

2005-06-08   Dan McMahill * dan AT mcmahill dot net *

	* NEWS: add news for 20050609

2005-06-08   Dan McMahill * dan AT mcmahill dot net *

	* ChangeLog: add changes for 20050609

2005-06-08   Dan McMahill * dan AT mcmahill dot net *

	* globalconst.h: reduce minimum board size from 1.2 to 0.6 inches

2005-06-08   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.in: regen [add missing strflags.h]

2005-06-08   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.am: add missing strflags.h

2005-06-08   Dan McMahill * dan AT mcmahill dot net *

	* configure: regen

2005-06-08   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: make sure we still set the X library rpath (yes, it
	is still possible to use --disable-rpath debian folks).

2005-06-08   Dan McMahill * dan AT mcmahill dot net *

	* src/draw.c, src/global.h, src/gui-config.c,
	src/gui-output-events.c, src/gui-top-window.c, src/gui-utils.c,
	src/main.c: convert several c++ style comments to c comments.  not
	all compilers like //

2005-06-03   DJ Delorie * dj AT delorie dot com *

	* src/djopt.c: Avoid name conflict with abs/min/max

2005-05-26   Dan McMahill * dan AT mcmahill dot net *

	* configure: regen [error out if m4 not found]

2005-05-26   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: error out if m4 is not found

2005-03-28   DJ Delorie * dj AT delorie dot com *

	* src/strflags.c: Fix the "all pads are ovals" bug.

2005-03-21   DJ Delorie * dj AT delorie dot com *

	* src/strflags.c: Minor bugfixes related to error handling

2005-03-21   DJ Delorie * dj AT delorie dot com *

	* src/Makefile.am, src/Makefile.in, src/file.c, src/parse_y.y,
	src/strflags.c, src/strflags.h: When saving files, convert flags to
	symbolic format instead of storing the actual internal bitfield.

2005-03-21   DJ Delorie * dj AT delorie dot com *

	* src/const.h: Put parens around computed macros.  Use ~0 instead of
	-1 for "all bits".

2005-03-14   Dan McMahill * dan AT mcmahill dot net *

	* src/gui-icons-misc.data, src/gui-icons-mode-buttons.data: add some
	files missed in the gtk-pcb checkin

2005-03-13   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcbrc-sample, src/file.c, src/global.h, src/gui-config.c,
	src/gui-top-window.c, src/gui.h, src/main.c, src/misc.c,
	src/misc.h, src/pcbtest.sh.in: add some config file patches from
	Bill Wilson

2005-03-12   Dan McMahill * dan AT mcmahill dot net *

	* README-GTK_PORT, configure, configure.ac, doc/version.texi,
	globalconst.h, po/fr_FR.po, po/pcb.pot, src/Makefile.am,
	src/Makefile.in, src/Pcb.ad.in, src/action.c, src/action.h,
	src/autoplace.c, src/autoroute.c, src/buffer.c, src/change.c,
	src/clip.c, src/clip.h, src/command.c, src/command.h, src/const.h,
	src/create.c, src/crosshair.c, src/data.c, src/data.h,
	src/dev_ps.c, src/dev_rs274x.c, src/djopt.c, src/djopt.h,
	src/draw.c, src/draw.h, src/drill.c, src/error.c, src/error.h,
	src/file.c, src/file.h, src/find.c, src/global.h,
	src/gui-command-window.c, src/gui-config.c, src/gui-dialog-print.c,
	src/gui-dialog-size.c, src/gui-dialog.c, src/gui-keyref-window.c,
	src/gui-library-window.c, src/gui-log-window.c, src/gui-misc.c,
	src/gui-netlist-window.c, src/gui-output-events.c,
	src/gui-pinout-window.c, src/gui-top-window.c, src/gui-utils.c,
	src/gui.h, src/heap.c, src/insert.c, src/intersect.c, src/line.c,
	src/macro.h, src/main.c, src/menu.h, src/misc.c, src/misc.h,
	src/move.c, src/mtspace.c, src/mymem.c, src/output.c, src/output.h,
	src/parse_l.l, src/parse_y.y, src/pcb-menu.res, src/pcbtest.sh.in,
	src/polygon.c, src/print.c, src/rats.c, src/rats.h, src/report.c,
	src/res_parse.y, src/rotate.c, src/rtree.c, src/script/pcb.in,
	src/select.c, src/select.h, src/set.c, src/set.h, src/undo.c,
	src/vector.c, src/vendor.c, src/vendor.h: Import Bill Wilson's port
	of pcb to gtk.  Things seem to compile and run but this should be
	considered a work in progress at the moment.

2005-03-12   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.in: regen

2005-03-12   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.am: add a few missing files to EXTRA_DIST

2005-03-10   Dan McMahill * dan AT mcmahill dot net *

	* ChangeLog: update with latest changes

2005-03-10   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.in, README_FILES/Makefile.in, doc/Makefile.in,
	doc/version.texi, example/Makefile.in,
	example/libraries/Makefile.in, lib/Makefile.in,
	newlib/2_pin_thru-hole_packages/Makefile.in, newlib/Makefile.in,
	newlib/analog-devices/Makefile.in, newlib/burr-brown/Makefile.in,
	newlib/connectors/Makefile.in, newlib/crystal/Makefile.in,
	newlib/cypress/Makefile.in, newlib/electro-optics/Makefile.in,
	newlib/generic_SMD_packages/Makefile.in,
	newlib/headers/Makefile.in, newlib/msp430/Makefile.in,
	newlib/not_vetted_ingo/Makefile.in, newlib/sockets/Makefile.in,
	newlib/tests/Makefile.in, newlib/toko/Makefile.in, src/Makefile.in,
	src/icons/Makefile.in, src/script/Makefile.in, tools/Makefile.in,
	tutorial/Makefile.in: regen after adding gtk configure.ac stuff

2005-03-10   Dan McMahill * dan AT mcmahill dot net *

	* autogen.sh: use ACLOCAL_FLAGS if set

2005-03-10   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc, lib/misc.inc, lib/to.inc: add MULTIWATT and friends.
	Fix drill size for several versions of the TO-220 package, fix some
	bugs which caused several TO-220 packages and others to generate
	syntax errors, and fix the drill size on several TO-* packages.  You
	can't fit a 40 mil pin in a 20 mil hole!

2005-02-23   DJ Delorie * dj AT delorie dot com *

	* src/global.h, src/main.c, src/print.c: Allow FAB author name to be
	set by .Xdefaults

2005-02-10   Dan McMahill * dan AT mcmahill dot net *

	* src/action.h: add a few missing prototypes

2005-02-09   Dan McMahill * dan AT mcmahill dot net *

	* aclocal.m4: regen

2005-02-09   Dan McMahill * dan AT mcmahill dot net *

	* configure: regen after adding --enable-gtk and --disable-xaw

2005-02-09   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: add --enable-gtk and --disable-xaw configure flags
	which will turn on the configuring of gtk+ and turn off the
	configuring of Athena widgets respectively.  At this time the effect
	is that you will not be able to compile if you use these options.
	They are added to help support some gtk+ development work.

2005-02-02   Dan McMahill * dan AT mcmahill dot net *

	* src/data.c, src/dialog.c, src/printdialog.c: fix a segfault bug
	when using <Key>Up and <Key>Down to try and adjust the scale slider
	in the print dialog box.  While here fix up the print dialog box so
	that you can use the arrow keys to fine adjust the scale slider.
	Noted in bug #1111847 filed by Bob Paddock.

2005-02-02   Dan McMahill * dan AT mcmahill dot net *

	* src/rotate.c: fix a segfault bug on the pinout window (no null
	pointer dereference)

2005-02-02   Dan McMahill * dan AT mcmahill dot net *

	* src/Pcb.ad.in: change units to 1/100 mil for pinout window offset

2005-01-30   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc: Add DIP44.  Provided by Walter Fetter Lages in patch
	#1108881

2005-01-30   Dan McMahill * dan AT mcmahill dot net *

	* lib/misc.inc: fix drill size for ZIP packages.  Noted by Walter
	Fetter Lages in patch #1108881

2005-01-30   Dan McMahill * dan AT mcmahill dot net *

	* lib/connector.inc: fix drill size for PKG_BNC_LAY.  Provided by
	Walter Fetter Lages in patch #1108881

2005-01-30   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc: add TQFP packages provided by Walter Fetter Lages in
	patch #1108881.  More to come from that patch...

2005-01-29   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.in: regen

2005-01-29   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.am: add flag to keep building the html manual as a
	single page.  Having multiple pages seems to do strange things to
	the install.

2005-01-29   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.in: regen

2005-01-29   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.am: fix typo in target for creating texi files from
	the ascii list of drills

2005-01-29   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.in: regen

2005-01-29   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.am, doc/ascii2texi.awk, doc/fractional_size.tab,
	doc/letter_size.tab, doc/metric_size.tab, doc/pcb.texi,
	doc/wire_size.tab: add an appendix with a big list of drill sizes.
	Included are American Standard wire size, letter size, fractional
	size, and metric.

2005-01-27   Dan McMahill * dan AT mcmahill dot net *

	* NEWS: add news for snapshot 20050127

2005-01-27   Dan McMahill * dan AT mcmahill dot net *

	* ChangeLog: update to get ready for next snapshot

2005-01-27   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.in, README_FILES/Makefile.in, aclocal.m4,
	doc/Makefile.in, example/Makefile.in,
	example/libraries/Makefile.in, lib/Makefile.in,
	newlib/2_pin_thru-hole_packages/Makefile.in, newlib/Makefile.in,
	newlib/analog-devices/Makefile.in, newlib/burr-brown/Makefile.in,
	newlib/connectors/Makefile.in, newlib/crystal/Makefile.in,
	newlib/cypress/Makefile.in, newlib/electro-optics/Makefile.in,
	newlib/generic_SMD_packages/Makefile.in,
	newlib/headers/Makefile.in, newlib/msp430/Makefile.in,
	newlib/not_vetted_ingo/Makefile.in, newlib/sockets/Makefile.in,
	newlib/tests/Makefile.in, newlib/toko/Makefile.in, src/Makefile.in,
	src/icons/Makefile.in, src/script/Makefile.in, tools/Makefile.in,
	tutorial/Makefile.in: update to latest automake

2005-01-27   Dan McMahill * dan AT mcmahill dot net *

	* src/Pcb.ad.in, src/main.c: change pcb to Pcb in a commented out
	resource

2005-01-27   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc, lib/misc.inc: fix the LED3 and LED5 footprints for
	T-1 and T-1 3/4 (3mm and 5mm) standard LED's.  The old footprint had
	drill holes which were too small and also there was silk on the pad.

2005-01-26   Dan McMahill * dan AT mcmahill dot net *

	* lib/plcc.inc: increase the padsize and drill size for through-hole
	PLCC sockets

2005-01-25   DJ Delorie * dj AT delorie dot com *

	* src/pcb-menu.res: Oops, take out test entry

2005-01-25   DJ Delorie * dj AT delorie dot com *

	* src/menu.c, src/pcb-menu.res, src/resmenu.c, src/resmenu.h: Move
	right-click popup menu to pcb-menu.res also.

2005-01-21   Dan McMahill * dan AT mcmahill dot net *

	* doc/version.texi: bump date

2005-01-21   Dan McMahill * dan AT mcmahill dot net *

	* src/create.c: do not complain about MIN_PINORVIACOPPER on a
	mounting hole

2005-01-21   Dan McMahill * dan AT mcmahill dot net *

	* src/Pcb.ad.in, src/main.c, src/set.c: - break the status line into 2 lines as it was getting rather long - put the cursor position line below the menu as it is also getting   rather long with the metric display.  Besides keeping the 2 lines from being cutoff on smaller displays,
	it seems to avoid some of the strange Xaw issues seen in bug
	#1099862 and patch #1042731 where the porthole for the main drawing
	area is not properly sized and where the status line is sometimes
	covered by the porthole.

2005-01-21   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.in: regen

2005-01-21   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.am: for the .test/Pcb apps-default file (the one used
	when running before installation), use the pcb-menu.res file in the
	source directory.

2005-01-21   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi, src/action.c, src/pcb-menu.res: Add "Selected" and
	"All" arguments to DisperseElements so you have the option to not
	disperse all of them.  Add corresponding menu choices.

2005-01-18   Dan McMahill * dan AT mcmahill dot net *

	* src/print.c: avoid having text overlaying text in the fab drawing
	when a very small number of drill sizes are used.  Problem reported
	in bug #1100163.  Patch provided by Mick.

2005-01-18   Dan McMahill * dan AT mcmahill dot net *

	* configure: regen

2005-01-18   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: add a --disable-rpath flag to disable hardcoding of
	the X11 library path.  Default behaviour is unchanged.

2005-01-17   Dan McMahill * dan AT mcmahill dot net *

	* src/main.c: use LAYOUT_BOTTOM to always put the status line at the
	bottom of the main window.  Gets rid of some annoying bugs on
	solaris and some other systems where the status line would sometimes
	get covered up when the window was resized.

2005-01-17   Dan McMahill * dan AT mcmahill dot net *

	* src/create.c: in the message log produced when a via size has to
	be increased to meet the minimum copper, add a location to make it
	easier to locate the via.

2005-01-17   Dan McMahill * dan AT mcmahill dot net *

	* src/Pcb.ad.in, src/main.c: Increase
	Pcb.masterForm*cursorPosition.width to make room for metric display.
	Provided by Mark Whitis in patch #1042731

2005-01-17   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: add docs for ChangeClearSize() action.  Also apply
	some other fixes provided in patch #1068842

2005-01-14   Dan McMahill * dan AT mcmahill dot net *

	* lib/misc.inc: increase quoting of $2 in PKG_CRYSTAL to avoid the
	refdes from being expanded by m4.  Lets you use "X1" as the refdes
	in gschem and gsch2pcb

2005-01-13   Dan McMahill * dan AT mcmahill dot net *

	* README_FILES/Makefile.in: regen

2005-01-13   Dan McMahill * dan AT mcmahill dot net *

	* doc/version.texi: udate data

2005-01-13   Dan McMahill * dan AT mcmahill dot net *

	* src/pcb-menu.res: add DisperseElements() to menu

2005-01-13   Dan McMahill * dan AT mcmahill dot net *

	* src/control.c, src/main.c, src/resmenu.c: remove some more
	compiler warnings

2005-01-13   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi, src/action.c, src/action.h, src/main.c: add a
	DisperseElements() action which will disperse all elemnents in a
	layout.  The purpose is to spread out elements which are all on top
	of each other at the very beginning of a design.

2005-01-06   Dan McMahill * dan AT mcmahill dot net *

	* README, README_FILES/LICENSE, README_FILES/MAILING,
	README_FILES/Makefile.am, README_FILES/README: remove duplicated
	files and fix some out of date info

2005-01-06   Dan McMahill * dan AT mcmahill dot net *

	* src/djopt.c, src/rtree.c: cast some pointers to (void *) when
	printing debug output.  reduces the # of compiler warnings

2005-01-03   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c, src/autoplace.c, src/autoroute.c, src/box.h,
	src/buffer.c, src/buffer.h, src/change.c, src/change.h, src/clip.c,
	src/clip.h, src/copy.c, src/copy.h, src/create.c, src/create.h,
	src/crosshair.c, src/crosshair.h, src/data.c, src/data.h,
	src/dev_ps.c, src/dev_rs274x.c, src/draw.c, src/file.c, src/find.c,
	src/find.h, src/global.h, src/insert.c, src/insert.h,
	src/intersect.c, src/line.c, src/macro.h, src/mirror.c,
	src/mirror.h, src/misc.c, src/misc.h, src/move.c, src/move.h,
	src/mtspace.c, src/output.c, src/output.h, src/pinout.c,
	src/polygon.c, src/polygon.h, src/print.c, src/print.h,
	src/printdialog.c, src/rotate.c, src/rotate.h, src/rubberband.c,
	src/search.c, src/search.h, src/set.c, src/set.h, src/undo.c,
	src/undo.h: change "Location" to "LocationType".  Avoids some
	confusion with some compilers (SunPRO in particular) when "Location"
	is also used as part of a struct.

2004-12-31   Dan McMahill * dan AT mcmahill dot net *

	* src/vendor.c: move the regfree() call _before_ the return from the
	function that calls it so that it actually happens.

2004-12-12   Dan McMahill * dan AT mcmahill dot net *

	* src/vendor.c: remove a compiler warning

2004-11-20   Dan McMahill * dan AT mcmahill dot net *

	* src/set.c: add metric output to the location display.  Based on
	patches provided in patch #1042731 by Mark Whitis

2004-11-20   Dan McMahill * dan AT mcmahill dot net *

	* src/main.c: adjust Pcb.masterForm*cursorPosition.width to match
	the app-defaults file value

2004-11-20   Dan McMahill * dan AT mcmahill dot net *

	* src/actionlist.c: revert previous.  Seems to have snuck in by
	mistake in the strcmp() cleanup.

2004-11-20   Dan McMahill * dan AT mcmahill dot net *

	* src/pcb-menu.res: add <Key>. as the hotkey for toggling 45 degree
	line mode.  addressed bug #1069665 filed by Mark Whitis.

2004-11-19   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/crosshair.c: Snap to pads go to pad centers and allow snapping
	to element mark too.

	----------------------------------------------------------------------

2004-11-19   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c, src/actionlist.c, src/autoplace.c, src/create.c,
	src/dev_rs274x.c, src/dialog.c, src/djopt.c, src/draw.c,
	src/file.c, src/fileselect.c, src/macro.h, src/main.c, src/misc.c,
	src/netlist.c, src/print.c, src/rats.c, src/res_parse.y,
	src/search.c, src/selector.c, src/set.c, src/vendor.c: Replace all
	strcmp with a macro that tests for NULL pointers

	----------------------------------------------------------------------

2004-11-08   Dan McMahill * dan AT mcmahill dot net *

	* src/control.c: Restore translation table for the mode buttons.
	This seems to fix the "mode buttons are not responsive" bug reported
	in bug #716517 Patch provided by Daniel Nilsson in patch #1023078.

2004-11-07   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/change.c, src/change.h: Allow element names to be edited over
	the name itself

	----------------------------------------------------------------------

2004-11-02   Dan McMahill * dan AT mcmahill dot net *

	* src/Pcb.ad.in: Fix the <Key>. binding to toggle 45 degree mode.
	Addresses bug #1022800

2004-11-01   Dan McMahill * dan AT mcmahill dot net *

	* config.h.in, configure: regen [add support for ElectricFence
	debugging.  --enable-efence]

2004-11-01   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: add support for ElectricFence debugging.
	--enable-efence

2004-11-01   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi, doc/version.texi: clarify the units used by PCB a
	bit

2004-10-31   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi, src/vendor.c: Allow the use of regular expressions
	in the resources which specify elements which should not have their
	drill holes mapped to the vendor table.

2004-10-30   Dan McMahill * dan AT mcmahill dot net *

	* src/pcb-menu.res, src/vendor.c: Modify the LoadVendor() action so
	if the file name is not give, the user is presented with a file
	selection dialog box to choose a file.  Also add a menu choice for
	this.

2004-10-30   Dan McMahill * dan AT mcmahill dot net *

	* src/script/pcb.in:  Quote "$@" to keep args whole

2004-10-29   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.am, src/Makefile.in: add missing vendor.h

2004-10-29   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: document vendor drill mapping

2004-10-29   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.in, src/actionlist.c: regen after adding vendor
	resource/mapping code

2004-10-29   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.am, src/action.c, src/change.c, src/change.h,
	src/create.c, src/pcb-menu.res, src/vendor.c, src/vendor.h: Add
	support for a loadable vendor resource.  The primary purpose is to
	import a list of vendor supported or prefered drill sizes.  The
	design is then modified to change drills to sizes in the drill list.
	Additionally, the vendor resource file may include DRC settings.

2004-10-27   DJ Delorie * dj AT delorie dot com *

	* src/resmenu.c: Support multiple actions per line for -action and
	-script

2004-10-27   DJ Delorie * dj AT delorie dot com *

	* src/pcbtest.sh.in:  Quote "$@" to keep args whole

2004-10-27   DJ Delorie * dj AT delorie dot com *

	* src/actionlist.c, src/global.h, src/main.c, src/resmenu.c: Add
	-action command line, to execute one action string at startup

2004-10-27   DJ Delorie * dj AT delorie dot com *

	* src/pcb-menu.res, src/res_lex.l: Add support for comments.
	Comments begin with '#' and extend to the end of the line.

2004-10-27   DJ Delorie * dj AT delorie dot com *

	* doc/pcb.texi, doc/version.texi: Document resource file comments

2004-10-26   Dan McMahill * dan AT mcmahill dot net *

	* src/dialog.c: remove unused variable, make sure return returns a
	value on a non-void fn

2004-10-25   Dan McMahill * dan AT mcmahill dot net *

	* src/dialog.c: Add date and compile time to the About dialog.
	Patch provided as patch #1053444 by Bob Paddock.

2004-10-25   Dan McMahill * dan AT mcmahill dot net *

	* src/buffer.c: Fix one more (last one maybe?) hires bug where when
	converting a selection or buffer to element, the soldermask relief
	is 100x smaller than the default.  Address bug report #1049033.

2004-10-25   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.in, README_FILES/Makefile.in, example/Makefile.in,
	example/libraries/Makefile.in, lib/Makefile.in,
	newlib/2_pin_thru-hole_packages/Makefile.in, newlib/Makefile.in,
	newlib/analog-devices/Makefile.in, newlib/burr-brown/Makefile.in,
	newlib/connectors/Makefile.in, newlib/crystal/Makefile.in,
	newlib/cypress/Makefile.in, newlib/electro-optics/Makefile.in,
	newlib/generic_SMD_packages/Makefile.in,
	newlib/headers/Makefile.in, newlib/msp430/Makefile.in,
	newlib/not_vetted_ingo/Makefile.in, newlib/sockets/Makefile.in,
	newlib/tests/Makefile.in, newlib/toko/Makefile.in, src/Makefile.in,
	src/icons/Makefile.in, src/script/Makefile.in, tools/Makefile.in,
	tutorial/Makefile.in: regen so that all Makefile.in files came from
	the same version of automake

2004-10-25   Dan McMahill * dan AT mcmahill dot net *

	* doc/version.texi: update date on manual since there have been
	additions

2004-10-23   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: minor fixups to make this happy again with the new
	texinfo.tex

2004-10-23   Dan McMahill * dan AT mcmahill dot net *

	* doc/texinfo.tex: update to texinfoversion 2004-09-06.16

2004-10-21   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/change.c: Fix borking of name_tree when changing an element
	name

	----------------------------------------------------------------------

2004-10-21   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.in: regen

2004-10-21   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.am: - override the mostlyclean-aminfo target to avoid deleting the .dvi,
	.html, .pdf, and .ps versions of the manual with 'make clean'.
	Since these files already go in the distfile, we don't want a 'make
	clean' to remove them as that would force a dependency on TeX.  This
	issue was noted by Stuart Brorson.  - while here let automake handle the html and pdf conversions
	automatically.  This ends up defaulting to texi2pdf for PDF which
	seems to do a better job than ps2pdf anyway.

2004-10-21   Dan McMahill * dan AT mcmahill dot net *

	* aclocal.m4, configure: regen

2004-10-21   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: check for ps2pdf which is used for building the
	refcard

2004-10-21   Dan McMahill * dan AT mcmahill dot net *

	* acinclude.m4: improve the quoting so that aclocal-1.9.2 is happier

2004-10-20   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: minor fixup in the newlib element creation guide.

2004-10-20   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: Apply several improvements from Bob Paddock
	including: - spell check - improved section on modifying newlib footprints - add section on searching for elements - add section on measurements - add appendix on regular expressions Some texinfo fixes from me.

2004-10-17   DJ Delorie * dj AT delorie dot com *

	* src/resmenu.c: Sort actions by modifier so that both Ctrl<Key>x
	and <Key>x work.

2004-10-17   DJ Delorie * dj AT delorie dot com *

	* src/actionlist.c: Regenerated

2004-10-17   DJ Delorie * dj AT delorie dot com *

	* src/action.c: Add FlagHaveRegex (have_regex) so that the
	SelectByName menu entries work.

2004-10-12   DJ Delorie * dj AT delorie dot com *

	* src/global.h: Oops, overzealous patching ;-)

2004-10-12   DJ Delorie * dj AT delorie dot com *

	* src/global.h: add non-gcc definition of ATTRIBUTE_UNUSED

2004-10-12   Dan McMahill * dan AT mcmahill dot net *

	* src/global.h: add missing #else clause in defining
	ATTRIBUTE_UNUSED on non-gcc or older gcc version.  Problem noted by
	Dave McGuire.

2004-10-08   DJ Delorie * dj AT delorie dot com *

	* src/rats.c: Check for numberless pins.

2004-10-08   DJ Delorie * dj AT delorie dot com *

	* src/print.c: Print plated and unplated hole counts on separate
	lines.

2004-10-06   DJ Delorie * dj AT delorie dot com *

	* src/print.c: Avoid checking pin numbers for unnumbered pins.

2004-09-24   DJ Delorie * dj AT delorie dot com *

	* src/actionlist.c, src/data.c, src/dialog.c, src/global.h,
	src/main.c: Add command history to : widget.

2004-09-24   Dan McMahill * dan AT mcmahill dot net *

	* README.snapshots: minor tweaks to instructions

2004-09-21   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/draw.c, src/move.c, src/pinout.c: Fixes for pinout window
	crash. Still need to fix pinout scroll range at high zoom

2004-09-21   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/misc.c: Fix error on non-quarter circle arc bounding box
	calculations

2004-09-21   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/menu.c: Don't ask for X,Y coordinates in third-button pop-up
	menu; the coordinate is where the cursor was when the menu was
	popped up.

2004-09-21   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/draw.c: Fixed return value of Emark_callback. (Didn't really
	matter, we weren't count number of marks drawn).

2004-09-21   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c: Allow Ctrl-drag to copy objects in arrow mode.

2004-09-21   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/polygon.c: Fix bug with polygon clearances from other layers
	in the group.

2004-09-08   Dan McMahill * dan AT mcmahill dot net *

	* src/set.c: add an extra digit to the display of metric
	measurements.  Patch from Gabriel Paubert.

2004-09-04   Dan McMahill * dan AT mcmahill dot net *

	* NEWS: mention the background image in 20040903

2004-09-03   Dan McMahill * dan AT mcmahill dot net *

	* NEWS: update with pcb-20040903 news items

2004-09-03   Dan McMahill * dan AT mcmahill dot net *

	* ChangeLog: update to get ready for next snapshot

2004-09-03   Dan McMahill * dan AT mcmahill dot net *

	* README.snapshots: add more detailed snapshot instructions

2004-08-30   Dan McMahill * dan AT mcmahill dot net *

	* src/main.c, src/resmenu.h: add missing headers

2004-08-30   Dan McMahill * dan AT mcmahill dot net *

	* src/parse_y.y: add missing prototype

2004-08-30   Dan McMahill * dan AT mcmahill dot net *

	* src/find.c: remove unused variable

2004-08-30   Dan McMahill * dan AT mcmahill dot net *

	* src/res_lex.l: add missing prototype

2004-08-30   Dan McMahill * dan AT mcmahill dot net *

	* src/res_parse.y: clean up a few more compiler warnings

2004-08-30   Dan McMahill * dan AT mcmahill dot net *

	* src/djopt.c: get rid of a bunch of format string compiler warnings
	along with some unused variable warnings

2004-08-30   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c, src/autoplace.c, src/autoroute.c, src/buffer.c,
	src/change.c, src/clip.c, src/command.c, src/compat.c,
	src/control.c, src/copy.c, src/create.c, src/crosshair.c,
	src/data.c, src/dev_ps.c, src/dev_rs274x.c, src/dialog.c,
	src/djopt.c, src/draw.c, src/drill.c, src/error.c, src/file.c,
	src/fileselect.c, src/find.c, src/global.h, src/gui.c, src/heap.c,
	src/insert.c, src/intersect.c, src/lgdialog.c, src/library.c,
	src/line.c, src/log.c, src/main.c, src/menu.c, src/mirror.c,
	src/misc.c, src/move.c, src/mtspace.c, src/mymem.c, src/netlist.c,
	src/output.c, src/parse_l.l, src/parse_y.y, src/pinout.c,
	src/polygon.c, src/print.c, src/printdialog.c, src/printpanner.c,
	src/rats.c, src/remove.c, src/report.c, src/res_lex.l,
	src/res_parse.y, src/resmenu.c, src/rotate.c, src/rtree.c,
	src/rubberband.c, src/search.c, src/select.c, src/selector.c,
	src/set.c, src/sizedialog.c, src/undo.c, src/vector.c: rework the
	lines which have static char *rcsid=....  to include an unused
	attribute on gcc.  This gets rid of a bunch of gcc -Wall warnings
	which can cause some actual bugs to be lost in the noise.  While here, make sure we include config.h and also dmalloc.h if
	dmalloc debugging has been requested.

2004-08-29   Dan McMahill * dan AT mcmahill dot net *

	* src/draw.c: fix a "=" instead of "==" bug

2004-08-28   Dan McMahill * dan AT mcmahill dot net *

	* README.cvs: update this to more closely match the current reality

2004-08-28   Dan McMahill * dan AT mcmahill dot net *

	* src/actionlist.c: add actionlist.c for non-maintainers

2004-08-28   Dan McMahill * dan AT mcmahill dot net *

	* configure: regen (if we are using gcc then add -Wall)

2004-08-28   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: if we are using gcc then add -Wall

2004-08-27   Dan McMahill * dan AT mcmahill dot net *

	* src/draw.c: add missing header (for isdigit)

2004-08-27   Dan McMahill * dan AT mcmahill dot net *

	* src/dev_rs274x.c: use long int in some places to avoid assigning a
	long int to an int

2004-08-27   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c, src/rtree.c: remove some unused variables

2004-08-27   Dan McMahill * dan AT mcmahill dot net *

	* src/output.c, src/resmenu.c: add a missing header

2004-08-27   Dan McMahill * dan AT mcmahill dot net *

	* src/main.c: remove an unused variable

2004-08-27   Dan McMahill * dan AT mcmahill dot net *

	* doc/version.texi: bump updated date

2004-08-27   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.in: regen (add pcb.1 to EXTRA_DIST)

2004-08-27   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.am: add pcb.1 to EXTRA_DIST

2004-08-27   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: document the ExecuteFile() action and the -script
	command line option

2004-08-27   Dan McMahill * dan AT mcmahill dot net *

	* src/global.h, src/main.c, src/misc.c, src/resmenu.c: add an
	ExecuteFile(file) action which executes the actions contained in the
	specified file.  In addition, add a "-script <filename>" option
	which will invoke ExecuteFile(<filename>) upon startup.  Eventually
	(but not yet) this will be able to be used for things like
	generating postscript and RS-274-X output from the command line.

2004-08-26   Dan McMahill * dan AT mcmahill dot net *

	* src/resmenu.c: Fix a minor memory leak bug which allocated space
	for 10 more pointers everytime invoke_action() was called.  While here add a few comments about whats going on in this function.

2004-08-25   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: update the table of the output files generated by
	PCB

2004-08-25   Dan McMahill * dan AT mcmahill dot net *

	* src/pcb-menu.res: use "Reference Designator" instead of "Name on
	PCB" as the former is more standard

2004-08-25   Dan McMahill * dan AT mcmahill dot net *

	* src/file.c: exclude Makefile, Makefile.am, and Makefile.in as
	valid element names as these may reside in a lib directory

2004-08-25   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: add a brief comment about what M4 is and where to
	find more info

2004-08-25   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c: add one more Usage message.  this time for the
	RemoveSelected() action

2004-08-25   Dan McMahill * dan AT mcmahill dot net *

	* src/main.c, src/misc.c: allow --version, --help, and --copyright
	to also work since those are typically supported by GNU programs.

2004-08-25   Dan McMahill * dan AT mcmahill dot net *

	* src/misc.c: In the Usage() function be sure to restore stderr at
	the beginning since this function calls exit().  This will ensure
	that the Usage() message can actually be seen in all cases.  Fixes
	  the following:  clock AT oberon:~$ pcb --version    clock AT oberon:~$ noted by Karel Kulhav on the gEDA mailing
	list.

2004-08-24   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.in: regen after adding pcb.1

2004-08-24   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.am, doc/pcb.1: add a man page which says where to
	look for the manual

2004-07-31   Dan McMahill * dan AT mcmahill dot net *

	* src/find.c: avoid 'inline' unless we're using gcc.

2004-07-31   Dan McMahill * dan AT mcmahill dot net *

	* src/res_parse.y: use foo?foo:bar instead of foo?:bar as the latter
	is a gcc extension.  Makes the irix c compiler happy.

2004-07-29   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc: update the 150 and 300 mil width SOIC packages per
	the IPC recommendations at footprint.ipc.org.  Partially addresses
	the "silk on pad" bug noted in bug report #995401.

2004-07-29   Dan McMahill * dan AT mcmahill dot net *

	* lib/smt.inc: improve the decision on adding or not adding a silk
	arc on the COMMON_SMT_DIL_MIL macro

2004-07-17   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/print.c: Only clear silk on same side as pad. Patch
	contributed by burto

2004-07-10   DJ Delorie * dj AT delorie dot com *

	* doc/pcb.texi, src/draw.c, src/draw.h, src/global.h, src/main.c,
	src/misc.c: Add limited support for a behind-the-board background
	image.

2004-07-08   Dan McMahill * dan AT mcmahill dot net *

	* src/rubberband.c: Fix a bug related to checking for the
	intersection of a circular region defined by an line end point and
	its radius and a rectangular pin/pad.  The old code looked for the
	intersection of the smallest square which encloses the circular
	region and the rectangular pin/pad region.  However this method
	claims that there are intersections when in fact there are not.  For
	example a very wide trace has a significant area enclosed by the
	square which encloses the circular region defined by the line end
	and radius that is not enclosed by the circular region.  The new code actually looks for intersection of the circular region
	and the square region.

2004-07-07   Dan McMahill * dan AT mcmahill dot net *

	* src/rubberband.c: fix some errors where the diameter was used
	where the radius should have been used when looking for circular
	regions which intersect.  Fixes bug report #978412.  Partial patch
	provided in the bug report, additional bugs fixed by me.  Note: a bug still exists when calculating line -> rectangular pad
	intersection.  A fix will be coming.

2004-07-02   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/undo.c: Fix UndoChangeMaskSize assuming LINESTRUCT has the
	mask parameter

2004-06-30   Dan McMahill * dan AT mcmahill dot net *

	* src/pcbtest.sh.in, src/script/pcb.in: when running under gdb set
	XAPPLRESDIR and unset XUSERFILESEARCHPATH

2004-06-30   Dan McMahill * dan AT mcmahill dot net *

	* src/resmenu.c: make 'str' static so that the memory allocated by
	MyStrdup() can properly be freed on the next call of invoke_action.

2004-06-25   DJ Delorie * dj AT delorie dot com *

	* src/pcb-menu.res: Change size of selected objects, fix enlarge
	options to actually enlarge (bug 978408)

2004-06-25   DJ Delorie * dj AT delorie dot com *

	* src/menu.c: Cut and Copy from the popup menu now wait for a click
	before acting (bug 978406)

2004-06-24   DJ Delorie * dj AT delorie dot com *

	* src/Pcb.ad.in, src/main.c, src/menu.c, src/pcb-menu.res,
	src/resmenu.c, src/resmenu.h: Add support for menu accelerators.
	Replace hotkey translations with menu accelerators where
	appropriate.

2004-06-20   DJ Delorie * dj AT delorie dot com *

	* src/Makefile.am, src/Makefile.in: Run gather-actions only if
	maintainer-mode

2004-06-15   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c, src/autoroute.c, src/const.h, src/menu.c,
	src/pcb-menu.res: Fix live routing menu handling; patch segfault on
	breaking element with no element specified.  Autorouter tweaks.

2004-06-10   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc: add a few more 400mil width DIP packages (DIPxM)

2004-06-10   Dan McMahill * dan AT mcmahill dot net *

	* src/dev_rs274x.c: make sure we define all aperture codes used by
	arcs.  Fixes the bug reported in bug #969903 by Werner Hoch where an
	arc of a width not used by anything else in the layout does not have
	its aperture defined.

2004-06-09   Dan McMahill * dan AT mcmahill dot net *

	* src/find.c: fix the function name strings passed to MyCalloc().

2004-06-09   Dan McMahill * dan AT mcmahill dot net *

	* src/pcb-menu.res: Do not arbitrarily change the zoom setting
	whenever running DRC.  Especially if there are no DRC errors, we
	don't want/need to change the zoom.  Noted by Mark Becker.

2004-06-09   Dan McMahill * dan AT mcmahill dot net *

	* src/pcb-menu.res: Add 0.5 and 0.1 mil grid selections.  Requested
	in RFE #876549 by John Griessen.

2004-06-09   Dan McMahill * dan AT mcmahill dot net *

	* src/find.c, src/misc.c, src/misc.h: Save layerstack settings prior
	to running DRC and restore them afterwards so that things like
	current input layer are not changed by DRC.  Noted by Mark Becker.

2004-06-05   Dan McMahill * dan AT mcmahill dot net *

	* configure: regen after rpath flag order change

2004-06-05   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: change the order in the list of rpath flags which
	are tried out.  This is because when -R was tried first, it was
	accepted on linux systems because even though gcc didn't like it, it
	still exited with 0.  The new order seems to do the right thing on
	solaris, linux, and netbsd as the compiler now actually gives an
	error code for the flags it does not like.

2004-06-05   DJ Delorie * dj AT delorie dot com *

	* src/djopt.c: Be even more picky about which line is chosen as an
	example.

2004-06-04   Dan McMahill * dan AT mcmahill dot net *

	* configure: regen (If --enable-dmalloc is given but dmalloc is not
	found then error out instead of disabling dmalloc

2004-06-04   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: If --enable-dmalloc is given but dmalloc is not
	found then error out instead of disabling dmalloc

2004-06-03   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c: add usage output for several more actions

2004-06-03   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c: Add usage output if the input arguments are not
	quite right for several actions.  Still have more to add, but this
	is a start.

2004-06-02   Dan McMahill * dan AT mcmahill dot net *

	* src/default_font:  add @ character.  Absence noted by Dave
	McGuire.

2004-06-01   Dan McMahill * dan AT mcmahill dot net *

	* src/pcb-menu.res: add a GetXY() to the 'copy selection to buffer'
	menu.  Needed to have a resonable reference point for the copy.
	Noted by Mark Becker.

2004-06-01   Dan McMahill * dan AT mcmahill dot net *

	* configure: regen (fail configuration if Xaw is not found)

2004-06-01   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: fail configuration if Xaw is not found

2004-05-31   Dan McMahill * dan AT mcmahill dot net *

	* README.snapshots: add a note to remember to do something better
	with versions on the next snapshot

2004-05-31   Dan McMahill * dan AT mcmahill dot net *

	* NEWS: remove duplicated line

2004-05-31   Dan McMahill * dan AT mcmahill dot net *

	* ChangeLog: update changelog with cvs2cl.pl.  This file previously
	was empty.

2004-05-31   Dan McMahill * dan AT mcmahill dot net *

	* doc/version.texi: bump updated date to match snapshot date

2004-05-31   Dan McMahill * dan AT mcmahill dot net *

	* NEWS: add some release notes for the upcoming 20040530 snapshot

2004-05-29   Dan McMahill * dan AT mcmahill dot net *

	* src/change.c: add missing prototype

2004-05-29   Dan McMahill * dan AT mcmahill dot net *

	* globalconst.h: set MASKFRAME to be 3 (mils) instead of 0.  This
	way the soldermask opening will be larger than the pads for
	components defined using the older style format which did not
	explicitly give soldermask relief size.

2004-05-29   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: document the SetFlag(), ClrFlag(), and ChangeFlag()
	actions

2004-05-29   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: correct location for Pcb appdefaults file

2004-05-29   Dan McMahill * dan AT mcmahill dot net *

	* src/pcbtest.sh.in, src/script/pcb.in: For the pcb wrapper script,
	if the first argument is "-gdb", pick off that flag and run pcb
	inside of the gdb debugger.  Should simplify debugging a bit.

2004-05-29   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c, src/action.h, src/change.c, src/change.h,
	src/main.c: Add SetFlag, ClrFlag, and ChangeFlag actions.  These
	currently let you set, clear, or change the square, octagon, or
	thermal pads.  For example :SetFlag(SelectedVias,thermal)
	:ClrFlag(SelectedObjects,square) :ChangeFlag(SelectedPads,octagon,1)

2004-05-28   Dan McMahill * dan AT mcmahill dot net *

	* src/djopt.c: Fix the segfault bug noted in bug report #959073 by
	Bob Paddock.  While here, also fix a bug which can potentially cause
	a floating point exception.

2004-05-28   Dan McMahill * dan AT mcmahill dot net *

	* config.h.in, configure: regen after adding rint() test

2004-05-28   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: add test for rint()

2004-05-27   Dan McMahill * dan AT mcmahill dot net *

	* doc/version.texi: bump date

2004-05-27   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: add INFO-DIR-SECTION Miscellaneous per bug #957369
	submitted by Mike Frysinger

2004-05-23   Dan McMahill * dan AT mcmahill dot net *

	* lib/smt.inc: update the COMMON_SMT_2PAD_MIL macro to the newer
	element format.  With this change, the soldermask relief and
	clearance can now be specified for the pads.  This fixes the issue
	noted recently on the geda mailing list about 0805 footprints from
	the ~geda library having soldermask openings which are the same size
	as the pads.

2004-05-14   Dan McMahill * dan AT mcmahill dot net *

	* src/dev_ps.c: make sure we get the preamble in all EPS output
	files.  Bug noted by David Koski

2004-05-14   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc: add SOJ packages (lots of them)

2004-05-14   Dan McMahill * dan AT mcmahill dot net *

	* lib/smt.inc: fix a hi-res bug in the polarity arc silk for some
	SMT DIL pkgs

2004-05-14   Dan McMahill * dan AT mcmahill dot net *

	* src/res_parse.y: add missing string.h (for strcmp).  Noted by Dave
	McGuire

2004-05-14   Dan McMahill * dan AT mcmahill dot net *

	* src/pcbtest.sh.in, src/script/pcb.in: unset XUSERFILESEARCHPATH
	which causes a conflict with XAPPLRESDIR

2004-05-14   Dan McMahill * dan AT mcmahill dot net *

	* src/resource.h: add a comment

2004-05-13   Dan McMahill * dan AT mcmahill dot net *

	* src/misc.c: correct the pin/pad bounding box calculation.  Bug
	noted by David Koski.

2004-05-05   Dan McMahill * dan AT mcmahill dot net *

	* src/macro.h: fix typo in comment

2004-05-02   DJ Delorie * dj AT delorie dot com *

	* src/djopt.c, src/pcb-menu.res: Add flag to default to optimizing
	only autorouted nets, plus menu option to control it.

2004-05-02   DJ Delorie * dj AT delorie dot com *

	* src/resmenu.c: Don't use local var for widget name.

2004-05-02   DJ Delorie * dj AT delorie dot com *

	* src/djopt.c: Fix bug wrt intersecting layer groups in miter

2004-05-02   DJ Delorie * dj AT delorie dot com *

	* src/menu.c, src/resmenu.c: Remove gcc-isms

2004-05-01   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: fix typo

2004-05-01   Dan McMahill * dan AT mcmahill dot net *

	* src/resmenu.c: protect the inclusion of string.h with
	HAVE_STRING_H

2004-04-30   Dan McMahill * dan AT mcmahill dot net *

	* lib/minicircuits.inc: adjust spacing between the 2 rows of pins to
	better match the datasheet

2004-04-30   Dan McMahill * dan AT mcmahill dot net *

	* lib/smt.inc: clarify a comment

2004-04-30   Dan McMahill * dan AT mcmahill dot net *

	* src/Pcb.ad.in, src/action.c, src/file.c, src/find.c,
	src/global.h, src/macro.h, src/main.c, src/parse_y.y,
	src/sizedialog.c: Add some DRC checking of silkscreen layers.
	Currently this check looks for minimum widths of silk lines.
	Currently not checked are: - silk polygons - silk text - wide silk lines made by overlapping several narrow silk lines

2004-04-30   Dan McMahill * dan AT mcmahill dot net *

	* src/find.c: put a string which is repeated several times into a
	#define and use that macro instead.

2004-04-29   Dan McMahill * dan AT mcmahill dot net *

	* src/autoplace.h, src/autoroute.h, src/djopt.h, src/drill.h,
	src/heap.h, src/intersect.h, src/netlist.h, src/output.c,
	src/rats.c, src/resmenu.h, src/rtree.h, src/selector.c,
	src/vector.h: RCS Id police

2004-04-29   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.in: regen

2004-04-29   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.am: minor fixes to get the distcheck target working
	again.

2004-04-29   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: add a note about the centroid and bill of materials
	output.  While here add a feature list near the top of the document
	to help a new user quickly answer the question "what is pcb and what
	can it do?".

2004-04-29   Dan McMahill * dan AT mcmahill dot net *

	* src/resmenu.c: RCS Id and config.h police

2004-04-29   Dan McMahill * dan AT mcmahill dot net *

	* src/print.c: When printing to RS-274-X also generate a centroid
	data file (X-Y data) with the required data to drive a pick and
	place machine.  The centroid of each part is calculated from the
	center of each pin/pad.  The rotation is determined by looking at
	the angle of pin1 relative to the centroid.  In addition, generate a bill of materials file.  This lists the
	part, quantity, and list of reference designators.

2004-04-29   Dan McMahill * dan AT mcmahill dot net *

	* src/res_lex.l, src/res_parse.y, src/resmenu.c: fix some 64-bit
	bugs to get this working on my alpha.  Of prime importance, an int
	isn't big enough to hold a pointer.

2004-04-29   Dan McMahill * dan AT mcmahill dot net *

	* src/resource.h: RCS Id police

2004-04-28   Dan McMahill * dan AT mcmahill dot net *

	* src/res_lex.l, src/res_parse.y: RCS Id police

2004-04-28   Dan McMahill * dan AT mcmahill dot net *

	* src/misc.c: put variable declarations at the beginning of
	functions.  Avoids syntax error on gcc-2.95

2004-04-28   Dan McMahill * dan AT mcmahill dot net *

	* lib/amp.inc, lib/bourns.inc, lib/johnstech.inc,
	lib/minicircuits.inc, lib/panasonic.inc: fix the EXTRACT_END flag

2004-04-28   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.am, lib/Makefile.in, lib/common.m4, lib/cts.inc: add
	cts library containing CTS series 742/3/4/5/6 resistor packs

2004-04-28   Dan McMahill * dan AT mcmahill dot net *

	* lib/johnstech.inc, lib/smt.inc: fix refdes silk size

2004-04-28   Dan McMahill * dan AT mcmahill dot net *

	* lib/dil.inc, lib/geda.inc: Fix SDIP (shrink DIP) footprints.
	Patch from Wojciech Kazubski in RFE #929697 slightly modified by me.

2004-04-28   Dan McMahill * dan AT mcmahill dot net *

	* lib/panasonic.inc: Correct the spacing between the rows of pads.
	Also fix one of the pad widths on a footprint which was obviously
	broken.

2004-04-28   Dan McMahill * dan AT mcmahill dot net *

	* lib/smt.inc: hires-ify the COMMON_SMT_DIL_MIL macro.  The macro
	already took input arguments in 1/1000 mil so now we simple only
	reduce the resolution to 1/100 mil in the output instead of to 1
	mil.  This also helps the COMMON_SMT_DIL_MM which calls the
	COMMON_SMT_DIL_MIL macro.

2004-04-27   Dan McMahill * dan AT mcmahill dot net *

	* src/tmp.txt: test commit #3

2004-04-27   Dan McMahill * dan AT mcmahill dot net *

	* src/tmp.txt: test commit #2

2004-04-27   Dan McMahill * dan AT mcmahill dot net *

	* src/tmp.txt: test commit

2004-04-27   DJ Delorie * dj AT delorie dot com *

	* doc/version.texi: add version.texi for non-maintainers

2004-04-27   DJ Delorie * dj AT delorie dot com *

	* doc/pcb.texi, src/Makefile.am, src/Makefile.in, src/Pcb.ad.in,
	src/Pcb.ad.raw, src/Pcb.ad.small, src/action.h, src/dialog.c,
	src/gather-actions, src/global.h, src/gui.c, src/main.c,
	src/menu.c, src/menu.h, src/misc.c, src/misc.h, src/pcb-menu.res,
	src/res_lex.l, src/res_parse.y, src/resmenu.c, src/resmenu.h,
	src/resource.h, src/set.c, src/sizedialog.c: add file-driven menus

2004-04-27   DJ Delorie * dj AT delorie dot com *

	* Makefile.in, ylwrap: add ylwrap

2004-04-27   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/autoroute.c: More autorouter improvements, some bug fixes

2004-04-26   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/autoroute.c, src/mtspace.c: Significant improvements to
	autorouting of congested designs

2004-04-25   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/global.h, src/rtree.c: Fix rtree memory management bugs

2004-04-19   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/rtree.c: Fix a bug that allocates too much memory to store
	pointers

2004-04-19   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/buffer.c, src/move.c: Fix some bugs with rtree based name
	handling

2004-04-19   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/autoroute.c, src/find.c, src/rats.c: More autorouter
	improvements. Improve trace appearance, slightly speed up and allow
	it to use power planes

2004-04-18   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c, src/change.c, src/copy.c, src/file.c, src/insert.c,
	src/move.c, src/polygon.c, src/polygon.h, src/remove.c,
	src/rotate.c: Fix pin-in-poly bug; because polys can overlap can
	never check one single polygon.

2004-04-12   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/autoroute.c, src/djopt.c: Restore mistakenly lost lines in
	djopt, and various improvements to auto-router

2004-04-11   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/move.c: Argh, another attempt to properly fix the bug

2004-04-11   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/djopt.c, src/move.c: Fixup some errors introduced in last
	patch

2004-04-09   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/djopt.c: Fix segfault with edge-connector elements (pads on
	both sides)

2004-04-09   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/draw.c, src/insert.c, src/move.c, src/output.c: Various bug
	fixes

2004-03-28   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c, src/autoroute.c, src/global.h, src/menu.c: Still
	more improvements to the router, plus can show it's action on
	screen.

2004-03-28   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/autoroute.c, src/box.h, src/mtspace.c, src/mtspace.h: More
	improvements to the autorouter

2004-03-26   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/create.c: Forbid diagonal pads when created externally with an
	editor

2004-03-25   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/autoroute.c: Some improvements to autorouter - still need to
	better handle mtspace structures so there is not so much duplicate
	effort with multiple route styles

2004-03-23   DJ Delorie * dj AT delorie dot com *

	* src/parse_y.y: Provide our own yywrap(), just in case.

2004-03-22   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/Pcb.ad.in: Fix a couple of key binding bugs

2004-03-22   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/find.c: Fix some re-drawing issues after finding connections

2004-03-22   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/autoroute.c: Fix some autoroute bugs; add proper style
	handling to autorouter

2004-03-20   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/report.c, src/rtree.c: Provide better rtree visualization
	capability

2004-03-20   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/buffer.c, src/change.c, src/create.c, src/dev_ps.c,
	src/draw.c, src/global.h, src/misc.c, src/move.c, src/move.h,
	src/mymem.c, src/print.c, src/printpanner.c, src/remove.c,
	src/rotate.c, src/search.c: Use rtree to search element names; fix
	postscript paper handling; fix silk names clipped over pins/pads

2004-03-20   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/rtree.c, src/rtree.h: Slight optimization of tree
	construction, plus add means to visualize tree

2004-03-20   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/file.c: Don't use _LOOP macros for writing files in order to
	preserver ordering so that diff can be effectively used on pcb files

2004-03-19   Dan McMahill * dan AT mcmahill dot net *

	* lib/johnstech.inc: increase soldermask relief on mounting pads

2004-03-18   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/const.h, src/draw.c, src/polygon.c: Use sqrt(2)/2 defined in
	math library when available

2004-03-18   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/rats.c: Handle shorts to unnamed elements and pins

2004-03-18   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/line.c: Forgot to check this in with the _LOOP macro changes

2004-03-18   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/dev_ps.c, src/print.c: Add assembly drawing output for
	postscript

2004-03-17   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c, src/autoplace.c, src/autoroute.c, src/buffer.c,
	src/change.c, src/copy.c, src/create.c, src/crosshair.c,
	src/dev_ps.c, src/dev_rs274x.c, src/djopt.c, src/draw.c,
	src/drill.c, src/file.c, src/find.c, src/global.h, src/library.c,
	src/macro.h, src/menu.c, src/mirror.c, src/misc.c, src/move.c,
	src/mymem.c, src/netlist.c, src/pinout.c, src/polygon.c,
	src/print.c, src/rats.c, src/remove.c, src/report.c, src/rotate.c,
	src/rtree.c, src/rubberband.c, src/search.c, src/select.c,
	src/set.c, src/undo.c: Change _LOOP macros so that gdb can break
	inside the loop

2004-03-17   Dan McMahill * dan AT mcmahill dot net *

	* src/rtree.c: revert last change.  Some compilers including
	gcc-2.95.3 do not like it.  ok'ed by harry.

2004-03-14   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/autoplace.c, src/intersect.c: Various fixes to autoplacement
	code

2004-03-14   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/set.c: auto drc bug fix

2004-03-14   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c: Acknowledge placement

2004-03-14   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/netlist.c, src/rats.c: Fix memory leaks

2004-03-13   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/rotate.c: corrctly distinguish rubberand rat lines

2004-03-11   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/rtree.c: Remove unnecessary union identifier to clarify code

2004-03-10   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c: Fix polygon insert point bug introduced when
	reorganizing code

2004-03-10   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc: 100 pin QFP packages have 100 pins not 72

2004-03-10   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/error.c: Fix for bad pipe handling under cygwin

2004-03-09   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/draw.c: Minimize rectangle fills

2004-03-09   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/polygon.c: Oops - this fixes the error introduced moving to
	IsPadInPolygon

2004-03-09   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/crosshair.c: Use SQUARE macro

2004-03-09   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c, src/change.c, src/create.c, src/rats.c: clean up
	code to use SQUARE macro and fix via mask update bug

2004-03-09   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/draw.c, src/find.c, src/find.h, src/polygon.c, src/print.c,
	src/search.c, src/search.h: Erase silk over solder regions when they
	cross and display that way on screen

2004-03-08   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/rtree.c: Streamline code for clustering

2004-03-08   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/Pcb.ad.in, src/action.c: Added a function { AddRats(Close)
	bound to shift-n } that selects the shortest unselected ratline and
	centers the screen view on it.

2004-03-08   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/crosshair.c, src/crosshair.h, src/line.c, src/line.h: New
	Auto-DRC line drawing mode implemented.

2004-03-07   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/draw.c, src/draw.h: Forgot to checkin draw.h; fix some bugs
	with really high zoom

2004-03-07   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/find.c: Avoid doubling DRC clearance between non-clearing
	polygons and square pins/pads

2004-03-07   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c, src/buffer.c, src/change.c, src/create.c,
	src/dialog.c, src/draw.c, src/find.c, src/global.h, src/move.c,
	src/move.h, src/mymem.c, src/output.c, src/printpanner.c,
	src/remove.c, src/rotate.c, src/rtree.c, src/search.c, src/select.c: 
	Fixes for various bugs introduced with the rtree database
	infrastructure

2004-03-07   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/menu.c, src/misc.c: A couple of bug fixes: absolute negative
	value entries (e.g. =-4) also check the correct zoom level in the
	menu

2004-03-06   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/select.h: Fix conditional compile variable name

2004-03-05   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/library.c, src/mymem.c, src/output.c, src/polygon.c: Fixes for
	several memory leaks and some uninitialized varibable bugs

2004-03-05   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/file.c, src/parse_l.l, src/parse_y.y: Save the DRC settings in
	the board file

2004-03-04   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/Pcb.ad.in, src/dev_ps.c, src/global.h, src/printdialog.c,
	src/printpanner.c: Fix the postscript print panner bugs introduced
	with hi-res; also fix the long-standing bug where the default media
	selection wasn't used

2004-03-04   Dan McMahill * dan AT mcmahill dot net *

	* src/select.h: one more regex bug fix noted by Matt Ettus

2004-03-04   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: document the ToggleVisibility action

2004-03-04   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c, src/action.h, src/main.c: Added a new action which
	will toggle the visibility of layers without clicking on them.
	Intended to be bound to keys.  Patch provided by Matt Ettus in patch
	#908658.

2004-03-04   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c, src/menu.c, src/select.c: enable the regex select
	stuff.  A trial of a regex select of some components seems to work.
	Prompted by patches provided by Matt Ettus in patch submission
	908651.

2004-03-03   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc: a HEADER60_2 should have 60 pins not 50 as noted in
	bug report 900231

2004-03-03   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* globalconst.h, src/action.c, src/draw.c, src/misc.c, src/move.c,
	src/report.c: Fixes for element line boundry handling

2004-03-01   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/move.c: Fix for search element bounding box error

2004-03-01   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/crosshair.c, src/crosshair.h: These were updated too for the
	auto-DRC infrastructure

2004-03-01   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c, src/change.c, src/control.c, src/control.h,
	src/find.c, src/find.h, src/global.h, src/misc.c, src/misc.h,
	src/move.c, src/output.c, src/search.c, src/set.c: Some intersection
	bug fixes and more rtree infrastructure change Also more ground work
	for auto drc line mode

2004-02-29   DJ Delorie * dj AT delorie dot com *

	* src/Makefile.in: Regenerate.

2004-02-28   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c, src/buffer.c, src/change.c, src/const.h,
	src/create.c, src/draw.c, src/find.c, src/global.h, src/insert.c,
	src/menu.c, src/misc.c, src/misc.h, src/move.c, src/remove.c,
	src/search.c, src/set.c, src/undo.c: More usage of rtrees for rats,
	pins and pads. Some foundation work for a new auto-drc line drawing
	mode, and some bug fixes.

2004-02-27   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/buffer.c, src/create.c, src/find.c, src/global.h, src/menu.c,
	src/misc.c, src/move.c, src/mymem.c, src/remove.c, src/rtree.c,
	src/rtree.h: Store pins/pads in rtree

2004-02-27   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/rtree.c: Fixes for some compiler warnings

2004-02-27   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/clip.c, src/clip.h: Oh Yeah, the drawing clipping won't work
	without these files!

2004-02-27   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/Makefile.am, src/Makefile.in, src/action.c, src/create.c,
	src/data.c, src/data.h, src/draw.c, src/global.h, src/insert.c,
	src/insert.h, src/line.c, src/line.h, src/macro.h, src/misc.c,
	src/output.c, src/parse_y.y, src/polygon.c, src/report.c: Fixes for
	clipping the drawing. Simple saturation could change the geometry
	when zoomed way in. Also some organizational changes to make the
	code easier to maintain.

2004-02-27   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: clarify the pad creation a little

2004-02-27   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/misc.c: Fix for text bounding box error

2004-02-25   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c, src/const.h, src/crosshair.c, src/menu.c: Add a
	feature to display design-rule clearance arround prospective
	line/arc/via

2004-02-25   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/find.c, src/search.c: Fix some DRC bugs with square pins

2004-02-20   Dan McMahill * dan AT mcmahill dot net *

	* lib/misc.inc: whitespace fix

2004-02-19   Dan McMahill * dan AT mcmahill dot net *

	* lib/connector.inc: add a PKG_CONNECTOR_DIL for 2 column headers
	with DIL pin numbering.  This fixes the HEADER*_1 entries in the
	geda footprint library.

2004-02-17   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/buffer.c: Fix typo that caused bug in via tree handling.

2004-02-17   Dan McMahill * dan AT mcmahill dot net *

	* lib/generic.list: remove extra whitespace in generic208_lqfp

2004-02-17   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c, src/draw.c, src/find.c, src/polygon.c,
	src/polygon.h, src/print.c, src/report.c, src/rtree.c: Bug fixes for
	design rule checking

2004-02-17   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/rtree.c: Make rtree routines reentrant since now they are used
	that way when drawing during DRC.

2004-02-15   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c, src/autoplace.c, src/autoroute.c, src/buffer.c,
	src/change.c, src/copy.c, src/create.c, src/dev_ps.c, src/draw.c,
	src/file.c, src/find.c, src/find.h, src/global.h, src/insert.c,
	src/macro.h, src/main.c, src/mirror.c, src/mirror.h, src/misc.c,
	src/misc.h, src/move.c, src/move.h, src/mtspace.c, src/mymem.c,
	src/mymem.h, src/parse_y.y, src/pinout.c, src/polygon.c,
	src/polygon.h, src/print.c, src/rats.c, src/remove.c, src/report.c,
	src/rotate.c, src/rotate.h, src/rtree.c, src/rtree.h,
	src/rubberband.c, src/search.c, src/search.h, src/select.c,
	src/undo.c: Large number of changes to keep most of the database in
	rtrees and avoid linear searches

2004-02-15   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/change.c: Fix minor bug in pad clearance adjustment

2004-02-15   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.in: regen after adding compat.c/h

2004-02-15   Dan McMahill * dan AT mcmahill dot net *

	* src/Makefile.am, src/compat.c, src/compat.h, src/draw.c,
	src/set.c: add a place for putting our own implementation of
	missing/broken functions.  For now add a logf and expf to help
	solaris.

2004-02-15   Dan McMahill * dan AT mcmahill dot net *

	* tools/Makefile.am, tools/Makefile.in: install MergePCBPS and
	Merge_dimPBPS

2004-02-15   Dan McMahill * dan AT mcmahill dot net *

	* config.h.in, configure: regen after adding logf and expf checks

2004-02-15   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: add checks for logf and expf

2004-02-15   Dan McMahill * dan AT mcmahill dot net *

	* src/create.c, src/dev_ps.c, src/dev_rs274x.c, src/draw.c,
	src/file.c, src/global.h, src/parse_l.l, src/parse_y.y: add a way to
	control the scale factor associated with thermals.  This is a global
	value stored in the .pcb file.  The default gives the same behaviour
	as previous version.  By increasing the scale factor, the width of
	the spokes increases.  Eventually it would be nice to make this be
	per pin/via.

2004-02-15   Dan McMahill * dan AT mcmahill dot net *

	* src/report.c: correct the drill diameter in the drill report after
	the hi-res changes

2004-02-14   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/polygon.c: Fixed syntax error and potential bug

2004-02-14   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/draw.c: Elliminate pre-computing of octagons - there are too
	many with .01 mil resolution

2004-02-14   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/find.c, src/polygon.c: More non-clearing polygon fixes

2004-02-14   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/buffer.c, src/dev_rs274x.c, src/draw.c, src/macro.h,
	src/menu.c, src/polygon.c, src/print.c, src/rubberband.c: Fixed some
	bugs with non-clearing polygons and made GROUP_LOOP macro

2004-02-14   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c, src/crosshair.c, src/macro.h: Fix arc creation tool
	when crosshair is on-axis with start point

2004-02-14   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/report.c, src/report.h: Report on points and fix some
	formating

2004-02-14   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/set.c: Fix formatting mismatch

2004-02-14   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/polygon.c: Fixup includes and trivial bug

2004-02-14   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/move.c: fix includes for Message()

2004-02-14   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/menu.c: add left/right buffer mirror menu entry

2004-02-13   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/Pcb.ad.in, src/action.c, src/find.c, src/global.h,
	src/insert.c, src/main.c, src/polygon.c, src/polygon.h,
	src/print.c, src/report.c, src/set.c, src/sizedialog.c: More
	complete and sensible DRC checking

2004-02-13   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/move.c, src/search.c: Prevent changing layers of locked
	objects, find ratlines before other layer objects

2004-02-13   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c, src/buffer.c, src/buffer.h, src/menu.c: Added
	function to mirror the buffer

2004-02-13   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/buffer.c: Recalculate arc bounding box when swaping the side

2004-02-13   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/dialog.c: Updated about dialog

2004-02-13   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/rats.c: Use warn color on pins/pads even when netname is known

2004-02-13   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/change.c: Only change masks with size change when they're
	non-zero to begin with

2004-02-13   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/change.c: Allow +0 change to mask size to make it equal the
	underlying copper

2004-02-13   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c, src/change.c, src/select.c: Proper handling of all
	text scalings

2004-02-13   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c, src/select.c: Handle element name size changing
	properly

2004-02-12   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/change.c: Automatically adjust mask size when copper size is
	changed

2004-02-10   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/print.c: Fixed output bug with persistant thermal changes

2004-02-09   Dan McMahill * dan AT mcmahill dot net *

	* tools/Makefile.in: regen after adding Merge_dimPCBPS

2004-02-09   Dan McMahill * dan AT mcmahill dot net *

	* tools/Makefile.am: add Merge_dimPCBPS

2004-02-09   Dan McMahill * dan AT mcmahill dot net *

	* tools/MergePCBPS, tools/Merge_dimPCBPS: #/bin/sh -> #!/bin/sh to
	make these execute correctly.  While here, add RCS Id's.

2004-02-07   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/find.c: Find more errors when skipping through DRCs

2004-02-06   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c, src/find.c, src/find.h: Added feature to continue
	checking drc after first error is found

2004-02-06   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/change.c: Prevent clearance size adjustment from changing
	joined lines to unjoined

2004-02-06   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/set.c: Fix bug where local reference mark was not erased
	properly

2004-02-06   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/file.c: Fix bug where loading pcb didn't restore saved view
	position correctly

2004-02-06   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/global.h, src/undo.c: Fixed undo change text size bug
	introduced with hi-res changes

2004-02-06   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/draw.c: Special drawing mode to examine planes for break-up
	due to tracks routing through them.

2004-02-06   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* tools/Merge_dimPCBPS: Add a tool to merge to PCB postscript files
	where the first one is printed in a light gray color. This is useful
	for making an assembly drawing where the front tracks are shown in
	light gray while the silkscreen is solid black.

2004-02-06   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/draw.c, src/macro.h, src/polygon.c, src/print.c: Make
	persistant thermal flags for easier changes to polygons

2004-02-05   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c, src/const.h, src/menu.c: Add mode for poly viewing
	to help spot broken planes

2004-02-05   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/main.c: Fix text scaling intialization

2004-02-05   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/dev_rs274x.c: Fix a couple of gerber bugs introduced with
	hi-res

2004-02-05   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/polygon.c: Warn on unplated holes piercing polygons

2004-02-05   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/print.c: Don't clear pure-holes in polygons

2004-02-05   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/polygon.c: Fix bug in PIP flags

2004-02-05   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/dev_rs274x.c, src/find.c, src/find.h, src/print.c: Fixed some
	gerber hi-res bugs and some complex ground-plane print issues

2004-02-04   DJ Delorie * dj AT delorie dot com *

	* example/libraries/Makefile.in: * Detect re_comp(), regcomp(), and <regex.h> (select.c doesn't use
	  the new HAVE_* yet, this is a prelude to it).  * Set -DNDEBUG for all src/* compiles.  * Support maintainer mode (--enable-maintainer-mode) (I got tired of   having half the world regenerated just because I did a "cvs
	  update") * Detect tgif, if not found pad.{png,eps} just isn't built (what's   that for, anyway?)  Prebuilt copies of those should be checked in   too at some point.

2004-02-04   DJ Delorie * dj AT delorie dot com *

	* Makefile.in, README_FILES/Makefile.in, aclocal.m4, config.h.in,
	configure, configure.ac, doc/Makefile.am, doc/Makefile.in,
	example/Makefile.in, lib/Makefile.in,
	newlib/2_pin_thru-hole_packages/Makefile.in, newlib/Makefile.in,
	newlib/analog-devices/Makefile.in, newlib/burr-brown/Makefile.in,
	newlib/connectors/Makefile.in, newlib/crystal/Makefile.in,
	newlib/cypress/Makefile.in, newlib/electro-optics/Makefile.in,
	newlib/generic_SMD_packages/Makefile.in,
	newlib/headers/Makefile.in, newlib/msp430/Makefile.in,
	newlib/not_vetted_ingo/Makefile.in, newlib/sockets/Makefile.in,
	newlib/tests/Makefile.in, newlib/toko/Makefile.in, src/Makefile.am,
	src/Makefile.in, src/icons/Makefile.in, src/script/Makefile.in,
	tools/Makefile.in, tutorial/Makefile.in: * Detect re_comp(), regcomp(), and <regex.h> (select.c doesn't use
	  the new HAVE_* yet, this is a prelude to it).  * Set -DNDEBUG for all src/* compiles.  * Support maintainer mode (--enable-maintainer-mode) (I got tired of   having half the world regenerated just because I did a "cvs
	  update") * Detect tgif, if not found pad.{png,eps} just isn't built (what's   that for, anyway?)  Prebuilt copies of those should be checked in   too at some point.

2004-02-04   DJ Delorie * dj AT delorie dot com *

	* src/draw.c: Don't assume that an all-ones pixel is white.

2004-02-03   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/menu.c: Fixes for hi-res bugs

2004-02-03   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/print.c: Changes to the fab drawing for improved clarity and
	allows for a an outline route by naming a layer "outline" or "route"

2004-02-03   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/error.c: Added a line count to Message mechanism

2004-02-03   Dan McMahill * dan AT mcmahill dot net *

	* NEWS: note harry's hi-res changes.

2004-02-02   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/autoroute.c, src/heap.c, src/heap.h: More speed-ups for the
	router

2004-02-01   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/print.c: Change gerber drill files to have .cnc suffix and
	name the component side output group "front", the solder-side output
	"back"

2004-02-01   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c, src/parse_y.y: A couple of bug fixes for arc
	handling in hi-res

2004-01-31   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/autoroute.c: More speed-up changes. Limit the intial search in
	FindIntersecting

2004-01-31   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/rtree.c: Minor comment changes and some tiny tweaks

2004-01-31   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/buffer.c: Fix bug in element name mirroring when elements are
	created on the solder side

2004-01-30   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/main.c: Fix initial screen/offscreen zoom

2004-01-30   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/polygon.c: Some Hi-res fixes plus elliminat too close to
	polygon concept

2004-01-30   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/output.c: Fixed the auto-scroll broken when switched to hi-res

2004-01-30   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/rats.c: Fix bug introduced changing to hi-res

2004-01-29   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/autoroute.c, src/box.h: More speed ups to the auto-router
	code. This is only code streamlining, there is no algorithm change

2004-01-28   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/kdtree.c, src/kdtree.h: The kdtree has been replaced with
	rtree which is faster given the way it is used

2004-01-28   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/rtree.c, src/rtree.h: rtree for faster rectangle intersection
	searching

2004-01-28   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/Makefile.am, src/Makefile.in, src/autoplace.c,
	src/autoroute.c, src/mtspace.c: replaced kd-tree with r-tree for
	faster auto-routing

2004-01-20   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c: Fix for smashing element in place

2004-01-19   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/autoroute.c, src/heap.h, src/kdtree.c, src/kdtree.h: Fixes for
	auto-router with hi-res and some speed-ups of its operation

2004-01-19   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/find.c: Speed up polygon/polygon intersection testing. The
	special case is *all* points inside polygon, not just some points so
	only one point need be tested

2004-01-19   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/const.h, src/data.c, src/data.h, src/draw.c, src/draw.h,
	src/file.c, src/global.h, src/macro.h, src/main.c, src/menu.c,
	src/parse_y.y, src/pinout.c, src/set.c, src/set.h: Modifications to
	support arbitrary zoom ratios

2004-01-18   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/menu.c: Fix for intermediate zoom levels

2004-01-18   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* globalconst.h, src/Pcb.ad.in, src/data.c, src/draw.c,
	src/macro.h, src/output.c, src/parse_y.y, src/set.c: Added some
	intermediate zooms, so now it goes by sqrt(2)

2004-01-17   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/menu.c: Add menu item to auto-route only selected rats

2004-01-17   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/output.c: Increase the minimum size of the panner control

2004-01-17   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/main.c: Fix some default sizes for hi-res when no resource
	file is available

2004-01-15   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c, src/action.h, src/menu.c: Added support to smash an
	element in place

2004-01-15   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c, src/const.h, src/menu.c, src/misc.c, src/set.c: 
	Added Local reference measurement for line drawing and allow
	not-overriding the mark position for moves and line-drawing

2004-01-15   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/Pcb.ad.in, src/action.c, src/main.c, src/set.c, src/set.h: Fix
	to keep mode setting and add a function for moving an object by/to
	numerical coordinates

2004-01-14   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/Pcb.ad.in, src/action.c, src/command.c, src/misc.c: Tweaks for
	case-insensitive command arguments, keyboard adjust of grid and
	fixed a couple of absolute/relative bugs.

2004-01-14   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/misc.c: Turned off debugging messages

2004-01-14   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/macro.h, src/misc.c, src/output.c: Fixes for several
	solder-side viewing bugs introduced with hi-res changes

2004-01-13   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/djopt.c: Fixed for new definition of mils for savings report

2004-01-13   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/box.h, src/mtspace.c: Fix for mtspace coalesce; hi-res
	requires floats for area computation

2004-01-10   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c, src/draw.c, src/report.c: Fixes for text scaling

2004-01-10   Dan McMahill * dan AT mcmahill dot net *

	* src/parse_y.y: One more hi-res buglet.  Correct parsing of 'Arc'.
	Thanks to Bill Wilson for catching this one.

2004-01-09   Dan McMahill * dan AT mcmahill dot net *

	* lib/smt.inc: partially undo the last change with respect to
	quoting.  Only quote $2.  This keeps the reference designator from
	being expanded as desired but lets the Description field get
	expanded as desired.

2004-01-08   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* Makefile.in, aclocal.m4, configure, doc/Makefile.in,
	lib/Makefile.in, newlib/2_pin_thru-hole_packages/Makefile.in,
	newlib/Makefile.in, newlib/analog-devices/Makefile.in,
	newlib/burr-brown/Makefile.in, newlib/connectors/Makefile.in,
	newlib/crystal/Makefile.in, newlib/cypress/Makefile.in,
	newlib/electro-optics/Makefile.in,
	newlib/generic_SMD_packages/Makefile.in,
	newlib/headers/Makefile.in, newlib/msp430/Makefile.in,
	newlib/not_vetted_ingo/Makefile.in, newlib/sockets/Makefile.in,
	newlib/tests/Makefile.in, newlib/toko/Makefile.in, src/Pcb.ad.in,
	src/action.c, src/icons/Makefile.in, src/main.c, src/misc.c,
	src/script/Makefile.in: Fixes for absolute/relative size change.
	Also added repeat last typed command and fixed a few hi-res bugs.

2004-01-06   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/set.c: Fixed sign display in fractional mil part of crosshair

2004-01-06   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c: Fix for Display(Save|Restore)

2004-01-05   Dan McMahill * dan AT mcmahill dot net *

	* src/print.c: fix generation of fab drawing with the high
	resolution changes

2004-01-05   Dan McMahill * dan AT mcmahill dot net *

	* src/dev_rs274x.c: fix a couple of other bugs related to the high
	res changes.  In particular, correct the aperture for the fab
	drawing and for the outline.  Also fix up text output.

2004-01-05   Dan McMahill * dan AT mcmahill dot net *

	* lib/johnstech.inc: Convert to a high resolution footprint.  Pads
	are a little more accurate now.

2004-01-05   Dan McMahill * dan AT mcmahill dot net *

	* src/dev_rs274x.c: correct the aperture definition output lines and
	the drill tool definition output lines after the hi-res change.
	Gerber output should be ok again.

2004-01-05   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/Pcb.ad.in: fixed missing continuation in scroll commands

2004-01-05   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* configure, configure.ac, globalconst.h, src/Makefile.in,
	src/Pcb.ad.in, src/action.c, src/action.h, src/autoplace.c,
	src/autoplace.h, src/autoroute.c, src/autoroute.h, src/box.h,
	src/buffer.c, src/buffer.h, src/change.c, src/change.h,
	src/const.h, src/copy.c, src/copy.h, src/create.c, src/create.h,
	src/crosshair.c, src/crosshair.h, src/data.c, src/data.h,
	src/dev_ps.c, src/dev_rs274x.c, src/djopt.c, src/djopt.h,
	src/draw.c, src/drill.h, src/file.c, src/find.c, src/find.h,
	src/global.h, src/gui.c, src/gui.h, src/heap.h, src/insert.c,
	src/insert.h, src/intersect.c, src/intersect.h, src/kdtree.c,
	src/kdtree.h, src/macro.h, src/main.c, src/menu.c, src/mirror.c,
	src/mirror.h, src/misc.c, src/misc.h, src/move.c, src/move.h,
	src/mtspace.c, src/mtspace.h, src/netlist.c, src/netlist.h,
	src/output.c, src/output.h, src/parse_y.y, src/pinout.c,
	src/polygon.c, src/polygon.h, src/print.c, src/print.h, src/rats.c,
	src/report.c, src/rotate.c, src/rotate.h, src/rubberband.c,
	src/search.c, src/search.h, src/set.c, src/set.h, src/sizedialog.c,
	src/undo.c, src/undo.h, src/vector.h: Many changes to add 0.01 mil
	resolution

2004-01-02   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/change.c: Display pin/pad number when prompting for name

2004-01-02   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/draw.c: Minor correction to not attempt to write vertical null
	strings

2004-01-02   Dan McMahill * dan AT mcmahill dot net *

	* doc/refcard.tex: add missing RCS Id

2004-01-02   Dan McMahill * dan AT mcmahill dot net *

	* src/autoplace.c, src/autoplace.h, src/autoroute.c,
	src/autoroute.h, src/box.h, src/djopt.c, src/djopt.h, src/drill.h,
	src/gui.c, src/gui.h, src/heap.c, src/heap.h, src/intersect.c,
	src/intersect.h, src/kdtree.c, src/kdtree.h, src/mtspace.c,
	src/mtspace.h, src/netlist.c, src/netlist.h, src/rats.c,
	src/vector.c, src/vector.h: add missing RCS Id

2004-01-01   Dan McMahill * dan AT mcmahill dot net *

	* lib/smt.inc: - modify the 2 pad smt base definition to put the origin of the
	  footprint at the common centroid.  Useful both for driving pick and
	  place as noted in bug report 716519 and for centering a part on a
	grid.  - while here make sure the $1, $2, and $3 arguments to the various   macros are properly quoted.  This helps avoid some obscure bugs   with generated layouts from gEDA.

2004-01-01   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/draw.c: Font metrics need to be outside TO_DRAW() macros

2004-01-01   Dan McMahill * dan AT mcmahill dot net *

	* lib/smt.inc: fix some quoting

2004-01-01   Dan McMahill * dan AT mcmahill dot net *

	* lib/amphenol.inc: bump copyright date

2004-01-01   Dan McMahill * dan AT mcmahill dot net *

	* lib/amphenol.inc: properly pass down the arguments to the
	underlying macro for the PKG_AMPHENOL_ARFX123{0,1,2} packages

2004-01-01   Dan McMahill * dan AT mcmahill dot net *

	* doc/wishlist.txt: add element versioning and database of good
	elements

2004-01-01   Dan McMahill * dan AT mcmahill dot net *

	* doc/wishlist.txt: add a features wish list.  not sure if this is
	the best place for such a thing, but for now it'll do.

2003-12-31   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.in: regen after adding amp library

2003-12-31   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.am, lib/amp.inc, lib/common.m4: add Amp connector
	library.  Currently its populated with the 767054 series of Mictor
	connectors.

2003-12-31   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/menu.c: Fixed menu selection of metric grids: The
	C-preprocessor won't change string literals of course.

2003-12-31   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/Pcb.ad.in, src/const.h, src/draw.c, src/misc.c: Added vertical
	text support for pinout descriptions

2003-12-31   Dan McMahill * dan AT mcmahill dot net *

	* lib/smt.inc: with reverse order numbering in COMMON_SMT_DIL_MIL
	and COMMON_SMT_DIL_MM, make sure the pin number matches the pin
	name.

2003-12-31   Dan McMahill * dan AT mcmahill dot net *

	* lib/panasonic.inc: fix typo in a comment

2003-12-31   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc, lib/smt.inc: add SC70_3, SC70_4, SC70_5, and SC70_6
	footprints (the 3,4,5, and 6 pin SC70 family).

2003-12-31   Dan McMahill * dan AT mcmahill dot net *

	* lib/to.inc: rename the SOT23 and SOT323 footprints here to
	SOT23_CEL and SOT323_CEL to avoid a conflict with the ones defined
	in the geda library.  The "CEL" part reflects that the pin numbering
	is the one used by CEL which is different from what others seem to
	use.

2003-12-31   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.in: regen after adding panasonic library

2003-12-31   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.am, lib/common.m4, lib/panasonic.inc: Add the
	panasonic EXB series of chip resistor arrays.

2003-12-31   Dan McMahill * dan AT mcmahill dot net *

	* lib/smt.inc: deal with SMT DIL packages with an odd number of pads
	per side

2003-12-31   Dan McMahill * dan AT mcmahill dot net *

	* lib/smt.inc: add an extra argument to COMMON_SMT_DIL_MIL and
	COMMON_SMT_DIL_MM to allow the pins to go in the reverse order to
	deal with some non-standard pinouts like the mini-circuits KK81
	package.

2003-12-31   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.in: regen after adding minicircuits

2003-12-31   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.am, lib/common.m4, lib/minicircuits.inc: add several
	minicircuits packages

2003-12-30   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.in: regen after adding bourns library

2003-12-30   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc, lib/smt.inc: - add a handful of 3 pin SMT EMI filter footprints - add US* family of SMT packages.

2003-12-30   Dan McMahill * dan AT mcmahill dot net *

	* lib/connector.inc: add through hole test point footprint.

2003-12-30   Dan McMahill * dan AT mcmahill dot net *

	* lib/common.m4: include the bourns library

2003-12-30   Dan McMahill * dan AT mcmahill dot net *

	* lib/amphenol.inc, lib/amphenol.list, lib/amphenol.m4: add some
	more SMA connectors

2003-12-30   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.am, lib/bourns.inc: add bourns 3224G, 3224J, 3224W,
	and 3224X trim pots

2003-12-30   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: add note about the dangers of whitespace in .list
	files

2003-12-30   Dan McMahill * dan AT mcmahill dot net *

	* lib/amphenol.m4: correct capitalization for amphenol_ARFX1229

2003-12-30   Dan McMahill * dan AT mcmahill dot net *

	* lib/amphenol.list: remove extra whitespace at end of ARFX1229 line

2003-12-30   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.in: regen after adding amphenol library

2003-12-30   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.am, lib/amphenol.inc, lib/amphenol.list,
	lib/amphenol.m4, lib/common.m4: Add amphenol connectors.  Start out
	with the ARFX1229 SMA connector.

2003-12-30   Dan McMahill * dan AT mcmahill dot net *

	* lib/connector.inc, lib/geda.inc: add MTA100 connectors

2003-12-30   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c, src/autoplace.c, src/buffer.c, src/change.c,
	src/copy.c, src/create.c, src/crosshair.c, src/dev_ps.c,
	src/dev_rs274x.c, src/dialog.c, src/draw.c, src/drill.c,
	src/file.c, src/find.c, src/library.c, src/menu.c, src/mirror.c,
	src/misc.c, src/move.c, src/mymem.c, src/netlist.c, src/pinout.c,
	src/polygon.c, src/print.c, src/rats.c, src/remove.c, src/report.c,
	src/rotate.c, src/rubberband.c, src/search.c, src/select.c,
	src/set.c, src/undo.c: Ok, this complete the formating changes.
	Whew!

2003-12-29   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/file.c: Fixed another glitch during format change

2003-12-29   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/find.c: Fixed a polygon/polygon intersection bug where a wrong
	point index was used

2003-12-29   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/file.c: Restored accidentally deleted line during formating
	change.

2003-12-29   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/action.c, src/autoplace.c, src/buffer.c, src/change.c,
	src/command.c, src/control.c, src/copy.c, src/create.c,
	src/crosshair.c, src/dev_ps.c, src/dev_rs274x.c, src/dialog.c,
	src/draw.c, src/drill.c, src/error.c, src/file.c, src/fileselect.c,
	src/find.c, src/gui.c, src/insert.c, src/kdtree.c, src/lgdialog.c,
	src/library.c, src/log.c, src/main.c, src/menu.c, src/mirror.c,
	src/misc.c, src/move.c, src/mtspace.c, src/mymem.c, src/netlist.c,
	src/output.c, src/pinout.c, src/polygon.c, src/print.c,
	src/printdialog.c, src/printpanner.c, src/rats.c, src/remove.c,
	src/report.c, src/rotate.c, src/rubberband.c, src/search.c,
	src/select.c, src/set.c, src/sizedialog.c, src/undo.c, src/vector.c: 
	Cleaned up coding formating from long-ago indent diaster with _LOOP
	macros.  These should be formating changes only.

2003-12-28   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/insert.c, src/polygon.c, src/remove.c, src/search.c,
	src/search.h, src/undo.c: fixed polygon undo bugs; speed-up of undo
	operations

2003-12-26   DJ Delorie * dj AT delorie dot com *

	* src/djopt.c: Use the layer groups to determine which layers are
	solder and component.  Fix bugs in check2 and padcleaner where
	deleted lines weren't skipped.

2003-12-26   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/djopt.c: added undo capability for trace optimizations

2003-12-25   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/autoroute.c, src/copy.c, src/dev_rs274x.c, src/draw.c,
	src/find.c, src/macro.h, src/polygon.c, src/print.c,
	src/rubberband.c, src/undo.c: using macro LAYER_PTR(n) to go from
	layer number to pointer.  this simplifies the code a little bit

2003-12-25   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/move.c, src/remove.c: simplified ObjectMove undo serial number
	handling

2003-12-24   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/select.c: fixed bug where null F->Pad could be called (e.g.
	change drill size)

2003-12-22   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/netlist.c: Both ends of an added rat line must have named
	elements

2003-12-22   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/find.c, src/search.c: Fixed various DRC errors with arcs,
	square pads and square pins

2003-12-21   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/netlist.c: Disallow drawing rat-lines to unnamed elements;
	fixed a problem with netlist window being doubly disposed.

2003-12-20   Dan McMahill * dan AT mcmahill dot net *

	* lib/smt.inc: add -*- m4 -*-

2003-12-17   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.am, lib/Makefile.in, lib/common.m4,
	lib/gen_list.awk, lib/gen_m4.awk, lib/johnstech.inc: add footprints
	for Johnstech Evaluation Socket for QFN packages Johnstech Socket
	Part Numbers 724810 through 724839.  Note, the footprint has been
	checked by hand but not yet verified through fabrication.

2003-12-01   Dan McMahill * dan AT mcmahill dot net *

	* configure: regen after -R fix

2003-12-01   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: When trying out the various -R, --rpath, etc.
	compiler flags, actually try them out instead of just claiming to.
	Addresses part of bug report 850369 filed by Tom Saunders.

2003-11-29   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/crosshair.c: Allow snap to line end-points and vias when
	off-grid

2003-11-20   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/dev_rs274x.c: restored bug fixes that got lost, fixed some
	bugs and cleaned the code a little

2003-11-20   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/dev_rs274x.c: removed #include <varargs> that accidentally got
	in on the last commit

2003-11-19   Harry Eaton * haceaton AT users dot sourceforge dot net *

	* src/dev_rs274x.c, src/print.c: Changed print.c and dev_rs274x.c in
	order to provide negative image ground planes for gerber output when
	possible. Some fab vendors can't handle or charge extra for
	composite ground planes which is the motivation for this.  Negative
	image planes are made when (1) There are no lines, arcs, text, or
	pads on a layer and (2) There is exactly 1 polygon on the layer and (3) All vias/holes/pins pierce the polygon. The polygon is then
	assumed to consume all of the area and only the thermal reliefs and
	pin/via clearances are needed. haceaton 11/19/03

2003-11-13   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.in: regen

2003-11-13   Dan McMahill * dan AT mcmahill dot net *

	* doc/Makefile.am: add rules for creating postscript and png from a
	tgif drawing.  Needed for improved docs.

2003-11-13   Dan McMahill * dan AT mcmahill dot net *

	* config.h.in: regen after adding Xpm check

2003-11-13   Dan McMahill * dan AT mcmahill dot net *

	* src/print.c: Change how the polarity of the soldermask relief
	layer is handled.  The polarity is not changed but it now correctly
	works for postscript output as well as gerber output.  Previously
	the postscript output produced white on a white background or black
	on a black background.  This addresses PR 825680 filed by Russ Dill.

2003-11-08   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac: use AC_PATH_PROGS to search through a
	list of candidates for wish

2003-11-08   Dan McMahill * dan AT mcmahill dot net *

	* configure, src/Makefile.in, src/script/Makefile.in: regen after
	moving the pcb script to a subdirectory.

2003-11-08   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac, src/Makefile.am, src/pcb.in,
	src/script/Makefile.am, src/script/pcb.in: move the pcb script to a
	subdirectory to avoid name conflicts with the Pcb application
	default file on systems such as cygwin that are not case sensitive.

2003-11-08   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac: search for libXpm which is needed on
	cygwin libXaw

2003-11-08   Dan McMahill * dan AT mcmahill dot net *

	* configure, configure.ac: add a few more variants of wish (wish83,
	cygwish80, etc) to search for

2003-10-15   Dan McMahill * dan AT mcmahill dot net *

	* src/dev_rs274x.c: fix two bugs related to gerber file generation.
	The first bug is triggered when the first aperture used in a file is
	the same as the last aperture used in the previous file.  In this
	case the aperture selection code is missing from the output file.  The second bug is when the first point drawn has its Y coordinate
	(in PCB coordinates) equal to zero.  The output will be at gerber Y
	coordinate zero which is on the opposite side of the board.  Thanks to Gabriel Paubert (paubert at iram dot es) for noting these
	bugs and supplying a patch.

2003-10-13   Dan McMahill * dan AT mcmahill dot net *

	* src/report.c: correct the reporting of soldermask relief for pads
	and via's.  Patch provided by Gabriel Paubert, paubert at iram dot
	es on the geda-dev mailing list.

2003-10-11   Dan McMahill * dan AT mcmahill dot net *

	* src/report.c: show pad names in object report.  patch supplied in
	bug report 787711 by Olof Tangrot.

2003-10-11   Dan McMahill * dan AT mcmahill dot net *

	* src/cmask.grb, src/cpaste.grb, src/csilk.grb, src/pdrill.grb,
	src/smask.grb, src/spaste.grb, src/ssilk.grb, src/udrill.grb: remove
	some output files which should have never been in CVS.

2003-10-03   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.in: regen after qfn.inc additions

2003-10-03   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.am, lib/common.m4, lib/geda.inc, lib/qfn.inc: add 60
	members of the Quad Flat No-lead (QFN) package family.  Based on
	package drawings downloaded from www.maxim-ic.com and Intersil
	technical brief TB389.1 "PCB Land Pattern Desugn and Surface Mount
	Guidelines for QFN (MLFP) Packages".

2003-10-01   Dan McMahill * dan AT mcmahill dot net *

	* doc/Xdefaults.tgif, doc/pad.obj: add a figure to help with
	describing the pads.  Also add an Xresources file needed to convert
	the tgif drawing to png

2003-09-30   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: update copyright for last changes

2003-09-30   Dan McMahill * dan AT mcmahill dot net *

	* configure, example/Makefile.in, example/libraries/Makefile.in: 
	regen after example/libraries addition

2003-09-30   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac, example/Makefile.am: add example/libraries/Makefile

2003-09-30   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi, example/libraries/Makefile.am,
	example/libraries/example.inc, example/libraries/example.list,
	example/libraries/example.m4: Add two new chapters to the manual.
	The first attempts to provide some more documentation about library
	creation.  It includes a complete example of adding footprints using
	M4 style libraries as well as giving instructions on creating newlib
	style footprints.  The second added chapter shows how to take a
	design from start to finish using gEDA as the schematic capture and
	PCB as the layout tool.  This chapter still needs work, but early
	feedback is good and its better than no documentation.

2003-09-03   DJ Delorie * dj AT delorie dot com *

	* src/dev_ps.c, src/dev_rs274x.c, src/draw.c, src/drill.c,
	src/print.c, src/report.c: Add FAB drawing page.  Use thinner traces
	for larger fonts.

2003-09-03   Dan McMahill * dan AT mcmahill dot net *

	* aclocal.m4, configure: regen

2003-09-03   Dan McMahill * dan AT mcmahill dot net *

	* acinclude.m4, configure.ac: don't hardcode -lXaw in the FUNCPROTO
	and related tests.

2003-09-03   Dan McMahill * dan AT mcmahill dot net *

	* configure: regen

2003-09-03   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: add a --with-xaw= option that lets you select an
	alternative to Xaw.  For example, --with-xaw=Xaw3d will search for
	the Xaw3d library.

2003-09-03   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: add brief section about the trace optimizer.

2003-08-31   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc: change 'Square' to 'Rectangular' to the comment for
	the rectangular QFP section.

2003-08-30   Dan McMahill * dan AT mcmahill dot net *

	* lib/gen_geda_list.awk, lib/gen_geda_m4.awk: remove the lines which
	tried to copy the source file RCS Id to the generated files.  CVS
	broke this feature by expanding keywords on me.

2003-08-30   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.list, lib/geda.m4: these files are autogenerated now

2003-08-30   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc, lib/qfpdj.inc: rework the QFP packages fixing
	several bugs and greatly expanding the footprint database.  Patches
	supplied in bug report 785400 by Wojciech Kazubski.  Many thanks for
	the contribution!

2003-08-30   Dan McMahill * dan AT mcmahill dot net *

	* lib/common.m4: add qfpdj.inc to the include list

2003-08-30   Dan McMahill * dan AT mcmahill dot net *

	* lib/CreateLibraryContents.sh.in: when given a -I flag, look both
	there and the current directory for .list files.   Needed for
	building outside the source tree directory.

2003-08-30   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.am, lib/Makefile.in, lib/gen_geda_list.awk,
	lib/gen_geda_m4.awk: add scripts which autogenerate geda.m4 and
	geda.list from geda.inc.

2003-08-26   Dan McMahill * dan AT mcmahill dot net *

	* lib/geda.inc, lib/geda.list, lib/geda.m4, lib/plcc.inc: Add
	20,28,32 pin PLCC footprints, both unsocketed and socketed (through
	hole).  Provided in bug report 777539 by Troy Jacobson.

2003-08-23   DJ Delorie * dj AT delorie dot com *

	* src/djopt.c: Support however many layers are configured.

2003-08-16   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: add info-dir entry

2003-08-16   Dan McMahill * dan AT mcmahill dot net *

	* newlib/2_pin_thru-hole_packages/Makefile.in: regen

2003-08-16   Dan McMahill * dan AT mcmahill dot net *

	* newlib/2_pin_thru-hole_packages/Makefile.am: Makefile.am is not a
	library component so do not install it as one

2003-08-15   Dan McMahill * dan AT mcmahill dot net *

	* README.snapshots: add a note on creating snapshots

2003-08-15   Dan McMahill * dan AT mcmahill dot net *

	* doc/pcb.texi: add DJ and myself

2003-08-14   Dan McMahill * dan AT mcmahill dot net *

	* lib/lsi.list, lib/lsi.m4: Remove extra space in one of the pin
	names in AT90S2313_dil and add missing AT90S4434_dil AT90S8535_dil
	AT90S8535_plcc.  Patch provided in bug report 770829 by Daniel
	Mooney (dbmk).

2003-08-06   Dan McMahill * dan AT mcmahill dot net *

	* lib/texas_inst_voltage_reg.m4: fix parse error on uA7952C.  Patch
	provided in bug report 770829 by Daniel Mooney (dbmk).

2003-08-05   Dan McMahill * dan AT mcmahill dot net *

	* lib/texas_inst_amplifier.m4: fix parse errors in TL083 and ua747.
	Patch provided in bug report 770829 by Daniel Mooney (dbmk).

2003-08-05   Dan McMahill * dan AT mcmahill dot net *

	* lib/jerry.m4: fix parse errors on DS1225 and DS1230.  Patch
	provided in bug report 770829 by Daniel Mooney (dbmk).

2003-07-25   DJ Delorie * dj AT delorie dot com *

	* : second dummy commit

2003-07-20   Dan McMahill * dan AT mcmahill dot net *

	* README.cvs: note that autoconf 2.13 is not new enough and mention
	how to get the version

2003-07-20   DJ Delorie * dj AT delorie dot com *

	* src/dev_rs274x.c: polygon fills must have a defined aperture also

2003-07-20   DJ Delorie * dj AT delorie dot com *

	* src/dev_rs274x.c, src/print.c: Solder mask layers are reliefs and
	normally are positive prints.  Support inverted gerber plots.

2003-07-07   DJ Delorie * dj AT delorie dot com *

	* src/dev_rs274x.c: Properly scale outline and alignment.  Add
	segment to alignment to act as registration.

2003-07-06   DJ Delorie * dj AT delorie dot com *

	* src/report.c: Sort drill report by hole size, list total hole
	count.

2003-07-02   DJ Delorie * dj AT delorie dot com *

	* src/djopt.c: Fix off-by-one bug in handling bloat.  Be more
	careful about cleaning up traces within pads.

2003-07-01   DJ Delorie * dj AT delorie dot com *

	* src/sizedialog.c: The minimum size of a board should never be more
	than the current actual size of the board.

2003-06-25   DJ Delorie * dj AT delorie dot com *

	* src/Pcb.ad.in, src/change.c: Automatically set CLEARLINEFLAG if
	the user modifies the clearance.  Add keys for changing clearance by
	selection instead of pointer.

2003-06-22   DJ Delorie * dj AT delorie dot com *

	* src/Makefile.in: Regenerate with djopt.c

2003-06-22   DJ Delorie * dj AT delorie dot com *

	* src/action.c, src/const.h, src/crosshair.c, src/menu.c: Add
	orthogonal move feature

2003-06-22   DJ Delorie * dj AT delorie dot com *

	* src/Pcb.ad.in, src/action.c, src/const.h, src/draw.c, src/menu.c: 
	Add Thindraw

2003-06-22   DJ Delorie * dj AT delorie dot com *

	* src/Makefile.am, src/Pcb.ad.in, src/djopt.c, src/djopt.h,
	src/main.c, src/menu.c: Add trace optimizer.

2003-06-13   Dan McMahill * dan AT mcmahill dot net *

	* Makefile.in, aclocal.m4, config.h.in, configure, depcomp: add
	automake/conf output to make it easier for users to build

2003-06-13   Dan McMahill * dan AT mcmahill dot net *

	* README_FILES/Makefile.in, doc/Makefile.in, example/Makefile.in,
	lib/Makefile.in, newlib/2_pin_thru-hole_packages/Makefile.in,
	newlib/Makefile.in, newlib/analog-devices/Makefile.in,
	newlib/burr-brown/Makefile.in, newlib/connectors/Makefile.in,
	newlib/crystal/Makefile.in, newlib/cypress/Makefile.in,
	newlib/electro-optics/Makefile.in,
	newlib/generic_SMD_packages/Makefile.in,
	newlib/headers/Makefile.in, newlib/msp430/Makefile.in,
	newlib/not_vetted_ingo/Makefile.in, newlib/sockets/Makefile.in,
	newlib/tests/Makefile.in, newlib/toko/Makefile.in, src/Makefile.in,
	src/icons/Makefile.in, tools/Makefile.in, tutorial/Makefile.in: add
	the automake/conf generated files to make building from CVS sources
	easier for people.

2003-06-13   Dan McMahill * dan AT mcmahill dot net *

	* src/error.c: only declare sys_nerr if we're using the sys_errlist
	interface.  This fixes compilation on NetBSD/alpha using gcc-3.3.

2003-06-13   Dan McMahill * dan AT mcmahill dot net *

	* src/dev_rs274x.c: remove unused varargs.h header which breaks
	gcc-3.3 compilation

2003-06-05   Dan McMahill * dan AT mcmahill dot net *

	* src/action.c, src/menu.c: Allow '=' at the beginning of the zoom
	exponent to indicate an absolute number rather than a relative
	number.  This lets a value of "=-2" be used to indicate an absolute
	-2 while "-2" still indicates a relative -2.  Also correct the
	position of the check mark on the zoom menu.  Patch from DJ Delorie.

2003-05-26   Dan McMahill * dan AT mcmahill dot net *

	* src/file.c, src/fileselect.c, src/misc.c, src/misc.h: Fix a bug in
	the way the current working directory is found.  This caused the
	file dialog box to always start in the library tree directory.  In addition add a loop in ParseLibraryTree() to allow multiple
	newlib style directory tree's to be specified in the Xresource.
	This provides an easy way to have per-user and per-project library
	directories.  These directories may either be specified as an
	absolute or relative path.  Patches provided by Tony (droghedra at users dot sourceforge dot
	net) in bug report 736010 with minor changes by me.

2003-05-22   Dan McMahill * dan AT mcmahill dot net *

	* lib/Makefile.am: add missing rules.inc

2003-05-22   Dan McMahill * dan AT mcmahill dot net *

	* src/menu.c: add 2 more levels of zooming to the menu.  Inspired by
	an email from DJ Delorie on the gEDA mailing list.

2003-05-21   Dan McMahill * dan AT mcmahill dot net *

	* src/parse_l.l: change yy_current_buffer to YY_CURRENT_BUFFER.
	This addresses the build \ problem reported in bug 734403 and also
	agrees with the man page for \ flex-2.5.4.\ \ In addition add a
	%option yylineno to address part of bug 736010\ where the line
	number associated with a parse error is incorrectly\ displayed as 1.
	\

2003-05-20   Dan McMahill * dan AT mcmahill dot net *

	* lib/common.m4: add missing bga.inc and resistor_adjust.inc
	included.  The latter addresses part of bug report 734403.

2003-03-17   Dan McMahill * dan AT mcmahill dot net *

	* : remove spurious file which should not have been imported.  Noted
	 by Mark Becker.

2003-03-17   Dan McMahill * dan AT mcmahill dot net *

	* ...: remove spurious file which should not have been imported.
	Noted by Mark Becker.

2003-03-05   Dan McMahill * dan AT mcmahill dot net *

	* src/error.c: if strerror() is present on our system then use it
	instead of trying to use sys_errlist.  Patch from harry, with the
	check for strerror from me.

2003-03-05   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: move the strerror test up in the configure process
	so we don't need to link to the X libraries for the test.

2003-03-05   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: add check for strerror()

2003-02-24   Dan McMahill * dan AT mcmahill dot net *

	* src/autoroute.c: when checking for a NULL pointer compare to NULL
	rather than 0 for enhanced portability.

2003-02-21   Dan McMahill * dan AT mcmahill dot net *

	* configure.ac: bump to 1.99o since a 1.99n version was posted to
	the geda list.  We should avoid further updates to this version
	number until a release.  If users want snapshots, they can get them
	from CVS.

2003-02-21   Dan McMahill * dan AT mcmahill dot net *

	* src/kdtree.c: change c++ style comments to c style and remove the
	use of non-static initializers to allow the SunPRO c compiler to be
	able to compile this file.

2003-02-21   Dan McMahill * dan AT mcmahill dot net *

	* src/autoroute.c: coding style fixes to allow this to be compiled
	with the SunPRO c compiler.  Changes are moving from c++ style
	comments to c style comments and getting rid of non-static
	initializers.

2003-02-21   Dan McMahill * dan AT mcmahill dot net *

	* README.cvs: - add section on checking out via anoncvs and updating via anoncvs.  - point to INSTALL document for what to do afte bootstrapping the
	  auto* tools

2003-02-20   Dan McMahill * dan AT mcmahill dot net *

	* doc/Imakefile, doc/pcb.texi.in, doc/pcb.texi.raw,
	doc/refcard.tex.in, doc/refcard.tex.raw: remove obsolete files

2003-02-20   Dan McMahill * dan AT mcmahill dot net *

	* : these don't really belong in CVS.  The sources are in the doc/
	directory and they do get generated and put into the distfile when a
	release is made.

2003-02-20   Dan McMahill * dan AT mcmahill dot net *

	* : remove obsolete file (the contents live in pcb/newlib/ now

2003-02-20   Dan McMahill * dan AT mcmahill dot net *

	* lib/CreateLibrary.sh.raw, lib/CreateLibraryContents.sh.raw,
	lib/Imakefile, lib/QueryLibrary.sh.raw: remove obsolete files

2003-02-20   Dan McMahill * dan AT mcmahill dot net *

	* src/CreateSedScript.sh, src/Imakefile: remove obsolete files

2003-02-20   Dan McMahill * dan AT mcmahill dot net *

	* src/1.grb, src/2.grb, src/3.grb, src/4.grb, src/5.grb: remove
	unneeded output files

2003-02-20   Dan McMahill * dan AT mcmahill dot net *

	* Initial revision

